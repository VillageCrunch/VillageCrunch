var Xx=Object.defineProperty;var Zx=(e,t,r)=>t in e?Xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rs=(e,t,r)=>Zx(e,typeof t!="symbol"?t+"":t,r);function eg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Ql(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uh={exports:{}},Kl={},mh={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),tg=Symbol.for("react.portal"),sg=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),lg=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),cg=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),bu=Symbol.iterator;function ug(e){return e===null||typeof e!="object"?null:(e=bu&&e[bu]||e["@@iterator"],typeof e=="function"?e:null)}var hh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ph=Object.assign,fh={};function Gr(e,t,r){this.props=e,this.context=t,this.refs=fh,this.updater=r||hh}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xh(){}xh.prototype=Gr.prototype;function Nc(e,t,r){this.props=e,this.context=t,this.refs=fh,this.updater=r||hh}var kc=Nc.prototype=new xh;kc.constructor=Nc;ph(kc,Gr.prototype);kc.isPureReactComponent=!0;var wu=Array.isArray,gh=Object.prototype.hasOwnProperty,Sc={current:null},yh={key:!0,ref:!0,__self:!0,__source:!0};function vh(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)gh.call(t,n)&&!yh.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:na,type:e,key:l,ref:i,props:a,_owner:Sc.current}}function mg(e,t){return{$$typeof:na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===na}function hg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ju=/\/+/g;function Si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hg(""+e.key):t.toString(36)}function Ya(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case na:case tg:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Si(i,0):n,wu(a)?(r="",e!=null&&(r=e.replace(ju,"$&/")+"/"),Ya(a,t,r,"",function(d){return d})):a!=null&&(Cc(a)&&(a=mg(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(ju,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",wu(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+Si(l,o);i+=Ya(l,t,r,c,a)}else if(c=ug(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+Si(l,o++),i+=Ya(l,t,r,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ca(e,t,r){if(e==null)return e;var n=[],a=0;return Ya(e,n,"","",function(l){return t.call(r,l,a++)}),n}function pg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Ja={transition:null},fg={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:Sc};function bh(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ca,forEach:function(e,t,r){Ca(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!Cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Gr;ie.Fragment=sg;ie.Profiler=ng;ie.PureComponent=Nc;ie.StrictMode=rg;ie.Suspense=og;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fg;ie.act=bh;ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ph({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Sc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)gh.call(t,c)&&!yh.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:na,type:e.type,key:a,ref:l,props:n,_owner:i}};ie.createContext=function(e){return e={$$typeof:lg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ag,_context:e},e.Consumer=e};ie.createElement=vh;ie.createFactory=function(e){var t=vh.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:ig,render:e}};ie.isValidElement=Cc;ie.lazy=function(e){return{$$typeof:dg,_payload:{_status:-1,_result:e},_init:pg}};ie.memo=function(e,t){return{$$typeof:cg,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Ja.transition;Ja.transition={};try{e()}finally{Ja.transition=t}};ie.unstable_act=bh;ie.useCallback=function(e,t){return ct.current.useCallback(e,t)};ie.useContext=function(e){return ct.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};ie.useEffect=function(e,t){return ct.current.useEffect(e,t)};ie.useId=function(){return ct.current.useId()};ie.useImperativeHandle=function(e,t,r){return ct.current.useImperativeHandle(e,t,r)};ie.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return ct.current.useMemo(e,t)};ie.useReducer=function(e,t,r){return ct.current.useReducer(e,t,r)};ie.useRef=function(e){return ct.current.useRef(e)};ie.useState=function(e){return ct.current.useState(e)};ie.useSyncExternalStore=function(e,t,r){return ct.current.useSyncExternalStore(e,t,r)};ie.useTransition=function(){return ct.current.useTransition()};ie.version="18.3.1";mh.exports=ie;var f=mh.exports;const Jt=Ql(f),xg=eg({__proto__:null,default:Jt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=f,yg=Symbol.for("react.element"),vg=Symbol.for("react.fragment"),bg=Object.prototype.hasOwnProperty,wg=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jg={key:!0,ref:!0,__self:!0,__source:!0};function wh(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)bg.call(t,n)&&!jg.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:yg,type:e,key:l,ref:i,props:a,_owner:wg.current}}Kl.Fragment=vg;Kl.jsx=wh;Kl.jsxs=wh;uh.exports=Kl;var s=uh.exports,co={},jh={exports:{}},jt={},Nh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,I){var $=N.length;N.push(I);e:for(;0<$;){var B=$-1>>>1,Y=N[B];if(0<a(Y,I))N[B]=I,N[$]=Y,$=B;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var I=N[0],$=N.pop();if($!==I){N[0]=$;e:for(var B=0,Y=N.length,Ee=Y>>>1;B<Ee;){var ge=2*(B+1)-1,be=N[ge],Q=ge+1,we=N[Q];if(0>a(be,$))Q<Y&&0>a(we,be)?(N[B]=we,N[Q]=$,B=Q):(N[B]=be,N[ge]=$,B=ge);else if(Q<Y&&0>a(we,$))N[B]=we,N[Q]=$,B=Q;else break e}}return I}function a(N,I){var $=N.sortIndex-I.sortIndex;return $!==0?$:N.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],m=1,u=null,x=3,j=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var I=r(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=N)n(d),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(d)}}function S(N){if(b=!1,v(N),!y)if(r(c)!==null)y=!0,V(C);else{var I=r(d);I!==null&&z(S,I.startTime-N)}}function C(N,I){y=!1,b&&(b=!1,p(U),U=-1),j=!0;var $=x;try{for(v(I),u=r(c);u!==null&&(!(u.expirationTime>I)||N&&!te());){var B=u.callback;if(typeof B=="function"){u.callback=null,x=u.priorityLevel;var Y=B(u.expirationTime<=I);I=e.unstable_now(),typeof Y=="function"?u.callback=Y:u===r(c)&&n(c),v(I)}else n(c);u=r(c)}if(u!==null)var Ee=!0;else{var ge=r(d);ge!==null&&z(S,ge.startTime-I),Ee=!1}return Ee}finally{u=null,x=$,j=!1}}var _=!1,A=null,U=-1,T=5,O=-1;function te(){return!(e.unstable_now()-O<T)}function ae(){if(A!==null){var N=e.unstable_now();O=N;var I=!0;try{I=A(!0,N)}finally{I?oe():(_=!1,A=null)}}else _=!1}var oe;if(typeof g=="function")oe=function(){g(ae)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=ae,oe=function(){L.postMessage(null)}}else oe=function(){w(ae,0)};function V(N){A=N,_||(_=!0,oe())}function z(N,I){U=w(function(){N(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||j||(y=!0,V(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(N){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var $=x;x=I;try{return N()}finally{x=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,I){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=x;x=N;try{return I()}finally{x=$}},e.unstable_scheduleCallback=function(N,I,$){var B=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,N){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,N={id:m++,callback:I,priorityLevel:N,startTime:$,expirationTime:Y,sortIndex:-1},$>B?(N.sortIndex=$,t(d,N),r(c)===null&&N===r(d)&&(b?(p(U),U=-1):b=!0,z(S,$-B))):(N.sortIndex=Y,t(c,N),y||j||(y=!0,V(C))),N},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(N){var I=x;return function(){var $=x;x=I;try{return N.apply(this,arguments)}finally{x=$}}}})(kh);Nh.exports=kh;var Ng=Nh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=f,wt=Ng;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sh=new Set,Fn={};function mr(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(Fn[e]=t,e=0;e<t.length;e++)Sh.add(t[e])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,Sg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nu={},ku={};function Cg(e){return uo.call(ku,e)?!0:uo.call(Nu,e)?!1:Sg.test(e)?ku[e]=!0:(Nu[e]=!0,!1)}function Pg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Eg(e,t,r,n){if(t===null||typeof t>"u"||Pg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pc=/[\-:]([a-z])/g;function Ec(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pc,Ec);Ze[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pc,Ec);Ze[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pc,Ec);Ze[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tc(e,t,r,n){var a=Ze.hasOwnProperty(t)?Ze[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Eg(t,r,a,n)&&(r=null),n||a===null?Cg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ys=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),vr=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),Ac=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),Ch=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),po=Symbol.for("react.suspense_list"),Oc=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),Eh=Symbol.for("react.offscreen"),Su=Symbol.iterator;function un(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Ci;function jn(e){if(Ci===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ci=t&&t[1]||""}return`
`+Ci+e}var Pi=!1;function Ei(e,t){if(!e||Pi)return"";Pi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Pi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jn(e):""}function Tg(e){switch(e.tag){case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 2:case 15:return e=Ei(e.type,!1),e;case 11:return e=Ei(e.type.render,!1),e;case 1:return e=Ei(e.type,!0),e;default:return""}}function fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case br:return"Fragment";case vr:return"Portal";case mo:return"Profiler";case Ac:return"StrictMode";case ho:return"Suspense";case po:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ph:return(e.displayName||"Context")+".Consumer";case Ch:return(e._context.displayName||"Context")+".Provider";case Rc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oc:return t=e.displayName||null,t!==null?t:fo(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return fo(e(t))}catch{}}return null}function Ag(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fo(t);case 8:return t===Ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Th(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rg(e){var t=Th(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ea(e){e._valueTracker||(e._valueTracker=Rg(e))}function Ah(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Th(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xo(e,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rh(e,t){t=t.checked,t!=null&&Tc(e,"checked",t,!1)}function go(e,t){Rh(e,t);var r=zs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yo(e,t.type,r):t.hasOwnProperty("defaultValue")&&yo(e,t.type,zs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yo(e,t,r){(t!=="number"||xl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nn=Array.isArray;function Rr(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(Nn(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zs(r)}}function Oh(e,t){var r=zs(t.value),n=zs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Tu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _h(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_h(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ta,$h=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ln(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Og=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(e){Og.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cn[t]=Cn[e]})});function Ih(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cn.hasOwnProperty(e)&&Cn[e]?(""+t).trim():t+"px"}function Fh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Ih(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var _g=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(e,t){if(t){if(_g[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ko=null,Or=null,_r=null;function Au(e){if(e=ia(e)){if(typeof ko!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Zl(t),ko(e.stateNode,e.type,t))}}function Lh(e){Or?_r?_r.push(e):_r=[e]:Or=e}function Dh(){if(Or){var e=Or,t=_r;if(_r=Or=null,Au(e),t)for(e=0;e<t.length;e++)Au(t[e])}}function Mh(e,t){return e(t)}function zh(){}var Ti=!1;function Uh(e,t,r){if(Ti)return e(t,r);Ti=!0;try{return Mh(e,t,r)}finally{Ti=!1,(Or!==null||_r!==null)&&(zh(),Dh())}}function Dn(e,t){var r=e.stateNode;if(r===null)return null;var n=Zl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var So=!1;if(ms)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){So=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{So=!1}function $g(e,t,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var Pn=!1,gl=null,yl=!1,Co=null,Ig={onError:function(e){Pn=!0,gl=e}};function Fg(e,t,r,n,a,l,i,o,c){Pn=!1,gl=null,$g.apply(Ig,arguments)}function Lg(e,t,r,n,a,l,i,o,c){if(Fg.apply(this,arguments),Pn){if(Pn){var d=gl;Pn=!1,gl=null}else throw Error(D(198));yl||(yl=!0,Co=d)}}function hr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ru(e){if(hr(e)!==e)throw Error(D(188))}function Dg(e){var t=e.alternate;if(!t){if(t=hr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Ru(a),e;if(l===n)return Ru(a),t;l=l.sibling}throw Error(D(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function Hh(e){return e=Dg(e),e!==null?Vh(e):null}function Vh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vh(e);if(t!==null)return t;e=e.sibling}return null}var qh=wt.unstable_scheduleCallback,Ou=wt.unstable_cancelCallback,Mg=wt.unstable_shouldYield,zg=wt.unstable_requestPaint,_e=wt.unstable_now,Ug=wt.unstable_getCurrentPriorityLevel,$c=wt.unstable_ImmediatePriority,Wh=wt.unstable_UserBlockingPriority,vl=wt.unstable_NormalPriority,Bg=wt.unstable_LowPriority,Qh=wt.unstable_IdlePriority,Yl=null,Xt=null;function Hg(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Yl,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Wg,Vg=Math.log,qg=Math.LN2;function Wg(e){return e>>>=0,e===0?32:31-(Vg(e)/qg|0)|0}var Aa=64,Ra=4194304;function kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=kn(o):(l&=i,l!==0&&(n=kn(l)))}else i=r&~a,i!==0?n=kn(i):l!==0&&(n=kn(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mt(t),a=1<<r,n|=e[r],t&=~a;return n}function Qg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Mt(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=Qg(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kh(){var e=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),e}function Ai(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function aa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=r}function Yg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Mt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function Ic(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var xe=0;function Yh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jh,Fc,Gh,Xh,Zh,Eo=!1,Oa=[],Rs=null,Os=null,_s=null,Mn=new Map,zn=new Map,ks=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(e,t){switch(e){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(t.pointerId)}}function hn(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=ia(t),t!==null&&Fc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Gg(e,t,r,n,a){switch(t){case"focusin":return Rs=hn(Rs,e,t,r,n,a),!0;case"dragenter":return Os=hn(Os,e,t,r,n,a),!0;case"mouseover":return _s=hn(_s,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return Mn.set(l,hn(Mn.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,zn.set(l,hn(zn.get(l)||null,e,t,r,n,a)),!0}return!1}function ep(e){var t=Gs(e.target);if(t!==null){var r=hr(t);if(r!==null){if(t=r.tag,t===13){if(t=Bh(r),t!==null){e.blockedOn=t,Zh(e.priority,function(){Gh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=To(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);No=n,r.target.dispatchEvent(n),No=null}else return t=ia(r),t!==null&&Fc(t),e.blockedOn=r,!1;t.shift()}return!0}function $u(e,t,r){Ga(e)&&r.delete(t)}function Xg(){Eo=!1,Rs!==null&&Ga(Rs)&&(Rs=null),Os!==null&&Ga(Os)&&(Os=null),_s!==null&&Ga(_s)&&(_s=null),Mn.forEach($u),zn.forEach($u)}function pn(e,t){e.blockedOn===t&&(e.blockedOn=null,Eo||(Eo=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Xg)))}function Un(e){function t(a){return pn(a,e)}if(0<Oa.length){pn(Oa[0],e);for(var r=1;r<Oa.length;r++){var n=Oa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Rs!==null&&pn(Rs,e),Os!==null&&pn(Os,e),_s!==null&&pn(_s,e),Mn.forEach(t),zn.forEach(t),r=0;r<ks.length;r++)n=ks[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)ep(r),r.blockedOn===null&&ks.shift()}var $r=ys.ReactCurrentBatchConfig,wl=!0;function Zg(e,t,r,n){var a=xe,l=$r.transition;$r.transition=null;try{xe=1,Lc(e,t,r,n)}finally{xe=a,$r.transition=l}}function e0(e,t,r,n){var a=xe,l=$r.transition;$r.transition=null;try{xe=4,Lc(e,t,r,n)}finally{xe=a,$r.transition=l}}function Lc(e,t,r,n){if(wl){var a=To(e,t,r,n);if(a===null)zi(e,t,n,jl,r),_u(e,n);else if(Gg(a,e,t,r,n))n.stopPropagation();else if(_u(e,n),t&4&&-1<Jg.indexOf(e)){for(;a!==null;){var l=ia(a);if(l!==null&&Jh(l),l=To(e,t,r,n),l===null&&zi(e,t,n,jl,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else zi(e,t,n,null,r)}}var jl=null;function To(e,t,r,n){if(jl=null,e=_c(n),e=Gs(e),e!==null)if(t=hr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ug()){case $c:return 1;case Wh:return 4;case vl:case Bg:return 16;case Qh:return 536870912;default:return 16}default:return 16}}var Es=null,Dc=null,Xa=null;function sp(){if(Xa)return Xa;var e,t=Dc,r=t.length,n,a="value"in Es?Es.value:Es.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return Xa=a.slice(e,1<n?1-n:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function Iu(){return!1}function Nt(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?_a:Iu,this.isPropagationStopped=Iu,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=Nt(Xr),la=Pe({},Xr,{view:0,detail:0}),t0=Nt(la),Ri,Oi,fn,Jl=Pe({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(Ri=e.screenX-fn.screenX,Oi=e.screenY-fn.screenY):Oi=Ri=0,fn=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:Oi}}),Fu=Nt(Jl),s0=Pe({},Jl,{dataTransfer:0}),r0=Nt(s0),n0=Pe({},la,{relatedTarget:0}),_i=Nt(n0),a0=Pe({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),l0=Nt(a0),i0=Pe({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o0=Nt(i0),c0=Pe({},Xr,{data:0}),Lu=Nt(c0),d0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m0[e])?!!t[e]:!1}function zc(){return h0}var p0=Pe({},la,{key:function(e){if(e.key){var t=d0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f0=Nt(p0),x0=Pe({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=Nt(x0),g0=Pe({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),y0=Nt(g0),v0=Pe({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=Nt(v0),w0=Pe({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=Nt(w0),N0=[9,13,27,32],Uc=ms&&"CompositionEvent"in window,En=null;ms&&"documentMode"in document&&(En=document.documentMode);var k0=ms&&"TextEvent"in window&&!En,rp=ms&&(!Uc||En&&8<En&&11>=En),Mu=" ",zu=!1;function np(e,t){switch(e){case"keyup":return N0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function S0(e,t){switch(e){case"compositionend":return ap(t);case"keypress":return t.which!==32?null:(zu=!0,Mu);case"textInput":return e=t.data,e===Mu&&zu?null:e;default:return null}}function C0(e,t){if(wr)return e==="compositionend"||!Uc&&np(e,t)?(e=sp(),Xa=Dc=Es=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rp&&t.locale!=="ko"?null:t.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P0[e.type]:t==="textarea"}function lp(e,t,r,n){Lh(n),t=Nl(t,"onChange"),0<t.length&&(r=new Mc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tn=null,Bn=null;function E0(e){gp(e,0)}function Gl(e){var t=kr(e);if(Ah(t))return e}function T0(e,t){if(e==="change")return t}var ip=!1;if(ms){var $i;if(ms){var Ii="oninput"in document;if(!Ii){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),Ii=typeof Bu.oninput=="function"}$i=Ii}else $i=!1;ip=$i&&(!document.documentMode||9<document.documentMode)}function Hu(){Tn&&(Tn.detachEvent("onpropertychange",op),Bn=Tn=null)}function op(e){if(e.propertyName==="value"&&Gl(Bn)){var t=[];lp(t,Bn,e,_c(e)),Uh(E0,t)}}function A0(e,t,r){e==="focusin"?(Hu(),Tn=t,Bn=r,Tn.attachEvent("onpropertychange",op)):e==="focusout"&&Hu()}function R0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Bn)}function O0(e,t){if(e==="click")return Gl(t)}function _0(e,t){if(e==="input"||e==="change")return Gl(t)}function $0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:$0;function Hn(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!uo.call(t,a)||!Ut(e[a],t[a]))return!1}return!0}function Vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qu(e,t){var r=Vu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vu(r)}}function cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dp(){for(var e=window,t=xl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xl(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I0(e){var t=dp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cp(r.ownerDocument.documentElement,r)){if(n!==null&&Bc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=qu(r,l);var i=qu(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var F0=ms&&"documentMode"in document&&11>=document.documentMode,jr=null,Ao=null,An=null,Ro=!1;function Wu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ro||jr==null||jr!==xl(n)||(n=jr,"selectionStart"in n&&Bc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),An&&Hn(An,n)||(An=n,n=Nl(Ao,"onSelect"),0<n.length&&(t=new Mc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jr)))}function $a(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nr={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},Fi={},up={};ms&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Xl(e){if(Fi[e])return Fi[e];if(!Nr[e])return e;var t=Nr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in up)return Fi[e]=t[r];return e}var mp=Xl("animationend"),hp=Xl("animationiteration"),pp=Xl("animationstart"),fp=Xl("transitionend"),xp=new Map,Qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(e,t){xp.set(e,t),mr(t,[e])}for(var Li=0;Li<Qu.length;Li++){var Di=Qu[Li],L0=Di.toLowerCase(),D0=Di[0].toUpperCase()+Di.slice(1);Bs(L0,"on"+D0)}Bs(mp,"onAnimationEnd");Bs(hp,"onAnimationIteration");Bs(pp,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(fp,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sn));function Ku(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Lg(n,t,void 0,e),e.currentTarget=null}function gp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Ku(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Ku(a,o,d),l=c}}}if(yl)throw e=Co,yl=!1,Co=null,e}function je(e,t){var r=t[Fo];r===void 0&&(r=t[Fo]=new Set);var n=e+"__bubble";r.has(n)||(yp(t,e,2,!1),r.add(n))}function Mi(e,t,r){var n=0;t&&(n|=4),yp(r,e,n,t)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[Ia]){e[Ia]=!0,Sh.forEach(function(r){r!=="selectionchange"&&(M0.has(r)||Mi(r,!1,e),Mi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ia]||(t[Ia]=!0,Mi("selectionchange",!1,t))}}function yp(e,t,r,n){switch(tp(t)){case 1:var a=Zg;break;case 4:a=e0;break;default:a=Lc}r=a.bind(null,t,r,e),a=void 0,!So||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function zi(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Gs(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Uh(function(){var d=l,m=_c(r),u=[];e:{var x=xp.get(e);if(x!==void 0){var j=Mc,y=e;switch(e){case"keypress":if(Za(r)===0)break e;case"keydown":case"keyup":j=f0;break;case"focusin":y="focus",j=_i;break;case"focusout":y="blur",j=_i;break;case"beforeblur":case"afterblur":j=_i;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=y0;break;case mp:case hp:case pp:j=l0;break;case fp:j=b0;break;case"scroll":j=t0;break;case"wheel":j=j0;break;case"copy":case"cut":case"paste":j=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Du}var b=(t&4)!==0,w=!b&&e==="scroll",p=b?x!==null?x+"Capture":null:x;b=[];for(var g=d,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,p!==null&&(S=Dn(g,p),S!=null&&b.push(qn(g,S,v)))),w)break;g=g.return}0<b.length&&(x=new j(x,y,null,r,m),u.push({event:x,listeners:b}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",x&&r!==No&&(y=r.relatedTarget||r.fromElement)&&(Gs(y)||y[hs]))break e;if((j||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,j?(y=r.relatedTarget||r.toElement,j=d,y=y?Gs(y):null,y!==null&&(w=hr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(j=null,y=d),j!==y)){if(b=Fu,S="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=Du,S="onPointerLeave",p="onPointerEnter",g="pointer"),w=j==null?x:kr(j),v=y==null?x:kr(y),x=new b(S,g+"leave",j,r,m),x.target=w,x.relatedTarget=v,S=null,Gs(m)===d&&(b=new b(p,g+"enter",y,r,m),b.target=v,b.relatedTarget=w,S=b),w=S,j&&y)t:{for(b=j,p=y,g=0,v=b;v;v=xr(v))g++;for(v=0,S=p;S;S=xr(S))v++;for(;0<g-v;)b=xr(b),g--;for(;0<v-g;)p=xr(p),v--;for(;g--;){if(b===p||p!==null&&b===p.alternate)break t;b=xr(b),p=xr(p)}b=null}else b=null;j!==null&&Yu(u,x,j,b,!1),y!==null&&w!==null&&Yu(u,w,y,b,!0)}}e:{if(x=d?kr(d):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var C=T0;else if(Uu(x))if(ip)C=_0;else{C=R0;var _=A0}else(j=x.nodeName)&&j.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(C=O0);if(C&&(C=C(e,d))){lp(u,C,r,m);break e}_&&_(e,x,d),e==="focusout"&&(_=x._wrapperState)&&_.controlled&&x.type==="number"&&yo(x,"number",x.value)}switch(_=d?kr(d):window,e){case"focusin":(Uu(_)||_.contentEditable==="true")&&(jr=_,Ao=d,An=null);break;case"focusout":An=Ao=jr=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,Wu(u,r,m);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":Wu(u,r,m)}var A;if(Uc)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else wr?np(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(rp&&r.locale!=="ko"&&(wr||U!=="onCompositionStart"?U==="onCompositionEnd"&&wr&&(A=sp()):(Es=m,Dc="value"in Es?Es.value:Es.textContent,wr=!0)),_=Nl(d,U),0<_.length&&(U=new Lu(U,e,null,r,m),u.push({event:U,listeners:_}),A?U.data=A:(A=ap(r),A!==null&&(U.data=A)))),(A=k0?S0(e,r):C0(e,r))&&(d=Nl(d,"onBeforeInput"),0<d.length&&(m=new Lu("onBeforeInput","beforeinput",null,r,m),u.push({event:m,listeners:d}),m.data=A))}gp(u,t)})}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Dn(e,r),l!=null&&n.unshift(qn(e,l,a)),l=Dn(e,t),l!=null&&n.push(qn(e,l,a))),e=e.return}return n}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yu(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Dn(r,l),c!=null&&i.unshift(qn(r,c,o))):a||(c=Dn(r,l),c!=null&&i.push(qn(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var z0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Ju(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(U0,"")}function Fa(e,t,r){if(t=Ju(t),Ju(e)!==t&&r)throw Error(D(425))}function kl(){}var Oo=null,_o=null;function $o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,Gu=typeof Promise=="function"?Promise:void 0,H0=typeof queueMicrotask=="function"?queueMicrotask:typeof Gu<"u"?function(e){return Gu.resolve(null).then(e).catch(V0)}:Io;function V0(e){setTimeout(function(){throw e})}function Ui(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Un(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Un(t)}function $s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Zr,Wn="__reactProps$"+Zr,hs="__reactContainer$"+Zr,Fo="__reactEvents$"+Zr,q0="__reactListeners$"+Zr,W0="__reactHandles$"+Zr;function Gs(e){var t=e[Yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hs]||r[Yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xu(e);e!==null;){if(r=e[Yt])return r;e=Xu(e)}return t}e=r,r=e.parentNode}return null}function ia(e){return e=e[Yt]||e[hs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Zl(e){return e[Wn]||null}var Lo=[],Sr=-1;function Hs(e){return{current:e}}function Ne(e){0>Sr||(e.current=Lo[Sr],Lo[Sr]=null,Sr--)}function ve(e,t){Sr++,Lo[Sr]=e.current,e.current=t}var Us={},at=Hs(Us),ht=Hs(!1),ar=Us;function Br(e,t){var r=e.type.contextTypes;if(!r)return Us;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return e=e.childContextTypes,e!=null}function Sl(){Ne(ht),Ne(at)}function Zu(e,t,r){if(at.current!==Us)throw Error(D(168));ve(at,t),ve(ht,r)}function vp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(D(108,Ag(e)||"Unknown",a));return Pe({},r,n)}function Cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Us,ar=at.current,ve(at,e),ve(ht,ht.current),!0}function em(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=vp(e,t,ar),n.__reactInternalMemoizedMergedChildContext=e,Ne(ht),Ne(at),ve(at,e)):Ne(ht),ve(ht,r)}var ls=null,ei=!1,Bi=!1;function bp(e){ls===null?ls=[e]:ls.push(e)}function Q0(e){ei=!0,bp(e)}function Vs(){if(!Bi&&ls!==null){Bi=!0;var e=0,t=xe;try{var r=ls;for(xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ls=null,ei=!1}catch(a){throw ls!==null&&(ls=ls.slice(e+1)),qh($c,Vs),a}finally{xe=t,Bi=!1}}return null}var Cr=[],Pr=0,Pl=null,El=0,Ct=[],Pt=0,lr=null,os=1,cs="";function Ys(e,t){Cr[Pr++]=El,Cr[Pr++]=Pl,Pl=e,El=t}function wp(e,t,r){Ct[Pt++]=os,Ct[Pt++]=cs,Ct[Pt++]=lr,lr=e;var n=os;e=cs;var a=32-Mt(n)-1;n&=~(1<<a),r+=1;var l=32-Mt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,os=1<<32-Mt(t)+a|r<<a|n,cs=l+e}else os=1<<l|r<<a|n,cs=e}function Hc(e){e.return!==null&&(Ys(e,1),wp(e,1,0))}function Vc(e){for(;e===Pl;)Pl=Cr[--Pr],Cr[Pr]=null,El=Cr[--Pr],Cr[Pr]=null;for(;e===lr;)lr=Ct[--Pt],Ct[Pt]=null,cs=Ct[--Pt],Ct[Pt]=null,os=Ct[--Pt],Ct[Pt]=null}var bt=null,vt=null,ke=!1,Lt=null;function jp(e,t){var r=Et(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,vt=$s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lr!==null?{id:os,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Et(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bt=e,vt=null,!0):!1;default:return!1}}function Do(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mo(e){if(ke){var t=vt;if(t){var r=t;if(!tm(e,t)){if(Do(e))throw Error(D(418));t=$s(r.nextSibling);var n=bt;t&&tm(e,t)?jp(n,r):(e.flags=e.flags&-4097|2,ke=!1,bt=e)}}else{if(Do(e))throw Error(D(418));e.flags=e.flags&-4097|2,ke=!1,bt=e}}}function sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function La(e){if(e!==bt)return!1;if(!ke)return sm(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$o(e.type,e.memoizedProps)),t&&(t=vt)){if(Do(e))throw Np(),Error(D(418));for(;t;)jp(e,t),t=$s(t.nextSibling)}if(sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=$s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=bt?$s(e.stateNode.nextSibling):null;return!0}function Np(){for(var e=vt;e;)e=$s(e.nextSibling)}function Hr(){vt=bt=null,ke=!1}function qc(e){Lt===null?Lt=[e]:Lt.push(e)}var K0=ys.ReactCurrentBatchConfig;function xn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Da(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rm(e){var t=e._init;return t(e._payload)}function kp(e){function t(p,g){if(e){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function a(p,g){return p=Ds(p,g),p.index=0,p.sibling=null,p}function l(p,g,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,g,v,S){return g===null||g.tag!==6?(g=Yi(v,p.mode,S),g.return=p,g):(g=a(g,v),g.return=p,g)}function c(p,g,v,S){var C=v.type;return C===br?m(p,g,v.props.children,S,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===js&&rm(C)===g.type)?(S=a(g,v.props),S.ref=xn(p,g,v),S.return=p,S):(S=ll(v.type,v.key,v.props,null,p.mode,S),S.ref=xn(p,g,v),S.return=p,S)}function d(p,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ji(v,p.mode,S),g.return=p,g):(g=a(g,v.children||[]),g.return=p,g)}function m(p,g,v,S,C){return g===null||g.tag!==7?(g=rr(v,p.mode,S,C),g.return=p,g):(g=a(g,v),g.return=p,g)}function u(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Yi(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pa:return v=ll(g.type,g.key,g.props,null,p.mode,v),v.ref=xn(p,null,g),v.return=p,v;case vr:return g=Ji(g,p.mode,v),g.return=p,g;case js:var S=g._init;return u(p,S(g._payload),v)}if(Nn(g)||un(g))return g=rr(g,p.mode,v,null),g.return=p,g;Da(p,g)}return null}function x(p,g,v,S){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:o(p,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pa:return v.key===C?c(p,g,v,S):null;case vr:return v.key===C?d(p,g,v,S):null;case js:return C=v._init,x(p,g,C(v._payload),S)}if(Nn(v)||un(v))return C!==null?null:m(p,g,v,S,null);Da(p,v)}return null}function j(p,g,v,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(v)||null,o(g,p,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pa:return p=p.get(S.key===null?v:S.key)||null,c(g,p,S,C);case vr:return p=p.get(S.key===null?v:S.key)||null,d(g,p,S,C);case js:var _=S._init;return j(p,g,v,_(S._payload),C)}if(Nn(S)||un(S))return p=p.get(v)||null,m(g,p,S,C,null);Da(g,S)}return null}function y(p,g,v,S){for(var C=null,_=null,A=g,U=g=0,T=null;A!==null&&U<v.length;U++){A.index>U?(T=A,A=null):T=A.sibling;var O=x(p,A,v[U],S);if(O===null){A===null&&(A=T);break}e&&A&&O.alternate===null&&t(p,A),g=l(O,g,U),_===null?C=O:_.sibling=O,_=O,A=T}if(U===v.length)return r(p,A),ke&&Ys(p,U),C;if(A===null){for(;U<v.length;U++)A=u(p,v[U],S),A!==null&&(g=l(A,g,U),_===null?C=A:_.sibling=A,_=A);return ke&&Ys(p,U),C}for(A=n(p,A);U<v.length;U++)T=j(A,p,U,v[U],S),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?U:T.key),g=l(T,g,U),_===null?C=T:_.sibling=T,_=T);return e&&A.forEach(function(te){return t(p,te)}),ke&&Ys(p,U),C}function b(p,g,v,S){var C=un(v);if(typeof C!="function")throw Error(D(150));if(v=C.call(v),v==null)throw Error(D(151));for(var _=C=null,A=g,U=g=0,T=null,O=v.next();A!==null&&!O.done;U++,O=v.next()){A.index>U?(T=A,A=null):T=A.sibling;var te=x(p,A,O.value,S);if(te===null){A===null&&(A=T);break}e&&A&&te.alternate===null&&t(p,A),g=l(te,g,U),_===null?C=te:_.sibling=te,_=te,A=T}if(O.done)return r(p,A),ke&&Ys(p,U),C;if(A===null){for(;!O.done;U++,O=v.next())O=u(p,O.value,S),O!==null&&(g=l(O,g,U),_===null?C=O:_.sibling=O,_=O);return ke&&Ys(p,U),C}for(A=n(p,A);!O.done;U++,O=v.next())O=j(A,p,U,O.value,S),O!==null&&(e&&O.alternate!==null&&A.delete(O.key===null?U:O.key),g=l(O,g,U),_===null?C=O:_.sibling=O,_=O);return e&&A.forEach(function(ae){return t(p,ae)}),ke&&Ys(p,U),C}function w(p,g,v,S){if(typeof v=="object"&&v!==null&&v.type===br&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Pa:e:{for(var C=v.key,_=g;_!==null;){if(_.key===C){if(C=v.type,C===br){if(_.tag===7){r(p,_.sibling),g=a(_,v.props.children),g.return=p,p=g;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===js&&rm(C)===_.type){r(p,_.sibling),g=a(_,v.props),g.ref=xn(p,_,v),g.return=p,p=g;break e}r(p,_);break}else t(p,_);_=_.sibling}v.type===br?(g=rr(v.props.children,p.mode,S,v.key),g.return=p,p=g):(S=ll(v.type,v.key,v.props,null,p.mode,S),S.ref=xn(p,g,v),S.return=p,p=S)}return i(p);case vr:e:{for(_=v.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(p,g.sibling),g=a(g,v.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Ji(v,p.mode,S),g.return=p,p=g}return i(p);case js:return _=v._init,w(p,g,_(v._payload),S)}if(Nn(v))return y(p,g,v,S);if(un(v))return b(p,g,v,S);Da(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(p,g.sibling),g=a(g,v),g.return=p,p=g):(r(p,g),g=Yi(v,p.mode,S),g.return=p,p=g),i(p)):r(p,g)}return w}var Vr=kp(!0),Sp=kp(!1),Tl=Hs(null),Al=null,Er=null,Wc=null;function Qc(){Wc=Er=Al=null}function Kc(e){var t=Tl.current;Ne(Tl),e._currentValue=t}function zo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ir(e,t){Al=e,Wc=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Wc!==e)if(e={context:e,memoizedValue:t,next:null},Er===null){if(Al===null)throw Error(D(308));Er=e,Al.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return t}var Xs=null;function Yc(e){Xs===null?Xs=[e]:Xs.push(e)}function Cp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Yc(t)):(r.next=a.next,a.next=r),t.interleaved=r,ps(e,n)}function ps(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ns=!1;function Jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Is(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ue&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ps(e,r)}return a=n.interleaved,a===null?(t.next=t,Yc(n)):(t.next=a.next,a.next=t),n.interleaved=t,ps(e,r)}function el(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ic(e,r)}}function nm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rl(e,t,r,n){var a=e.updateQueue;Ns=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==i&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(l!==null){var u=a.baseState;i=0,m=d=c=null,o=l;do{var x=o.lane,j=o.eventTime;if((n&x)===x){m!==null&&(m=m.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,b=o;switch(x=t,j=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){u=y.call(j,u,x);break e}u=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,x=typeof y=="function"?y.call(j,u,x):y,x==null)break e;u=Pe({},u,x);break e;case 2:Ns=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else j={eventTime:j,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=j,c=u):m=m.next=j,i|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(m===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);or|=i,e.lanes=i,e.memoizedState=u}}function am(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(D(191,a));a.call(n)}}}var oa={},Zt=Hs(oa),Qn=Hs(oa),Kn=Hs(oa);function Zs(e){if(e===oa)throw Error(D(174));return e}function Gc(e,t){switch(ve(Kn,t),ve(Qn,e),ve(Zt,oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bo(t,e)}Ne(Zt),ve(Zt,t)}function qr(){Ne(Zt),Ne(Qn),Ne(Kn)}function Ep(e){Zs(Kn.current);var t=Zs(Zt.current),r=bo(t,e.type);t!==r&&(ve(Qn,e),ve(Zt,r))}function Xc(e){Qn.current===e&&(Ne(Zt),Ne(Qn))}var Se=Hs(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hi=[];function Zc(){for(var e=0;e<Hi.length;e++)Hi[e]._workInProgressVersionPrimary=null;Hi.length=0}var tl=ys.ReactCurrentDispatcher,Vi=ys.ReactCurrentBatchConfig,ir=0,Ce=null,Ve=null,Ke=null,_l=!1,Rn=!1,Yn=0,Y0=0;function et(){throw Error(D(321))}function ed(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ut(e[r],t[r]))return!1;return!0}function td(e,t,r,n,a,l){if(ir=l,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?Z0:ey,e=r(n,a),Rn){l=0;do{if(Rn=!1,Yn=0,25<=l)throw Error(D(301));l+=1,Ke=Ve=null,t.updateQueue=null,tl.current=ty,e=r(n,a)}while(Rn)}if(tl.current=$l,t=Ve!==null&&Ve.next!==null,ir=0,Ke=Ve=Ce=null,_l=!1,t)throw Error(D(300));return e}function sd(){var e=Yn!==0;return Yn=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ce.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Rt(){if(Ve===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?Ce.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(D(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?Ce.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Jn(e,t){return typeof t=="function"?t(e):t}function qi(e){var t=Rt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=Ve,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var m=d.lane;if((ir&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=u,i=n):c=c.next=u,Ce.lanes|=m,or|=m}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,Ut(n,t.memoizedState)||(mt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,Ce.lanes|=l,or|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wi(e){var t=Rt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Ut(l,t.memoizedState)||(mt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Tp(){}function Ap(e,t){var r=Ce,n=Rt(),a=t(),l=!Ut(n.memoizedState,a);if(l&&(n.memoizedState=a,mt=!0),n=n.queue,rd(_p.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,Gn(9,Op.bind(null,r,n,a,t),void 0,null),Je===null)throw Error(D(349));ir&30||Rp(r,t,a)}return a}function Rp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Op(e,t,r,n){t.value=r,t.getSnapshot=n,$p(t)&&Ip(e)}function _p(e,t,r){return r(function(){$p(t)&&Ip(e)})}function $p(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ut(e,r)}catch{return!0}}function Ip(e){var t=ps(e,1);t!==null&&zt(t,e,1,-1)}function lm(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},t.queue=e,e=e.dispatch=X0.bind(null,Ce,e),[t.memoizedState,e]}function Gn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Fp(){return Rt().memoizedState}function sl(e,t,r,n){var a=Kt();Ce.flags|=e,a.memoizedState=Gn(1|t,r,void 0,n===void 0?null:n)}function ti(e,t,r,n){var a=Rt();n=n===void 0?null:n;var l=void 0;if(Ve!==null){var i=Ve.memoizedState;if(l=i.destroy,n!==null&&ed(n,i.deps)){a.memoizedState=Gn(t,r,l,n);return}}Ce.flags|=e,a.memoizedState=Gn(1|t,r,l,n)}function im(e,t){return sl(8390656,8,e,t)}function rd(e,t){return ti(2048,8,e,t)}function Lp(e,t){return ti(4,2,e,t)}function Dp(e,t){return ti(4,4,e,t)}function Mp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zp(e,t,r){return r=r!=null?r.concat([e]):null,ti(4,4,Mp.bind(null,t,e),r)}function nd(){}function Up(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ed(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bp(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ed(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hp(e,t,r){return ir&21?(Ut(r,t)||(r=Kh(),Ce.lanes|=r,or|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r)}function J0(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var n=Vi.transition;Vi.transition={};try{e(!1),t()}finally{xe=r,Vi.transition=n}}function Vp(){return Rt().memoizedState}function G0(e,t,r){var n=Ls(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qp(e))Wp(t,r);else if(r=Cp(e,t,r,n),r!==null){var a=ot();zt(r,e,n,a),Qp(r,t,n)}}function X0(e,t,r){var n=Ls(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qp(e))Wp(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ut(o,i)){var c=t.interleaved;c===null?(a.next=a,Yc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Cp(e,t,a,n),r!==null&&(a=ot(),zt(r,e,n,a),Qp(r,t,n))}}function qp(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Wp(e,t){Rn=_l=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ic(e,r)}}var $l={readContext:At,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Z0={readContext:At,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:im,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sl(4194308,4,Mp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var r=Kt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=G0.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:nd,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=J0.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,a=Kt();if(ke){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),Je===null)throw Error(D(349));ir&30||Rp(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,im(_p.bind(null,n,l,e),[e]),n.flags|=2048,Gn(9,Op.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Kt(),t=Je.identifierPrefix;if(ke){var r=cs,n=os;r=(n&~(1<<32-Mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Y0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ey={readContext:At,useCallback:Up,useContext:At,useEffect:rd,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Dp,useMemo:Bp,useReducer:qi,useRef:Fp,useState:function(){return qi(Jn)},useDebugValue:nd,useDeferredValue:function(e){var t=Rt();return Hp(t,Ve.memoizedState,e)},useTransition:function(){var e=qi(Jn)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Ap,useId:Vp,unstable_isNewReconciler:!1},ty={readContext:At,useCallback:Up,useContext:At,useEffect:rd,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Dp,useMemo:Bp,useReducer:Wi,useRef:Fp,useState:function(){return Wi(Jn)},useDebugValue:nd,useDeferredValue:function(e){var t=Rt();return Ve===null?t.memoizedState=e:Hp(t,Ve.memoizedState,e)},useTransition:function(){var e=Wi(Jn)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Ap,useId:Vp,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Uo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var si={isMounted:function(e){return(e=e._reactInternals)?hr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ot(),a=Ls(e),l=ds(n,a);l.payload=t,r!=null&&(l.callback=r),t=Is(e,l,a),t!==null&&(zt(t,e,a,n),el(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ot(),a=Ls(e),l=ds(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Is(e,l,a),t!==null&&(zt(t,e,a,n),el(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ot(),n=Ls(e),a=ds(r,n);a.tag=2,t!=null&&(a.callback=t),t=Is(e,a,n),t!==null&&(zt(t,e,n,r),el(t,e,n))}};function om(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Hn(r,n)||!Hn(a,l):!0}function Kp(e,t,r){var n=!1,a=Us,l=t.contextType;return typeof l=="object"&&l!==null?l=At(l):(a=pt(t)?ar:at.current,n=t.contextTypes,l=(n=n!=null)?Br(e,a):Us),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function cm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function Bo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Jc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=At(l):(l=pt(t)?ar:at.current,a.context=Br(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Uo(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&si.enqueueReplaceState(a,a.state,null),Rl(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var r="",n=t;do r+=Tg(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Qi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ho(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sy=typeof WeakMap=="function"?WeakMap:Map;function Yp(e,t,r){r=ds(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fl||(Fl=!0,Zo=n),Ho(e,t)},r}function Jp(e,t,r){r=ds(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ho(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Ho(e,t),typeof n!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function dm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sy;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=xy.bind(null,e,t,r),t.then(e,e))}function um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mm(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ds(-1,1),t.tag=2,Is(r,t,1))),r.lanes|=1),e)}var ry=ys.ReactCurrentOwner,mt=!1;function it(e,t,r,n){t.child=e===null?Sp(t,null,r,n):Vr(t,e.child,r,n)}function hm(e,t,r,n,a){r=r.render;var l=t.ref;return Ir(t,a),n=td(e,t,r,n,l,a),r=sd(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(ke&&r&&Hc(t),t.flags|=1,it(e,t,n,a),t.child)}function pm(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!md(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Gp(e,t,l,n,a)):(e=ll(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Hn,r(i,n)&&e.ref===t.ref)return fs(e,t,a)}return t.flags|=1,e=Ds(l,n),e.ref=t.ref,e.return=t,t.child=e}function Gp(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(Hn(l,n)&&e.ref===t.ref)if(mt=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,fs(e,t,a)}return Vo(e,t,r,n,a)}function Xp(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Ar,yt),yt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Ar,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ve(Ar,yt),yt|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ve(Ar,yt),yt|=n;return it(e,t,a,r),t.child}function Zp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vo(e,t,r,n,a){var l=pt(r)?ar:at.current;return l=Br(t,l),Ir(t,a),r=td(e,t,r,n,l,a),n=sd(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(ke&&n&&Hc(t),t.flags|=1,it(e,t,r,a),t.child)}function fm(e,t,r,n,a){if(pt(r)){var l=!0;Cl(t)}else l=!1;if(Ir(t,a),t.stateNode===null)rl(e,t),Kp(t,r,n),Bo(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=At(d):(d=pt(r)?ar:at.current,d=Br(t,d));var m=r.getDerivedStateFromProps,u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&cm(t,i,n,d),Ns=!1;var x=t.memoizedState;i.state=x,Rl(t,n,i,a),c=t.memoizedState,o!==n||x!==c||ht.current||Ns?(typeof m=="function"&&(Uo(t,r,m,n),c=t.memoizedState),(o=Ns||om(t,r,o,n,x,c,d))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Pp(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:It(t.type,o),i.props=d,u=t.pendingProps,x=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=At(c):(c=pt(r)?ar:at.current,c=Br(t,c));var j=r.getDerivedStateFromProps;(m=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==u||x!==c)&&cm(t,i,n,c),Ns=!1,x=t.memoizedState,i.state=x,Rl(t,n,i,a);var y=t.memoizedState;o!==u||x!==y||ht.current||Ns?(typeof j=="function"&&(Uo(t,r,j,n),y=t.memoizedState),(d=Ns||om(t,r,d,n,x,y,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return qo(e,t,r,n,l,a)}function qo(e,t,r,n,a,l){Zp(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&em(t,r,!1),fs(e,t,l);n=t.stateNode,ry.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Vr(t,e.child,null,l),t.child=Vr(t,null,o,l)):it(e,t,o,l),t.memoizedState=n.state,a&&em(t,r,!0),t.child}function ef(e){var t=e.stateNode;t.pendingContext?Zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zu(e,t.context,!1),Gc(e,t.containerInfo)}function xm(e,t,r,n,a){return Hr(),qc(a),t.flags|=256,it(e,t,r,n),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function tf(e,t,r){var n=t.pendingProps,a=Se.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ve(Se,a&1),e===null)return Mo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ai(i,n,0,null),e=rr(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Qo(r),t.memoizedState=Wo,e):ad(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return ny(e,t,i,n,o,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ds(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Ds(o,l):(l=rr(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?Qo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=Wo,n}return l=e.child,e=l.sibling,n=Ds(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ad(e,t){return t=ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ma(e,t,r,n){return n!==null&&qc(n),Vr(t,e.child,null,r),e=ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ny(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=Qi(Error(D(422))),Ma(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=ai({mode:"visible",children:n.children},a,0,null),l=rr(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Vr(t,e.child,null,i),t.child.memoizedState=Qo(i),t.memoizedState=Wo,l);if(!(t.mode&1))return Ma(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(D(419)),n=Qi(l,n,void 0),Ma(e,t,i,n)}if(o=(i&e.childLanes)!==0,mt||o){if(n=Je,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,ps(e,a),zt(n,e,a,-1))}return ud(),n=Qi(Error(D(421))),Ma(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=gy.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,vt=$s(a.nextSibling),bt=t,ke=!0,Lt=null,e!==null&&(Ct[Pt++]=os,Ct[Pt++]=cs,Ct[Pt++]=lr,os=e.id,cs=e.overflow,lr=t),t=ad(t,n.children),t.flags|=4096,t)}function gm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zo(e.return,t,r)}function Ki(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function sf(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(it(e,t,n.children,r),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,r,t);else if(e.tag===19)gm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(Se,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ol(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ki(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ol(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ki(t,!0,r,null,l);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=Ds(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ds(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ay(e,t,r){switch(t.tag){case 3:ef(t),Hr();break;case 5:Ep(t);break;case 1:pt(t.type)&&Cl(t);break;case 4:Gc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ve(Tl,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?tf(e,t,r):(ve(Se,Se.current&1),e=fs(e,t,r),e!==null?e.sibling:null);ve(Se,Se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sf(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ve(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,Xp(e,t,r)}return fs(e,t,r)}var rf,Ko,nf,af;rf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ko=function(){};nf=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Zs(Zt.current);var l=null;switch(r){case"input":a=xo(e,a),n=xo(e,n),l=[];break;case"select":a=Pe({},a,{value:void 0}),n=Pe({},n,{value:void 0}),l=[];break;case"textarea":a=vo(e,a),n=vo(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=kl)}wo(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fn.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&je("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};af=function(e,t,r,n){r!==n&&(t.flags|=4)};function gn(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ly(e,t,r){var n=t.pendingProps;switch(Vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return pt(t.type)&&Sl(),tt(t),null;case 3:return n=t.stateNode,qr(),Ne(ht),Ne(at),Zc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(sc(Lt),Lt=null))),Ko(e,t),tt(t),null;case 5:Xc(t);var a=Zs(Kn.current);if(r=t.type,e!==null&&t.stateNode!=null)nf(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return tt(t),null}if(e=Zs(Zt.current),La(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[Yt]=t,n[Wn]=l,e=(t.mode&1)!==0,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(a=0;a<Sn.length;a++)je(Sn[a],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":Cu(n,l),je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},je("invalid",n);break;case"textarea":Eu(n,l),je("invalid",n)}wo(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Fa(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Fa(n.textContent,o,e),a=["children",""+o]):Fn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&je("scroll",n)}switch(r){case"input":Ea(n),Pu(n,l,!0);break;case"textarea":Ea(n),Tu(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=kl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_h(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Yt]=t,e[Wn]=n,rf(e,t,!1,!1),t.stateNode=e;e:{switch(i=jo(r,n),r){case"dialog":je("cancel",e),je("close",e),a=n;break;case"iframe":case"object":case"embed":je("load",e),a=n;break;case"video":case"audio":for(a=0;a<Sn.length;a++)je(Sn[a],e);a=n;break;case"source":je("error",e),a=n;break;case"img":case"image":case"link":je("error",e),je("load",e),a=n;break;case"details":je("toggle",e),a=n;break;case"input":Cu(e,n),a=xo(e,n),je("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Pe({},n,{value:void 0}),je("invalid",e);break;case"textarea":Eu(e,n),a=vo(e,n),je("invalid",e);break;default:a=n}wo(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Fh(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$h(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ln(e,c):typeof c=="number"&&Ln(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Fn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&je("scroll",e):c!=null&&Tc(e,l,c,i))}switch(r){case"input":Ea(e),Pu(e,n,!1);break;case"textarea":Ea(e),Tu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zs(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Rr(e,!!n.multiple,l,!1):n.defaultValue!=null&&Rr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=kl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)af(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=Zs(Kn.current),Zs(Zt.current),La(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yt]=t,(l=n.nodeValue!==r)&&(e=bt,e!==null))switch(e.tag){case 3:Fa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fa(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yt]=t,t.stateNode=n}return tt(t),null;case 13:if(Ne(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&vt!==null&&t.mode&1&&!(t.flags&128))Np(),Hr(),t.flags|=98560,l=!1;else if(l=La(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[Yt]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),l=!1}else Lt!==null&&(sc(Lt),Lt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?qe===0&&(qe=3):ud())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return qr(),Ko(e,t),e===null&&Vn(t.stateNode.containerInfo),tt(t),null;case 10:return Kc(t.type._context),tt(t),null;case 17:return pt(t.type)&&Sl(),tt(t),null;case 19:if(Ne(Se),l=t.memoizedState,l===null)return tt(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)gn(l,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ol(e),i!==null){for(t.flags|=128,gn(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Se,Se.current&1|2),t.child}e=e.sibling}l.tail!==null&&_e()>Qr&&(t.flags|=128,n=!0,gn(l,!1),t.lanes=4194304)}else{if(!n)if(e=Ol(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ke)return tt(t),null}else 2*_e()-l.renderingStartTime>Qr&&r!==1073741824&&(t.flags|=128,n=!0,gn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=_e(),t.sibling=null,r=Se.current,ve(Se,n?r&1|2:r&1),t):(tt(t),null);case 22:case 23:return dd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function iy(e,t){switch(Vc(t),t.tag){case 1:return pt(t.type)&&Sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),Ne(ht),Ne(at),Zc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xc(t),null;case 13:if(Ne(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Se),null;case 4:return qr(),null;case 10:return Kc(t.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var za=!1,st=!1,oy=typeof WeakSet=="function"?WeakSet:Set,q=null;function Tr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ae(e,t,n)}else r.current=null}function Yo(e,t,r){try{r()}catch(n){Ae(e,t,n)}}var ym=!1;function cy(e,t){if(Oo=wl,e=dp(),Bc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,m=0,u=e,x=null;t:for(;;){for(var j;u!==r||a!==0&&u.nodeType!==3||(o=i+a),u!==l||n!==0&&u.nodeType!==3||(c=i+n),u.nodeType===3&&(i+=u.nodeValue.length),(j=u.firstChild)!==null;)x=u,u=j;for(;;){if(u===e)break t;if(x===r&&++d===a&&(o=i),x===l&&++m===n&&(c=i),(j=u.nextSibling)!==null)break;u=x,x=u.parentNode}u=j}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_o={focusedElem:e,selectionRange:r},wl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:It(t.type,b),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){Ae(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return y=ym,ym=!1,y}function On(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Yo(t,r,l)}a=a.next}while(a!==n)}}function ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Wn],delete t[Fo],delete t[q0],delete t[W0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function of(e){return e.tag===5||e.tag===3||e.tag===4}function vm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=kl));else if(n!==4&&(e=e.child,e!==null))for(Go(e,t,r),e=e.sibling;e!==null;)Go(e,t,r),e=e.sibling}function Xo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xo(e,t,r),e=e.sibling;e!==null;)Xo(e,t,r),e=e.sibling}var Ge=null,Ft=!1;function ws(e,t,r){for(r=r.child;r!==null;)cf(e,t,r),r=r.sibling}function cf(e,t,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Yl,r)}catch{}switch(r.tag){case 5:st||Tr(r,t);case 6:var n=Ge,a=Ft;Ge=null,ws(e,t,r),Ge=n,Ft=a,Ge!==null&&(Ft?(e=Ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ge.removeChild(r.stateNode));break;case 18:Ge!==null&&(Ft?(e=Ge,r=r.stateNode,e.nodeType===8?Ui(e.parentNode,r):e.nodeType===1&&Ui(e,r),Un(e)):Ui(Ge,r.stateNode));break;case 4:n=Ge,a=Ft,Ge=r.stateNode.containerInfo,Ft=!0,ws(e,t,r),Ge=n,Ft=a;break;case 0:case 11:case 14:case 15:if(!st&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Yo(r,t,i),a=a.next}while(a!==n)}ws(e,t,r);break;case 1:if(!st&&(Tr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ae(r,t,o)}ws(e,t,r);break;case 21:ws(e,t,r);break;case 22:r.mode&1?(st=(n=st)||r.memoizedState!==null,ws(e,t,r),st=n):ws(e,t,r);break;default:ws(e,t,r)}}function bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new oy),t.forEach(function(n){var a=yy.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function $t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ge=o.stateNode,Ft=!1;break e;case 3:Ge=o.stateNode.containerInfo,Ft=!0;break e;case 4:Ge=o.stateNode.containerInfo,Ft=!0;break e}o=o.return}if(Ge===null)throw Error(D(160));cf(l,i,a),Ge=null,Ft=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ae(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Wt(e),n&4){try{On(3,e,e.return),ri(3,e)}catch(b){Ae(e,e.return,b)}try{On(5,e,e.return)}catch(b){Ae(e,e.return,b)}}break;case 1:$t(t,e),Wt(e),n&512&&r!==null&&Tr(r,r.return);break;case 5:if($t(t,e),Wt(e),n&512&&r!==null&&Tr(r,r.return),e.flags&32){var a=e.stateNode;try{Ln(a,"")}catch(b){Ae(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Rh(a,l),jo(o,i);var d=jo(o,l);for(i=0;i<c.length;i+=2){var m=c[i],u=c[i+1];m==="style"?Fh(a,u):m==="dangerouslySetInnerHTML"?$h(a,u):m==="children"?Ln(a,u):Tc(a,m,u,d)}switch(o){case"input":go(a,l);break;case"textarea":Oh(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?Rr(a,!!l.multiple,j,!1):x!==!!l.multiple&&(l.defaultValue!=null?Rr(a,!!l.multiple,l.defaultValue,!0):Rr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Wn]=l}catch(b){Ae(e,e.return,b)}}break;case 6:if($t(t,e),Wt(e),n&4){if(e.stateNode===null)throw Error(D(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(b){Ae(e,e.return,b)}}break;case 3:if($t(t,e),Wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Un(t.containerInfo)}catch(b){Ae(e,e.return,b)}break;case 4:$t(t,e),Wt(e);break;case 13:$t(t,e),Wt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(od=_e())),n&4&&bm(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(st=(d=st)||m,$t(t,e),st=d):$t(t,e),Wt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(q=e,m=e.child;m!==null;){for(u=q=m;q!==null;){switch(x=q,j=x.child,x.tag){case 0:case 11:case 14:case 15:On(4,x,x.return);break;case 1:Tr(x,x.return);var y=x.stateNode;if(typeof y.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Ae(n,r,b)}}break;case 5:Tr(x,x.return);break;case 22:if(x.memoizedState!==null){jm(u);continue}}j!==null?(j.return=x,q=j):jm(u)}m=m.sibling}e:for(m=null,u=e;;){if(u.tag===5){if(m===null){m=u;try{a=u.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=u.stateNode,c=u.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ih("display",i))}catch(b){Ae(e,e.return,b)}}}else if(u.tag===6){if(m===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(b){Ae(e,e.return,b)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:$t(t,e),Wt(e),n&4&&bm(e);break;case 21:break;default:$t(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(of(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ln(a,""),n.flags&=-33);var l=vm(e);Xo(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=vm(e);Go(e,o,i);break;default:throw Error(D(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dy(e,t,r){q=e,uf(e)}function uf(e,t,r){for(var n=(e.mode&1)!==0;q!==null;){var a=q,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||za;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||st;o=za;var d=st;if(za=i,(st=c)&&!d)for(q=a;q!==null;)i=q,c=i.child,i.tag===22&&i.memoizedState!==null?Nm(a):c!==null?(c.return=i,q=c):Nm(a);for(;l!==null;)q=l,uf(l),l=l.sibling;q=a,za=o,st=d}wm(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,q=l):wm(e)}}function wm(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||ri(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!st)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:It(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&am(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}am(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var u=m.dehydrated;u!==null&&Un(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}st||t.flags&512&&Jo(t)}catch(x){Ae(t,t.return,x)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function jm(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function Nm(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ri(4,t)}catch(c){Ae(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ae(t,a,c)}}var l=t.return;try{Jo(t)}catch(c){Ae(t,l,c)}break;case 5:var i=t.return;try{Jo(t)}catch(c){Ae(t,i,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var uy=Math.ceil,Il=ys.ReactCurrentDispatcher,ld=ys.ReactCurrentOwner,Tt=ys.ReactCurrentBatchConfig,ue=0,Je=null,Be=null,Xe=0,yt=0,Ar=Hs(0),qe=0,Xn=null,or=0,ni=0,id=0,_n=null,ut=null,od=0,Qr=1/0,as=null,Fl=!1,Zo=null,Fs=null,Ua=!1,Ts=null,Ll=0,$n=0,ec=null,nl=-1,al=0;function ot(){return ue&6?_e():nl!==-1?nl:nl=_e()}function Ls(e){return e.mode&1?ue&2&&Xe!==0?Xe&-Xe:K0.transition!==null?(al===0&&(al=Kh()),al):(e=xe,e!==0||(e=window.event,e=e===void 0?16:tp(e.type)),e):1}function zt(e,t,r,n){if(50<$n)throw $n=0,ec=null,Error(D(185));aa(e,r,n),(!(ue&2)||e!==Je)&&(e===Je&&(!(ue&2)&&(ni|=r),qe===4&&Ss(e,Xe)),ft(e,n),r===1&&ue===0&&!(t.mode&1)&&(Qr=_e()+500,ei&&Vs()))}function ft(e,t){var r=e.callbackNode;Kg(e,t);var n=bl(e,e===Je?Xe:0);if(n===0)r!==null&&Ou(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ou(r),t===1)e.tag===0?Q0(km.bind(null,e)):bp(km.bind(null,e)),H0(function(){!(ue&6)&&Vs()}),r=null;else{switch(Yh(n)){case 1:r=$c;break;case 4:r=Wh;break;case 16:r=vl;break;case 536870912:r=Qh;break;default:r=vl}r=vf(r,mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mf(e,t){if(nl=-1,al=0,ue&6)throw Error(D(327));var r=e.callbackNode;if(Fr()&&e.callbackNode!==r)return null;var n=bl(e,e===Je?Xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Dl(e,n);else{t=n;var a=ue;ue|=2;var l=pf();(Je!==e||Xe!==t)&&(as=null,Qr=_e()+500,sr(e,t));do try{py();break}catch(o){hf(e,o)}while(!0);Qc(),Il.current=l,ue=a,Be!==null?t=0:(Je=null,Xe=0,t=qe)}if(t!==0){if(t===2&&(a=Po(e),a!==0&&(n=a,t=tc(e,a))),t===1)throw r=Xn,sr(e,0),Ss(e,n),ft(e,_e()),r;if(t===6)Ss(e,n);else{if(a=e.current.alternate,!(n&30)&&!my(a)&&(t=Dl(e,n),t===2&&(l=Po(e),l!==0&&(n=l,t=tc(e,l))),t===1))throw r=Xn,sr(e,0),Ss(e,n),ft(e,_e()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:Js(e,ut,as);break;case 3:if(Ss(e,n),(n&130023424)===n&&(t=od+500-_e(),10<t)){if(bl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ot(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Io(Js.bind(null,e,ut,as),t);break}Js(e,ut,as);break;case 4:if(Ss(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Mt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=_e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uy(n/1960))-n,10<n){e.timeoutHandle=Io(Js.bind(null,e,ut,as),n);break}Js(e,ut,as);break;case 5:Js(e,ut,as);break;default:throw Error(D(329))}}}return ft(e,_e()),e.callbackNode===r?mf.bind(null,e):null}function tc(e,t){var r=_n;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=Dl(e,t),e!==2&&(t=ut,ut=r,t!==null&&sc(t)),e}function sc(e){ut===null?ut=e:ut.push.apply(ut,e)}function my(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Ut(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ss(e,t){for(t&=~id,t&=~ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mt(t),n=1<<r;e[r]=-1,t&=~n}}function km(e){if(ue&6)throw Error(D(327));Fr();var t=bl(e,0);if(!(t&1))return ft(e,_e()),null;var r=Dl(e,t);if(e.tag!==0&&r===2){var n=Po(e);n!==0&&(t=n,r=tc(e,n))}if(r===1)throw r=Xn,sr(e,0),Ss(e,t),ft(e,_e()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Js(e,ut,as),ft(e,_e()),null}function cd(e,t){var r=ue;ue|=1;try{return e(t)}finally{ue=r,ue===0&&(Qr=_e()+500,ei&&Vs())}}function cr(e){Ts!==null&&Ts.tag===0&&!(ue&6)&&Fr();var t=ue;ue|=1;var r=Tt.transition,n=xe;try{if(Tt.transition=null,xe=1,e)return e()}finally{xe=n,Tt.transition=r,ue=t,!(ue&6)&&Vs()}}function dd(){yt=Ar.current,Ne(Ar)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,B0(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(Vc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sl();break;case 3:qr(),Ne(ht),Ne(at),Zc();break;case 5:Xc(n);break;case 4:qr();break;case 13:Ne(Se);break;case 19:Ne(Se);break;case 10:Kc(n.type._context);break;case 22:case 23:dd()}r=r.return}if(Je=e,Be=e=Ds(e.current,null),Xe=yt=t,qe=0,Xn=null,id=ni=or=0,ut=_n=null,Xs!==null){for(t=0;t<Xs.length;t++)if(r=Xs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}Xs=null}return e}function hf(e,t){do{var r=Be;try{if(Qc(),tl.current=$l,_l){for(var n=Ce.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_l=!1}if(ir=0,Ke=Ve=Ce=null,Rn=!1,Yn=0,ld.current=null,r===null||r.return===null){qe=1,Xn=t,Be=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,u=m.tag;if(!(m.mode&1)&&(u===0||u===11||u===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var j=um(i);if(j!==null){j.flags&=-257,mm(j,i,o,l,t),j.mode&1&&dm(l,d,t),t=j,c=d;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){dm(l,d,t),ud();break e}c=Error(D(426))}}else if(ke&&o.mode&1){var w=um(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),mm(w,i,o,l,t),qc(Wr(c,o));break e}}l=c=Wr(c,o),qe!==4&&(qe=2),_n===null?_n=[l]:_n.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=Yp(l,c,t);nm(l,p);break e;case 1:o=c;var g=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fs===null||!Fs.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Jp(l,o,t);nm(l,S);break e}}l=l.return}while(l!==null)}xf(r)}catch(C){t=C,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function pf(){var e=Il.current;return Il.current=$l,e===null?$l:e}function ud(){(qe===0||qe===3||qe===2)&&(qe=4),Je===null||!(or&268435455)&&!(ni&268435455)||Ss(Je,Xe)}function Dl(e,t){var r=ue;ue|=2;var n=pf();(Je!==e||Xe!==t)&&(as=null,sr(e,t));do try{hy();break}catch(a){hf(e,a)}while(!0);if(Qc(),ue=r,Il.current=n,Be!==null)throw Error(D(261));return Je=null,Xe=0,qe}function hy(){for(;Be!==null;)ff(Be)}function py(){for(;Be!==null&&!Mg();)ff(Be)}function ff(e){var t=yf(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?xf(e):Be=t,ld.current=null}function xf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iy(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Be=null;return}}else if(r=ly(r,t,yt),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);qe===0&&(qe=5)}function Js(e,t,r){var n=xe,a=Tt.transition;try{Tt.transition=null,xe=1,fy(e,t,r,n)}finally{Tt.transition=a,xe=n}return null}function fy(e,t,r,n){do Fr();while(Ts!==null);if(ue&6)throw Error(D(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Yg(e,l),e===Je&&(Be=Je=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ua||(Ua=!0,vf(vl,function(){return Fr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Tt.transition,Tt.transition=null;var i=xe;xe=1;var o=ue;ue|=4,ld.current=null,cy(e,r),df(r,e),I0(_o),wl=!!Oo,_o=Oo=null,e.current=r,dy(r),zg(),ue=o,xe=i,Tt.transition=l}else e.current=r;if(Ua&&(Ua=!1,Ts=e,Ll=a),l=e.pendingLanes,l===0&&(Fs=null),Hg(r.stateNode),ft(e,_e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Fl)throw Fl=!1,e=Zo,Zo=null,e;return Ll&1&&e.tag!==0&&Fr(),l=e.pendingLanes,l&1?e===ec?$n++:($n=0,ec=e):$n=0,Vs(),null}function Fr(){if(Ts!==null){var e=Yh(Ll),t=Tt.transition,r=xe;try{if(Tt.transition=null,xe=16>e?16:e,Ts===null)var n=!1;else{if(e=Ts,Ts=null,Ll=0,ue&6)throw Error(D(331));var a=ue;for(ue|=4,q=e.current;q!==null;){var l=q,i=l.child;if(q.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(q=d;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:On(8,m,l)}var u=m.child;if(u!==null)u.return=m,q=u;else for(;q!==null;){m=q;var x=m.sibling,j=m.return;if(lf(m),m===d){q=null;break}if(x!==null){x.return=j,q=x;break}q=j}}}var y=l.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}q=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,q=i;else e:for(;q!==null;){if(l=q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:On(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,q=p;break e}q=l.return}}var g=e.current;for(q=g;q!==null;){i=q;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,q=v;else e:for(i=g;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ri(9,o)}}catch(C){Ae(o,o.return,C)}if(o===i){q=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,q=S;break e}q=o.return}}if(ue=a,Vs(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Yl,e)}catch{}n=!0}return n}finally{xe=r,Tt.transition=t}}return!1}function Sm(e,t,r){t=Wr(r,t),t=Yp(e,t,1),e=Is(e,t,1),t=ot(),e!==null&&(aa(e,1,t),ft(e,t))}function Ae(e,t,r){if(e.tag===3)Sm(e,e,r);else for(;t!==null;){if(t.tag===3){Sm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fs===null||!Fs.has(n))){e=Wr(r,e),e=Jp(t,e,1),t=Is(t,e,1),e=ot(),t!==null&&(aa(t,1,e),ft(t,e));break}}t=t.return}}function xy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&r,Je===e&&(Xe&r)===r&&(qe===4||qe===3&&(Xe&130023424)===Xe&&500>_e()-od?sr(e,0):id|=r),ft(e,t)}function gf(e,t){t===0&&(e.mode&1?(t=Ra,Ra<<=1,!(Ra&130023424)&&(Ra=4194304)):t=1);var r=ot();e=ps(e,t),e!==null&&(aa(e,t,r),ft(e,r))}function gy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gf(e,r)}function yy(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),gf(e,r)}var yf;yf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mt=!1,ay(e,t,r);mt=!!(e.flags&131072)}else mt=!1,ke&&t.flags&1048576&&wp(t,El,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;rl(e,t),e=t.pendingProps;var a=Br(t,at.current);Ir(t,r),a=td(null,t,n,e,a,r);var l=sd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(n)?(l=!0,Cl(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Jc(t),a.updater=si,t.stateNode=a,a._reactInternals=t,Bo(t,n,e,r),t=qo(null,t,n,!0,l,r)):(t.tag=0,ke&&l&&Hc(t),it(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=by(n),e=It(n,e),a){case 0:t=Vo(null,t,n,e,r);break e;case 1:t=fm(null,t,n,e,r);break e;case 11:t=hm(null,t,n,e,r);break e;case 14:t=pm(null,t,n,It(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:It(n,a),Vo(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:It(n,a),fm(e,t,n,a,r);case 3:e:{if(ef(t),e===null)throw Error(D(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Pp(e,t),Rl(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Wr(Error(D(423)),t),t=xm(e,t,n,r,a);break e}else if(n!==a){a=Wr(Error(D(424)),t),t=xm(e,t,n,r,a);break e}else for(vt=$s(t.stateNode.containerInfo.firstChild),bt=t,ke=!0,Lt=null,r=Sp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),n===a){t=fs(e,t,r);break e}it(e,t,n,r)}t=t.child}return t;case 5:return Ep(t),e===null&&Mo(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,$o(n,a)?i=null:l!==null&&$o(n,l)&&(t.flags|=32),Zp(e,t),it(e,t,i,r),t.child;case 6:return e===null&&Mo(t),null;case 13:return tf(e,t,r);case 4:return Gc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vr(t,null,n,r):it(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:It(n,a),hm(e,t,n,a,r);case 7:return it(e,t,t.pendingProps,r),t.child;case 8:return it(e,t,t.pendingProps.children,r),t.child;case 12:return it(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ve(Tl,n._currentValue),n._currentValue=i,l!==null)if(Ut(l.value,i)){if(l.children===a.children&&!ht.current){t=fs(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=ds(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),zo(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(D(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),zo(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}it(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ir(t,r),a=At(a),n=n(a),t.flags|=1,it(e,t,n,r),t.child;case 14:return n=t.type,a=It(n,t.pendingProps),a=It(n.type,a),pm(e,t,n,a,r);case 15:return Gp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:It(n,a),rl(e,t),t.tag=1,pt(n)?(e=!0,Cl(t)):e=!1,Ir(t,r),Kp(t,n,a),Bo(t,n,a,r),qo(null,t,n,!0,e,r);case 19:return sf(e,t,r);case 22:return Xp(e,t,r)}throw Error(D(156,t.tag))};function vf(e,t){return qh(e,t)}function vy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,r,n){return new vy(e,t,r,n)}function md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function by(e){if(typeof e=="function")return md(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rc)return 11;if(e===Oc)return 14}return 2}function Ds(e,t){var r=e.alternate;return r===null?(r=Et(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ll(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")md(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case br:return rr(r.children,a,l,t);case Ac:i=8,a|=8;break;case mo:return e=Et(12,r,t,a|2),e.elementType=mo,e.lanes=l,e;case ho:return e=Et(13,r,t,a),e.elementType=ho,e.lanes=l,e;case po:return e=Et(19,r,t,a),e.elementType=po,e.lanes=l,e;case Eh:return ai(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ch:i=10;break e;case Ph:i=9;break e;case Rc:i=11;break e;case Oc:i=14;break e;case js:i=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Et(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function rr(e,t,r,n){return e=Et(7,e,n,t),e.lanes=r,e}function ai(e,t,r,n){return e=Et(22,e,n,t),e.elementType=Eh,e.lanes=r,e.stateNode={isHidden:!1},e}function Yi(e,t,r){return e=Et(6,e,null,t),e.lanes=r,e}function Ji(e,t,r){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wy(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ai(0),this.expirationTimes=Ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hd(e,t,r,n,a,l,i,o,c){return e=new wy(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Et(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(l),e}function jy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bf(e){if(!e)return Us;e=e._reactInternals;e:{if(hr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(pt(r))return vp(e,r,t)}return t}function wf(e,t,r,n,a,l,i,o,c){return e=hd(r,n,!0,e,a,l,i,o,c),e.context=bf(null),r=e.current,n=ot(),a=Ls(r),l=ds(n,a),l.callback=t??null,Is(r,l,a),e.current.lanes=a,aa(e,a,n),ft(e,n),e}function li(e,t,r,n){var a=t.current,l=ot(),i=Ls(a);return r=bf(r),t.context===null?t.context=r:t.pendingContext=r,t=ds(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Is(a,t,i),e!==null&&(zt(e,a,i,l),el(e,a,i)),i}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pd(e,t){Cm(e,t),(e=e.alternate)&&Cm(e,t)}function Ny(){return null}var jf=typeof reportError=="function"?reportError:function(e){console.error(e)};function fd(e){this._internalRoot=e}ii.prototype.render=fd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));li(e,t,null,null)};ii.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cr(function(){li(null,e,null,null)}),t[hs]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ks.length&&t!==0&&t<ks[r].priority;r++);ks.splice(r,0,e),r===0&&ep(e)}};function xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function ky(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=Ml(i);l.call(d)}}var i=wf(t,n,e,0,null,!1,!1,"",Pm);return e._reactRootContainer=i,e[hs]=i.current,Vn(e.nodeType===8?e.parentNode:e),cr(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Ml(c);o.call(d)}}var c=hd(e,0,!1,null,null,!1,!1,"",Pm);return e._reactRootContainer=c,e[hs]=c.current,Vn(e.nodeType===8?e.parentNode:e),cr(function(){li(t,c,r,n)}),c}function ci(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Ml(i);o.call(c)}}li(t,i,e,a)}else i=ky(r,t,e,a,n);return Ml(i)}Jh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kn(t.pendingLanes);r!==0&&(Ic(t,r|1),ft(t,_e()),!(ue&6)&&(Qr=_e()+500,Vs()))}break;case 13:cr(function(){var n=ps(e,1);if(n!==null){var a=ot();zt(n,e,1,a)}}),pd(e,1)}};Fc=function(e){if(e.tag===13){var t=ps(e,134217728);if(t!==null){var r=ot();zt(t,e,134217728,r)}pd(e,134217728)}};Gh=function(e){if(e.tag===13){var t=Ls(e),r=ps(e,t);if(r!==null){var n=ot();zt(r,e,t,n)}pd(e,t)}};Xh=function(){return xe};Zh=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}};ko=function(e,t,r){switch(t){case"input":if(go(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Zl(n);if(!a)throw Error(D(90));Ah(n),go(n,a)}}}break;case"textarea":Oh(e,r);break;case"select":t=r.value,t!=null&&Rr(e,!!r.multiple,t,!1)}};Mh=cd;zh=cr;var Sy={usingClientEntryPoint:!1,Events:[ia,kr,Zl,Lh,Dh,cd]},yn={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cy={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hh(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Yl=Ba.inject(Cy),Xt=Ba}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sy;jt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(t))throw Error(D(200));return jy(e,t,null,r)};jt.createRoot=function(e,t){if(!xd(e))throw Error(D(299));var r=!1,n="",a=jf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hd(e,1,!1,null,null,r,!1,n,a),e[hs]=t.current,Vn(e.nodeType===8?e.parentNode:e),new fd(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Hh(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return cr(e)};jt.hydrate=function(e,t,r){if(!oi(t))throw Error(D(200));return ci(null,e,t,!0,r)};jt.hydrateRoot=function(e,t,r){if(!xd(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=jf;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=wf(t,null,e,1,r??null,a,!1,l,i),e[hs]=t.current,Vn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ii(t)};jt.render=function(e,t,r){if(!oi(t))throw Error(D(200));return ci(null,e,t,!1,r)};jt.unmountComponentAtNode=function(e){if(!oi(e))throw Error(D(40));return e._reactRootContainer?(cr(function(){ci(null,null,e,!1,function(){e._reactRootContainer=null,e[hs]=null})}),!0):!1};jt.unstable_batchedUpdates=cd;jt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oi(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ci(e,t,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function Nf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nf)}catch(e){console.error(e)}}Nf(),jh.exports=jt;var Py=jh.exports,Em=Py;co.createRoot=Em.createRoot,co.hydrateRoot=Em.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zn.apply(this,arguments)}var As;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(As||(As={}));const Tm="popstate";function Ey(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return rc("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:zl(a)}return Ay(t,r,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ty(){return Math.random().toString(36).substr(2,8)}function Am(e,t){return{usr:e.state,key:e.key,idx:t}}function rc(e,t,r,n){return r===void 0&&(r=null),Zn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?en(t):t,{state:r,key:t&&t.key||n||Ty()})}function zl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function en(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ay(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=As.Pop,c=null,d=m();d==null&&(d=0,i.replaceState(Zn({},i.state,{idx:d}),""));function m(){return(i.state||{idx:null}).idx}function u(){o=As.Pop;let w=m(),p=w==null?null:w-d;d=w,c&&c({action:o,location:b.location,delta:p})}function x(w,p){o=As.Push;let g=rc(b.location,w,p);d=m()+1;let v=Am(g,d),S=b.createHref(g);try{i.pushState(v,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}l&&c&&c({action:o,location:b.location,delta:1})}function j(w,p){o=As.Replace;let g=rc(b.location,w,p);d=m();let v=Am(g,d),S=b.createHref(g);i.replaceState(v,"",S),l&&c&&c({action:o,location:b.location,delta:0})}function y(w){let p=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof w=="string"?w:zl(w);return g=g.replace(/ $/,"%20"),Ie(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let b={get action(){return o},get location(){return e(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Tm,u),c=w,()=>{a.removeEventListener(Tm,u),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let p=y(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:j,go(w){return i.go(w)}};return b}var Rm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rm||(Rm={}));function Ry(e,t,r){return r===void 0&&(r="/"),Oy(e,t,r)}function Oy(e,t,r,n){let a=typeof t=="string"?en(t):t,l=gd(a.pathname||"/",r);if(l==null)return null;let i=Sf(e);_y(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=qy(l);o=By(i[c],d)}return o}function Sf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Ie(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ms([n,c.relativePath]),m=r.concat(c);l.children&&l.children.length>0&&(Ie(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Sf(l.children,t,m,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:zy(d,l.index),routesMeta:m})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Cf(l.path))a(l,i,c)}),t}function Cf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Cf(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function _y(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Uy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $y=/^:[\w-]+$/,Iy=3,Fy=2,Ly=1,Dy=10,My=-2,Om=e=>e==="*";function zy(e,t){let r=e.split("/"),n=r.length;return r.some(Om)&&(n+=My),t&&(n+=Fy),r.filter(a=>!Om(a)).reduce((a,l)=>a+($y.test(l)?Iy:l===""?Ly:Dy),n)}function Uy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function By(e,t,r){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",u=Hy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),x=c.route;if(!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:Ms([l,u.pathname]),pathnameBase:Yy(Ms([l,u.pathnameBase])),route:x}),u.pathnameBase!=="/"&&(l=Ms([l,u.pathnameBase]))}return i}function Hy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vy(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,m,u)=>{let{paramName:x,isOptional:j}=m;if(x==="*"){let b=o[u]||"";i=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[u];return j&&!y?d[x]=void 0:d[x]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function Vy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),kf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function qy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Wy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?en(e):e;return{pathname:r?r.startsWith("/")?r:Qy(r,t):t,search:Jy(n),hash:Gy(a)}}function Qy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Gi(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ky(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function yd(e,t){let r=Ky(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vd(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=en(e):(a=Zn({},e),Ie(!a.pathname||!a.pathname.includes("?"),Gi("?","pathname","search",a)),Ie(!a.pathname||!a.pathname.includes("#"),Gi("#","pathname","hash",a)),Ie(!a.search||!a.search.includes("#"),Gi("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let u=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),u-=1;a.pathname=x.join("/")}o=u>=0?t[u]:"/"}let c=Wy(a,o),d=i&&i!=="/"&&i.endsWith("/"),m=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const Ms=e=>e.join("/").replace(/\/\/+/g,"/"),Yy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Pf=["post","put","patch","delete"];new Set(Pf);const Zy=["get",...Pf];new Set(Zy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ea.apply(this,arguments)}const bd=f.createContext(null),ev=f.createContext(null),qs=f.createContext(null),di=f.createContext(null),vs=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Ef=f.createContext(null);function tv(e,t){let{relative:r}=t===void 0?{}:t;tn()||Ie(!1);let{basename:n,navigator:a}=f.useContext(qs),{hash:l,pathname:i,search:o}=Af(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Ms([n,i])),a.createHref({pathname:c,search:o,hash:l})}function tn(){return f.useContext(di)!=null}function Ws(){return tn()||Ie(!1),f.useContext(di).location}function Tf(e){f.useContext(qs).static||f.useLayoutEffect(e)}function Bt(){let{isDataRoute:e}=f.useContext(vs);return e?pv():sv()}function sv(){tn()||Ie(!1);let e=f.useContext(bd),{basename:t,future:r,navigator:n}=f.useContext(qs),{matches:a}=f.useContext(vs),{pathname:l}=Ws(),i=JSON.stringify(yd(a,r.v7_relativeSplatPath)),o=f.useRef(!1);return Tf(()=>{o.current=!0}),f.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let u=vd(d,JSON.parse(i),l,m.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ms([t,u.pathname])),(m.replace?n.replace:n.push)(u,m.state,m)},[t,n,i,l,e])}function wd(){let{matches:e}=f.useContext(vs),t=e[e.length-1];return t?t.params:{}}function Af(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(qs),{matches:a}=f.useContext(vs),{pathname:l}=Ws(),i=JSON.stringify(yd(a,n.v7_relativeSplatPath));return f.useMemo(()=>vd(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function rv(e,t){return nv(e,t)}function nv(e,t,r,n){tn()||Ie(!1);let{navigator:a}=f.useContext(qs),{matches:l}=f.useContext(vs),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Ws(),m;if(t){var u;let w=typeof t=="string"?en(t):t;c==="/"||(u=w.pathname)!=null&&u.startsWith(c)||Ie(!1),m=w}else m=d;let x=m.pathname||"/",j=x;if(c!=="/"){let w=c.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Ry(e,{pathname:j}),b=cv(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ms([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ms([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,r,n);return t&&b?f.createElement(di.Provider,{value:{location:ea({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:As.Pop}},b):b}function av(){let e=hv(),t=Xy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const lv=f.createElement(av,null);class iv extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(vs.Provider,{value:this.props.routeContext},f.createElement(Ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ov(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(bd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(vs.Provider,{value:t},n)}function cv(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let m=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);m>=0||Ie(!1),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<i.length;m++){let u=i[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=m),u.route.id){let{loaderData:x,errors:j}=r,y=u.route.loader&&x[u.route.id]===void 0&&(!j||j[u.route.id]===void 0);if(u.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((m,u,x)=>{let j,y=!1,b=null,w=null;r&&(j=o&&u.route.id?o[u.route.id]:void 0,b=u.route.errorElement||lv,c&&(d<0&&x===0?(fv("route-fallback"),y=!0,w=null):d===x&&(y=!0,w=u.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,x+1)),g=()=>{let v;return j?v=b:y?v=w:u.route.Component?v=f.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=m,f.createElement(ov,{match:u,routeContext:{outlet:m,matches:p,isDataRoute:r!=null},children:v})};return r&&(u.route.ErrorBoundary||u.route.errorElement||x===0)?f.createElement(iv,{location:r.location,revalidation:r.revalidation,component:b,error:j,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Rf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rf||{}),Of=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Of||{});function dv(e){let t=f.useContext(bd);return t||Ie(!1),t}function uv(e){let t=f.useContext(ev);return t||Ie(!1),t}function mv(e){let t=f.useContext(vs);return t||Ie(!1),t}function _f(e){let t=mv(),r=t.matches[t.matches.length-1];return r.route.id||Ie(!1),r.route.id}function hv(){var e;let t=f.useContext(Ef),r=uv(),n=_f();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function pv(){let{router:e}=dv(Rf.UseNavigateStable),t=_f(Of.UseNavigateStable),r=f.useRef(!1);return Tf(()=>{r.current=!0}),f.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ea({fromRouteId:t},l)))},[e,t])}const _m={};function fv(e,t,r){_m[e]||(_m[e]=!0)}function xv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $m(e){let{to:t,replace:r,state:n,relative:a}=e;tn()||Ie(!1);let{future:l,static:i}=f.useContext(qs),{matches:o}=f.useContext(vs),{pathname:c}=Ws(),d=Bt(),m=vd(t,yd(o,l.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(m);return f.useEffect(()=>d(JSON.parse(u),{replace:r,state:n,relative:a}),[d,u,a,r,n]),null}function Ue(e){Ie(!1)}function gv(e){let{basename:t="/",children:r=null,location:n,navigationType:a=As.Pop,navigator:l,static:i=!1,future:o}=e;tn()&&Ie(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:l,static:i,future:ea({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=en(n));let{pathname:m="/",search:u="",hash:x="",state:j=null,key:y="default"}=n,b=f.useMemo(()=>{let w=gd(m,c);return w==null?null:{location:{pathname:w,search:u,hash:x,state:j,key:y},navigationType:a}},[c,m,u,x,j,y,a]);return b==null?null:f.createElement(qs.Provider,{value:d},f.createElement(di.Provider,{children:r,value:b}))}function yv(e){let{children:t,location:r}=e;return rv(nc(t),r)}new Promise(()=>{});function nc(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let l=[...t,a];if(n.type===f.Fragment){r.push.apply(r,nc(n.props.children,l));return}n.type!==Ue&&Ie(!1),!n.props.index||!n.props.children||Ie(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=nc(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function vv(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wv(e,t){return e.button===0&&(!t||t==="_self")&&!bv(e)}function lc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function jv(e,t){let r=lc(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}const Nv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kv="6";try{window.__reactRouterVersion=kv}catch{}const Sv="startTransition",Im=xg[Sv];function Cv(e){let{basename:t,children:r,future:n,window:a}=e,l=f.useRef();l.current==null&&(l.current=Ey({window:a,v5Compat:!0}));let i=l.current,[o,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},m=f.useCallback(u=>{d&&Im?Im(()=>c(u)):c(u)},[c,d]);return f.useLayoutEffect(()=>i.listen(m),[i,m]),f.useEffect(()=>xv(n),[n]),f.createElement(gv,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const Pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:m,viewTransition:u}=t,x=vv(t,Nv),{basename:j}=f.useContext(qs),y,b=!1;if(typeof d=="string"&&Ev.test(d)&&(y=d,Pv))try{let v=new URL(window.location.href),S=d.startsWith("//")?new URL(v.protocol+d):new URL(d),C=gd(S.pathname,j);S.origin===v.origin&&C!=null?d=C+S.search+S.hash:b=!0}catch{}let w=tv(d,{relative:a}),p=Tv(d,{replace:i,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:u});function g(v){n&&n(v),v.defaultPrevented||p(v)}return f.createElement("a",ac({},x,{href:y||w,onClick:b||l?n:g,ref:r,target:c}))});var Fm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fm||(Fm={}));var Lm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lm||(Lm={}));function Tv(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=Bt(),d=Ws(),m=Af(e,{relative:i});return f.useCallback(u=>{if(wv(u,r)){u.preventDefault();let x=n!==void 0?n:zl(d)===zl(m);c(e,{replace:x,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,m,n,a,r,e,l,i,o])}function jd(e){let t=f.useRef(lc(e)),r=f.useRef(!1),n=Ws(),a=f.useMemo(()=>jv(n.search,r.current?null:t.current),[n.search]),l=Bt(),i=f.useCallback((o,c)=>{const d=lc(typeof o=="function"?o(a):o);r.current=!0,l("?"+d,c)},[l,a]);return[a,i]}let Av={data:""},Rv=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Av},Ov=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_v=/\/\*[^]*?\*\/|  +/g,Dm=/\n+/g,Cs=(e,t)=>{let r="",n="",a="";for(let l in e){let i=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+i+";":n+=l[1]=="f"?Cs(i,l):l+"{"+Cs(i,l[1]=="k"?"":t)+"}":typeof i=="object"?n+=Cs(i,t?t.replace(/([^,])+/g,o=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):l):i!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Cs.p?Cs.p(l,i):l+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},ns={},$f=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+$f(e[r]);return t}return e},$v=(e,t,r,n,a)=>{let l=$f(e),i=ns[l]||(ns[l]=(c=>{let d=0,m=11;for(;d<c.length;)m=101*m+c.charCodeAt(d++)>>>0;return"go"+m})(l));if(!ns[i]){let c=l!==e?e:(d=>{let m,u,x=[{}];for(;m=Ov.exec(d.replace(_v,""));)m[4]?x.shift():m[3]?(u=m[3].replace(Dm," ").trim(),x.unshift(x[0][u]=x[0][u]||{})):x[0][m[1]]=m[2].replace(Dm," ").trim();return x[0]})(e);ns[i]=Cs(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let o=r&&ns.g?ns.g:null;return r&&(ns.g=ns[i]),((c,d,m,u)=>{u?d.data=d.data.replace(u,c):d.data.indexOf(c)===-1&&(d.data=m?c+d.data:d.data+c)})(ns[i],t,n,o),i},Iv=(e,t,r)=>e.reduce((n,a,l)=>{let i=t[l];if(i&&i.call){let o=i(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;i=c?"."+c:o&&typeof o=="object"?o.props?"":Cs(o,""):o===!1?"":o}return n+a+(i??"")},"");function ui(e){let t=this||{},r=e.call?e(t.p):e;return $v(r.unshift?r.raw?Iv(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,Rv(t.target),t.g,t.o,t.k)}let If,ic,oc;ui.bind({g:1});let xs=ui.bind({k:1});function Fv(e,t,r,n){Cs.p=t,If=e,ic=r,oc=n}function Qs(e,t){let r=this||{};return function(){let n=arguments;function a(l,i){let o=Object.assign({},l),c=o.className||a.className;r.p=Object.assign({theme:ic&&ic()},o),r.o=/ *go\d+/.test(c),o.className=ui.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=o.as||e,delete o.as),oc&&d[0]&&oc(o),If(d,o)}return a}}var Lv=e=>typeof e=="function",Ul=(e,t)=>Lv(e)?e(t):e,Dv=(()=>{let e=0;return()=>(++e).toString()})(),Ff=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Mv=20,Nd="default",Lf=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Lf(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+l}))}}},il=[],Df={toasts:[],pausedAt:void 0,settings:{toastLimit:Mv}},Gt={},Mf=(e,t=Nd)=>{Gt[t]=Lf(Gt[t]||Df,e),il.forEach(([r,n])=>{r===t&&n(Gt[t])})},zf=e=>Object.keys(Gt).forEach(t=>Mf(e,t)),zv=e=>Object.keys(Gt).find(t=>Gt[t].toasts.some(r=>r.id===e)),mi=(e=Nd)=>t=>{Mf(t,e)},Uv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bv=(e={},t=Nd)=>{let[r,n]=f.useState(Gt[t]||Df),a=f.useRef(Gt[t]);f.useEffect(()=>(a.current!==Gt[t]&&n(Gt[t]),il.push([t,n]),()=>{let i=il.findIndex(([o])=>o===t);i>-1&&il.splice(i,1)}),[t]);let l=r.toasts.map(i=>{var o,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Uv[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...r,toasts:l}},Hv=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Dv()}),ca=e=>(t,r)=>{let n=Hv(t,e,r);return mi(n.toasterId||zv(n.id))({type:2,toast:n}),n.id},$e=(e,t)=>ca("blank")(e,t);$e.error=ca("error");$e.success=ca("success");$e.loading=ca("loading");$e.custom=ca("custom");$e.dismiss=(e,t)=>{let r={type:3,toastId:e};t?mi(t)(r):zf(r)};$e.dismissAll=e=>$e.dismiss(void 0,e);$e.remove=(e,t)=>{let r={type:4,toastId:e};t?mi(t)(r):zf(r)};$e.removeAll=e=>$e.remove(void 0,e);$e.promise=(e,t,r)=>{let n=$e.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?Ul(t.success,a):void 0;return l?$e.success(l,{id:n,...r,...r==null?void 0:r.success}):$e.dismiss(n),a}).catch(a=>{let l=t.error?Ul(t.error,a):void 0;l?$e.error(l,{id:n,...r,...r==null?void 0:r.error}):$e.dismiss(n)}),e};var Vv=1e3,qv=(e,t="default")=>{let{toasts:r,pausedAt:n}=Bv(e,t),a=f.useRef(new Map).current,l=f.useCallback((u,x=Vv)=>{if(a.has(u))return;let j=setTimeout(()=>{a.delete(u),i({type:4,toastId:u})},x);a.set(u,j)},[]);f.useEffect(()=>{if(n)return;let u=Date.now(),x=r.map(j=>{if(j.duration===1/0)return;let y=(j.duration||0)+j.pauseDuration-(u-j.createdAt);if(y<0){j.visible&&$e.dismiss(j.id);return}return setTimeout(()=>$e.dismiss(j.id,t),y)});return()=>{x.forEach(j=>j&&clearTimeout(j))}},[r,n,t]);let i=f.useCallback(mi(t),[t]),o=f.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=f.useCallback((u,x)=>{i({type:1,toast:{id:u,height:x}})},[i]),d=f.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),m=f.useCallback((u,x)=>{let{reverseOrder:j=!1,gutter:y=8,defaultPosition:b}=x||{},w=r.filter(v=>(v.position||b)===(u.position||b)&&v.height),p=w.findIndex(v=>v.id===u.id),g=w.filter((v,S)=>S<p&&v.visible).length;return w.filter(v=>v.visible).slice(...j?[g+1]:[0,g]).reduce((v,S)=>v+(S.height||0)+y,0)},[r]);return f.useEffect(()=>{r.forEach(u=>{if(u.dismissed)l(u.id,u.removeDelay);else{let x=a.get(u.id);x&&(clearTimeout(x),a.delete(u.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:m}}},Wv=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Qv=xs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kv=xs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Yv=Qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Qv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Kv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Jv=xs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gv=Qs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Jv} 1s linear infinite;
`,Xv=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Zv=xs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eb=Qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Zv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tb=Qs("div")`
  position: absolute;
`,sb=Qs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rb=xs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nb=Qs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ab=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?f.createElement(nb,null,t):t:r==="blank"?null:f.createElement(sb,null,f.createElement(Gv,{...n}),r!=="loading"&&f.createElement(tb,null,r==="error"?f.createElement(Yv,{...n}):f.createElement(eb,{...n})))},lb=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ib=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ob="0%{opacity:0;} 100%{opacity:1;}",cb="0%{opacity:1;} 100%{opacity:0;}",db=Qs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ub=Qs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mb=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=Ff()?[ob,cb]:[lb(r),ib(r)];return{animation:t?`${xs(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hb=f.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?mb(e.position||t||"top-center",e.visible):{opacity:0},l=f.createElement(ab,{toast:e}),i=f.createElement(ub,{...e.ariaProps},Ul(e.message,e));return f.createElement(db,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:l,message:i}):f.createElement(f.Fragment,null,l,i))});Fv(f.createElement);var pb=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let l=f.useCallback(i=>{if(i){let o=()=>{let c=i.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return f.createElement("div",{ref:l,className:t,style:r},a)},fb=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ff()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},xb=ui`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ha=16,gb=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:l,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:d}=qv(r,l);return f.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Ha,left:Ha,right:Ha,bottom:Ha,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(m=>{let u=m.position||t,x=d.calculateOffset(m,{reverseOrder:e,gutter:n,defaultPosition:t}),j=fb(u,x);return f.createElement(pb,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?xb:"",style:j},m.type==="custom"?Ul(m.message,m):a?a(m):f.createElement(hb,{toast:m,position:u}))}))},P=$e,yb=typeof Element<"u",vb=typeof Map=="function",bb=typeof Set=="function",wb=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ol(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!ol(e[n],t[n]))return!1;return!0}var l;if(vb&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(l=e.entries();!(n=l.next()).done;)if(!t.has(n.value[0]))return!1;for(l=e.entries();!(n=l.next()).done;)if(!ol(n.value[1],t.get(n.value[0])))return!1;return!0}if(bb&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(l=e.entries();!(n=l.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(wb&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(yb&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!ol(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var jb=function(t,r){try{return ol(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Nb=Ql(jb);var kb=function(e,t,r,n,a,l,i,o){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,n,a,l,i,o],m=0;c=new Error(t.replace(/%s/g,function(){return d[m++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Sb=kb;const Mm=Ql(Sb);var Cb=function(t,r,n,a){var l=n?n.call(a,t,r):void 0;if(l!==void 0)return!!l;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),d=0;d<i.length;d++){var m=i[d];if(!c(m))return!1;var u=t[m],x=r[m];if(l=n?n.call(a,u,x,m):void 0,l===!1||l===void 0&&u!==x)return!1}return!0};const Pb=Ql(Cb);var Uf=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Uf||{}),Xi={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},zm=Object.values(Uf),kd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Eb=Object.entries(kd).reduce((e,[t,r])=>(e[r]=t,e),{}),Dt="data-rh",Lr={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Dr=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},Tb=e=>{let t=Dr(e,"title");const r=Dr(e,Lr.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Dr(e,Lr.DEFAULT_TITLE);return t||n||void 0},Ab=e=>Dr(e,Lr.ON_CHANGE_CLIENT_STATE)||(()=>{}),Zi=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),Rb=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let l=0;l<a.length;l+=1){const o=a[l].toLowerCase();if(e.indexOf(o)!==-1&&n[o])return r.concat(n)}}return r},[]),Ob=e=>console&&typeof console.warn=="function"&&console.warn(e),vn=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&Ob(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,l)=>{const i={};l.filter(c=>{let d;const m=Object.keys(c);for(let x=0;x<m.length;x+=1){const j=m[x],y=j.toLowerCase();t.indexOf(y)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(d=y),t.indexOf(j)!==-1&&(j==="innerHTML"||j==="cssText"||j==="itemprop")&&(d=j)}if(!d||!c[d])return!1;const u=c[d].toLowerCase();return n[d]||(n[d]={}),i[d]||(i[d]={}),n[d][u]?!1:(i[d][u]=!0,!0)}).reverse().forEach(c=>a.push(c));const o=Object.keys(i);for(let c=0;c<o.length;c+=1){const d=o[c],m={...n[d],...i[d]};n[d]=m}return a},[]).reverse()},_b=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},$b=e=>({baseTag:Rb(["href"],e),bodyAttributes:Zi("bodyAttributes",e),defer:Dr(e,Lr.DEFER),encode:Dr(e,Lr.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zi("htmlAttributes",e),linkTags:vn("link",["rel","href"],e),metaTags:vn("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:vn("noscript",["innerHTML"],e),onChangeClientState:Ab(e),scriptTags:vn("script",["src","innerHTML"],e),styleTags:vn("style",["cssText"],e),title:Tb(e),titleAttributes:Zi("titleAttributes",e),prioritizeSeoTags:_b(e,Lr.PRIORITIZE_SEO_TAGS)}),Bf=e=>Array.isArray(e)?e.join(""):e,Ib=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},eo=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(Ib(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Um=(e,t)=>({...e,[t]:void 0}),Fb=["noscript","script","style"],cc=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Hf=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),Lb=(e,t,r,n)=>{const a=Hf(r),l=Bf(t);return a?`<${e} ${Dt}="true" ${a}>${cc(l,n)}</${e}>`:`<${e} ${Dt}="true">${cc(l,n)}</${e}>`},Db=(e,t,r=!0)=>t.reduce((n,a)=>{const l=a,i=Object.keys(l).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,m)=>{const u=typeof l[m]>"u"?m:`${m}="${cc(l[m],r)}"`;return d?`${d} ${u}`:u},""),o=l.innerHTML||l.cssText||"",c=Fb.indexOf(e)===-1;return`${n}<${e} ${Dt}="true" ${i}${c?"/>":`>${o}</${e}>`}`},""),Vf=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=kd[n];return r[a||n]=e[n],r},t),Mb=(e,t,r)=>{const n={key:t,[Dt]:!0},a=Vf(r,n);return[Jt.createElement("title",a,t)]},cl=(e,t)=>t.map((r,n)=>{const a={key:n,[Dt]:!0};return Object.keys(r).forEach(l=>{const o=kd[l]||l;if(o==="innerHTML"||o==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[o]=r[l]}),Jt.createElement(e,a)}),St=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>Mb(e,t.title,t.titleAttributes),toString:()=>Lb(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Vf(t),toString:()=>Hf(t)};default:return{toComponent:()=>cl(e,t),toString:()=>Db(e,t,r)}}},zb=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=eo(e,Xi.meta),l=eo(t,Xi.link),i=eo(r,Xi.script);return{priorityMethods:{toComponent:()=>[...cl("meta",a.priority),...cl("link",l.priority),...cl("script",i.priority)],toString:()=>`${St("meta",a.priority,n)} ${St("link",l.priority,n)} ${St("script",i.priority,n)}`},metaTags:a.default,linkTags:l.default,scriptTags:i.default}},Ub=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:l,styleTags:i,title:o="",titleAttributes:c,prioritizeSeoTags:d}=e;let{linkTags:m,metaTags:u,scriptTags:x}=e,j={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:j,linkTags:m,metaTags:u,scriptTags:x}=zb(e)),{priority:j,base:St("base",t,n),bodyAttributes:St("bodyAttributes",r,n),htmlAttributes:St("htmlAttributes",a,n),link:St("link",m,n),meta:St("meta",u,n),noscript:St("noscript",l,n),script:St("script",x,n),style:St("style",i,n),title:St("title",{title:o,titleAttributes:c},n)}},dc=Ub,Va=[],qf=!!(typeof window<"u"&&window.document&&window.document.createElement),uc=class{constructor(e,t){rs(this,"instances",[]);rs(this,"canUseDOM",qf);rs(this,"context");rs(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Va:this.instances,add:e=>{(this.canUseDOM?Va:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Va:this.instances).indexOf(e);(this.canUseDOM?Va:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=dc({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Bb={},Wf=Jt.createContext(Bb),tr,Qf=(tr=class extends f.Component{constructor(r){super(r);rs(this,"helmetData");this.helmetData=new uc(this.props.context||{},tr.canUseDOM)}render(){return Jt.createElement(Wf.Provider,{value:this.helmetData.value},this.props.children)}},rs(tr,"canUseDOM",qf),tr),gr=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Dt}]`),a=[].slice.call(n),l=[];let i;return t&&t.length&&t.forEach(o=>{const c=document.createElement(e);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(d==="innerHTML")c.innerHTML=o.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{const m=d,u=typeof o[m]>"u"?"":o[m];c.setAttribute(d,u)}c.setAttribute(Dt,"true"),a.some((d,m)=>(i=m,c.isEqualNode(d)))?a.splice(i,1):l.push(c)}),a.forEach(o=>{var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),l.forEach(o=>r.appendChild(o)),{oldTags:a,newTags:l}},mc=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Dt),a=n?n.split(","):[],l=[...a],i=Object.keys(t);for(const o of i){const c=t[o]||"";r.getAttribute(o)!==c&&r.setAttribute(o,c),a.indexOf(o)===-1&&a.push(o);const d=l.indexOf(o);d!==-1&&l.splice(d,1)}for(let o=l.length-1;o>=0;o-=1)r.removeAttribute(l[o]);a.length===l.length?r.removeAttribute(Dt):r.getAttribute(Dt)!==i.join(",")&&r.setAttribute(Dt,i.join(","))},Hb=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=Bf(e)),mc("title",t)},Bm=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:l,metaTags:i,noscriptTags:o,onChangeClientState:c,scriptTags:d,styleTags:m,title:u,titleAttributes:x}=e;mc("body",n),mc("html",a),Hb(u,x);const j={baseTag:gr("base",r),linkTags:gr("link",l),metaTags:gr("meta",i),noscriptTags:gr("noscript",o),scriptTags:gr("script",d),styleTags:gr("style",m)},y={},b={};Object.keys(j).forEach(w=>{const{newTags:p,oldTags:g}=j[w];p.length&&(y[w]=p),g.length&&(b[w]=j[w].oldTags)}),t&&t(),c(e,y,b)},bn=null,Vb=e=>{bn&&cancelAnimationFrame(bn),e.defer?bn=requestAnimationFrame(()=>{Bm(e,()=>{bn=null})}):(Bm(e),bn=null)},qb=Vb,Hm=class extends f.Component{constructor(){super(...arguments);rs(this,"rendered",!1)}shouldComponentUpdate(t){return!Pb(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=$b(t.get().map(l=>{const i={...l.props};return delete i.context,i}));Qf.canUseDOM?qb(a):dc&&(n=dc(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},oo,Wb=(oo=class extends f.Component{shouldComponentUpdate(e){return!Nb(Um(this.props,"helmetData"),Um(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return Mm(zm.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${zm.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Mm(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return Jt.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...l}=n.props,i=Object.keys(l).reduce((c,d)=>(c[Eb[d]||d]=l[d],c),{});let{type:o}=n;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(n,a),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,i,a);break;default:t=this.mapObjectTypeChildren(n,t,i,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof uc)){const a=n;n=new uc(a.context,!0),delete r.helmetData}return n?Jt.createElement(Hm,{...r,context:n.value}):Jt.createElement(Wf.Consumer,null,a=>Jt.createElement(Hm,{...r,context:a}))}},rs(oo,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),oo);function Kf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Qb}=Object.prototype,{getPrototypeOf:Sd}=Object,{iterator:hi,toStringTag:Yf}=Symbol,pi=(e=>t=>{const r=Qb.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=e=>(e=e.toLowerCase(),t=>pi(t)===e),fi=e=>t=>typeof t===e,{isArray:sn}=Array,Kr=fi("undefined");function da(e){return e!==null&&!Kr(e)&&e.constructor!==null&&!Kr(e.constructor)&&xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jf=Ht("ArrayBuffer");function Kb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jf(e.buffer),t}const Yb=fi("string"),xt=fi("function"),Gf=fi("number"),ua=e=>e!==null&&typeof e=="object",Jb=e=>e===!0||e===!1,dl=e=>{if(pi(e)!=="object")return!1;const t=Sd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Yf in e)&&!(hi in e)},Gb=e=>{if(!ua(e)||da(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xb=Ht("Date"),Zb=Ht("File"),ew=Ht("Blob"),tw=Ht("FileList"),sw=e=>ua(e)&&xt(e.pipe),rw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xt(e.append)&&((t=pi(e))==="formdata"||t==="object"&&xt(e.toString)&&e.toString()==="[object FormData]"))},nw=Ht("URLSearchParams"),[aw,lw,iw,ow]=["ReadableStream","Request","Response","Headers"].map(Ht),cw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ma(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),sn(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(da(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function Xf(e,t){if(da(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zf=e=>!Kr(e)&&e!==er;function hc(){const{caseless:e,skipUndefined:t}=Zf(this)&&this||{},r={},n=(a,l)=>{const i=e&&Xf(r,l)||l;dl(r[i])&&dl(a)?r[i]=hc(r[i],a):dl(a)?r[i]=hc({},a):sn(a)?r[i]=a.slice():(!t||!Kr(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&ma(arguments[a],n);return r}const dw=(e,t,r,{allOwnKeys:n}={})=>(ma(t,(a,l)=>{r&&xt(a)?e[l]=Kf(a,r):e[l]=a},{allOwnKeys:n}),e),uw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mw=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},hw=(e,t,r,n)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&Sd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},pw=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},fw=e=>{if(!e)return null;if(sn(e))return e;let t=e.length;if(!Gf(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},xw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sd(Uint8Array)),gw=(e,t)=>{const n=(e&&e[hi]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},yw=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},vw=Ht("HTMLFormElement"),bw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Vm=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ww=Ht("RegExp"),ex=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ma(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},jw=e=>{ex(e,(t,r)=>{if(xt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(xt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Nw=(e,t)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return sn(e)?n(e):n(String(e).split(t)),r},kw=()=>{},Sw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cw(e){return!!(e&&xt(e.append)&&e[Yf]==="FormData"&&e[hi])}const Pw=e=>{const t=new Array(10),r=(n,a)=>{if(ua(n)){if(t.indexOf(n)>=0)return;if(da(n))return n;if(!("toJSON"in n)){t[a]=n;const l=sn(n)?[]:{};return ma(n,(i,o)=>{const c=r(i,a+1);!Kr(c)&&(l[o]=c)}),t[a]=void 0,l}}return n};return r(e,0)},Ew=Ht("AsyncFunction"),Tw=e=>e&&(ua(e)||xt(e))&&xt(e.then)&&xt(e.catch),tx=((e,t)=>e?setImmediate:t?((r,n)=>(er.addEventListener("message",({source:a,data:l})=>{a===er&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),er.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",xt(er.postMessage)),Aw=typeof queueMicrotask<"u"?queueMicrotask.bind(er):typeof process<"u"&&process.nextTick||tx,Rw=e=>e!=null&&xt(e[hi]),E={isArray:sn,isArrayBuffer:Jf,isBuffer:da,isFormData:rw,isArrayBufferView:Kb,isString:Yb,isNumber:Gf,isBoolean:Jb,isObject:ua,isPlainObject:dl,isEmptyObject:Gb,isReadableStream:aw,isRequest:lw,isResponse:iw,isHeaders:ow,isUndefined:Kr,isDate:Xb,isFile:Zb,isBlob:ew,isRegExp:ww,isFunction:xt,isStream:sw,isURLSearchParams:nw,isTypedArray:xw,isFileList:tw,forEach:ma,merge:hc,extend:dw,trim:cw,stripBOM:uw,inherits:mw,toFlatObject:hw,kindOf:pi,kindOfTest:Ht,endsWith:pw,toArray:fw,forEachEntry:gw,matchAll:yw,isHTMLForm:vw,hasOwnProperty:Vm,hasOwnProp:Vm,reduceDescriptors:ex,freezeMethods:jw,toObjectSet:Nw,toCamelCase:bw,noop:kw,toFiniteNumber:Sw,findKey:Xf,global:er,isContextDefined:Zf,isSpecCompliantForm:Cw,toJSONObject:Pw,isAsyncFn:Ew,isThenable:Tw,setImmediate:tx,asap:Aw,isIterable:Rw};function ne(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}E.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const sx=ne.prototype,rx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rx[e]={value:e}});Object.defineProperties(ne,rx);Object.defineProperty(sx,"isAxiosError",{value:!0});ne.from=(e,t,r,n,a,l)=>{const i=Object.create(sx);E.toFlatObject(e,i,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ne.call(i,o,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Ow=null;function pc(e){return E.isPlainObject(e)||E.isArray(e)}function nx(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function qm(e,t,r){return e?e.concat(t).map(function(a,l){return a=nx(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function _w(e){return E.isArray(e)&&!e.some(pc)}const $w=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function xi(e,t,r){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=E.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!E.isUndefined(w[b])});const n=r.metaTokens,a=r.visitor||m,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(E.isDate(y))return y.toISOString();if(E.isBoolean(y))return y.toString();if(!c&&E.isBlob(y))throw new ne("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(y)||E.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,b,w){let p=y;if(y&&!w&&typeof y=="object"){if(E.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(E.isArray(y)&&_w(y)||(E.isFileList(y)||E.endsWith(b,"[]"))&&(p=E.toArray(y)))return b=nx(b),p.forEach(function(v,S){!(E.isUndefined(v)||v===null)&&t.append(i===!0?qm([b],S,l):i===null?b:b+"[]",d(v))}),!1}return pc(y)?!0:(t.append(qm(w,b,l),d(y)),!1)}const u=[],x=Object.assign($w,{defaultVisitor:m,convertValue:d,isVisitable:pc});function j(y,b){if(!E.isUndefined(y)){if(u.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));u.push(y),E.forEach(y,function(p,g){(!(E.isUndefined(p)||p===null)&&a.call(t,p,E.isString(g)?g.trim():g,b,x))===!0&&j(p,b?b.concat(g):[g])}),u.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return j(e),t}function Wm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cd(e,t){this._pairs=[],e&&xi(e,this,t)}const ax=Cd.prototype;ax.append=function(t,r){this._pairs.push([t,r])};ax.toString=function(t){const r=t?function(n){return t.call(this,n,Wm)}:Wm;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Iw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lx(e,t,r){if(!t)return e;const n=r&&r.encode||Iw;E.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=E.isURLSearchParams(t)?t.toString():new Cd(t,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Qm{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fw=typeof URLSearchParams<"u"?URLSearchParams:Cd,Lw=typeof FormData<"u"?FormData:null,Dw=typeof Blob<"u"?Blob:null,Mw={isBrowser:!0,classes:{URLSearchParams:Fw,FormData:Lw,Blob:Dw},protocols:["http","https","file","blob","url","data"]},Pd=typeof window<"u"&&typeof document<"u",fc=typeof navigator=="object"&&navigator||void 0,zw=Pd&&(!fc||["ReactNative","NativeScript","NS"].indexOf(fc.product)<0),Uw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bw=Pd&&window.location.href||"http://localhost",Hw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pd,hasStandardBrowserEnv:zw,hasStandardBrowserWebWorkerEnv:Uw,navigator:fc,origin:Bw},Symbol.toStringTag,{value:"Module"})),nt={...Hw,...Mw};function Vw(e,t){return xi(e,new nt.classes.URLSearchParams,{visitor:function(r,n,a,l){return nt.isNode&&E.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function qw(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ww(e){const t={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],t[l]=e[l];return t}function ox(e){function t(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&E.isArray(a)?a.length:i,c?(E.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!E.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],l)&&E.isArray(a[i])&&(a[i]=Ww(a[i])),!o)}if(E.isFormData(e)&&E.isFunction(e.entries)){const r={};return E.forEachEntry(e,(n,a)=>{t(qw(n),a,r,0)}),r}return null}function Qw(e,t,r){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ha={transitional:ix,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=E.isObject(t);if(l&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return a?JSON.stringify(ox(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Vw(t,this.formSerializer).toString();if((o=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xi(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),Qw(t)):t}],transformResponse:[function(t){const r=this.transitional||ha.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?ne.from(o,ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{ha.headers[e]={}});const Kw=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yw=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&Kw[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Km=Symbol("internals");function wn(e){return e&&String(e).trim().toLowerCase()}function ul(e){return e===!1||e==null?e:E.isArray(e)?e.map(ul):String(e)}function Jw(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Gw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function to(e,t,r,n,a){if(E.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function Xw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Zw(e,t){const r=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,i){return this[n].call(this,t,a,l,i)},configurable:!0})})}let gt=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function l(o,c,d){const m=wn(c);if(!m)throw new Error("header name must be a non-empty string");const u=E.findKey(a,m);(!u||a[u]===void 0||d===!0||d===void 0&&a[u]!==!1)&&(a[u||c]=ul(o))}const i=(o,c)=>E.forEach(o,(d,m)=>l(d,m,c));if(E.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(E.isString(t)&&(t=t.trim())&&!Gw(t))i(Yw(t),r);else if(E.isObject(t)&&E.isIterable(t)){let o={},c,d;for(const m of t){if(!E.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?E.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}i(o,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=wn(t),t){const n=E.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Jw(a);if(E.isFunction(r))return r.call(this,a,n);if(E.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=wn(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||to(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function l(i){if(i=wn(i),i){const o=E.findKey(n,i);o&&(!r||to(n,n[o],o,r))&&(delete n[o],a=!0)}}return E.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!t||to(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,n={};return E.forEach(this,(a,l)=>{const i=E.findKey(n,l);if(i){r[i]=ul(a),delete r[l];return}const o=t?Xw(l):String(l).trim();o!==l&&delete r[l],r[o]=ul(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return E.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&E.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Km]=this[Km]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=wn(i);n[o]||(Zw(a,i),n[o]=!0)}return E.isArray(t)?t.forEach(l):l(t),this}};gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(gt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});E.freezeMethods(gt);function so(e,t){const r=this||ha,n=t||r,a=gt.from(n.headers);let l=n.data;return E.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function cx(e){return!!(e&&e.__CANCEL__)}function rn(e,t,r){ne.call(this,e??"canceled",ne.ERR_CANCELED,t,r),this.name="CanceledError"}E.inherits(rn,ne,{__CANCEL__:!0});function dx(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ne("Request failed with status code "+r.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ej(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tj(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),m=n[l];i||(i=d),r[a]=c,n[a]=d;let u=l,x=0;for(;u!==a;)x+=r[u++],u=u%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-i<t)return;const j=m&&d-m;return j?Math.round(x*1e3/j):void 0}}function sj(e,t){let r=0,n=1e3/t,a,l;const i=(d,m=Date.now())=>{r=m,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const m=Date.now(),u=m-r;u>=n?i(d,m):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-u)))},()=>a&&i(a)]}const Bl=(e,t,r=3)=>{let n=0;const a=tj(50,250);return sj(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),m=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(u)},r)},Ym=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Jm=e=>(...t)=>E.asap(()=>e(...t)),rj=nt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,nt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,nj=nt.hasStandardBrowserEnv?{write(e,t,r,n,a,l){const i=[e+"="+encodeURIComponent(t)];E.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),E.isString(n)&&i.push("path="+n),E.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ux(e,t,r){let n=!aj(t);return e&&(n||r==!1)?lj(e,t):t}const Gm=e=>e instanceof gt?{...e}:e;function dr(e,t){t=t||{};const r={};function n(d,m,u,x){return E.isPlainObject(d)&&E.isPlainObject(m)?E.merge.call({caseless:x},d,m):E.isPlainObject(m)?E.merge({},m):E.isArray(m)?m.slice():m}function a(d,m,u,x){if(E.isUndefined(m)){if(!E.isUndefined(d))return n(void 0,d,u,x)}else return n(d,m,u,x)}function l(d,m){if(!E.isUndefined(m))return n(void 0,m)}function i(d,m){if(E.isUndefined(m)){if(!E.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function o(d,m,u){if(u in t)return n(d,m);if(u in e)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,m,u)=>a(Gm(d),Gm(m),u,!0)};return E.forEach(Object.keys({...e,...t}),function(m){const u=c[m]||a,x=u(e[m],t[m],m);E.isUndefined(x)&&u!==o||(r[m]=x)}),r}const mx=e=>{const t=dr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=gt.from(i),t.url=lx(ux(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),E.isFormData(r)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(E.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,u])=>{d.includes(m.toLowerCase())&&i.set(m,u)})}}if(nt.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&rj(t.url))){const c=a&&l&&nj.read(l);c&&i.set(a,c)}return t},ij=typeof XMLHttpRequest<"u",oj=ij&&function(e){return new Promise(function(r,n){const a=mx(e);let l=a.data;const i=gt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,m,u,x,j,y;function b(){j&&j(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function p(){if(!w)return;const v=gt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:v,config:e,request:w};dx(function(A){r(A),b()},function(A){n(A),b()},C),w=null}"onloadend"in w?w.onloadend=p:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(p)},w.onabort=function(){w&&(n(new ne("Request aborted",ne.ECONNABORTED,e,w)),w=null)},w.onerror=function(S){const C=S&&S.message?S.message:"Network Error",_=new ne(C,ne.ERR_NETWORK,e,w);_.event=S||null,n(_),w=null},w.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||ix;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new ne(S,C.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,w)),w=null},l===void 0&&i.setContentType(null),"setRequestHeader"in w&&E.forEach(i.toJSON(),function(S,C){w.setRequestHeader(C,S)}),E.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),d&&([x,y]=Bl(d,!0),w.addEventListener("progress",x)),c&&w.upload&&([u,j]=Bl(c),w.upload.addEventListener("progress",u),w.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(m=v=>{w&&(n(!v||v.type?new rn(null,e,w):v),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const g=ej(a.url);if(g&&nt.protocols.indexOf(g)===-1){n(new ne("Unsupported protocol "+g+":",ne.ERR_BAD_REQUEST,e));return}w.send(l||null)})},cj=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const m=d instanceof Error?d:this.reason;n.abort(m instanceof ne?m:new rn(m instanceof Error?m.message:m))}};let i=t&&setTimeout(()=>{i=null,l(new ne(`timeout ${t} of ms exceeded`,ne.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>E.asap(o),c}},dj=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},uj=async function*(e,t){for await(const r of mj(e))yield*dj(r,t)},mj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Xm=(e,t,r,n)=>{const a=uj(e,t);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await a.next();if(d){o(),c.close();return}let u=m.byteLength;if(r){let x=l+=u;r(x)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Zm=64*1024,{isFunction:qa}=E,hj=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:eh,TextEncoder:th}=E.global,sh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pj=e=>{e=E.merge.call({skipUndefined:!0},hj,e);const{fetch:t,Request:r,Response:n}=e,a=t?qa(t):typeof fetch=="function",l=qa(r),i=qa(n);if(!a)return!1;const o=a&&qa(eh),c=a&&(typeof th=="function"?(y=>b=>y.encode(b))(new th):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=l&&o&&sh(()=>{let y=!1;const b=new r(nt.origin,{body:new eh,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),m=i&&o&&sh(()=>E.isReadableStream(new n("").body)),u={stream:m&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!u[y]&&(u[y]=(b,w)=>{let p=b&&b[y];if(p)return p.call(b);throw new ne(`Response type '${y}' is not supported`,ne.ERR_NOT_SUPPORT,w)})});const x=async y=>{if(y==null)return 0;if(E.isBlob(y))return y.size;if(E.isSpecCompliantForm(y))return(await new r(nt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(E.isArrayBufferView(y)||E.isArrayBuffer(y))return y.byteLength;if(E.isURLSearchParams(y)&&(y=y+""),E.isString(y))return(await c(y)).byteLength},j=async(y,b)=>{const w=E.toFiniteNumber(y.getContentLength());return w??x(b)};return async y=>{let{url:b,method:w,data:p,signal:g,cancelToken:v,timeout:S,onDownloadProgress:C,onUploadProgress:_,responseType:A,headers:U,withCredentials:T="same-origin",fetchOptions:O}=mx(y),te=t||fetch;A=A?(A+"").toLowerCase():"text";let ae=cj([g,v&&v.toAbortSignal()],S),oe=null;const R=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let L;try{if(_&&d&&w!=="get"&&w!=="head"&&(L=await j(U,p))!==0){let B=new r(b,{method:"POST",body:p,duplex:"half"}),Y;if(E.isFormData(p)&&(Y=B.headers.get("content-type"))&&U.setContentType(Y),B.body){const[Ee,ge]=Ym(L,Bl(Jm(_)));p=Xm(B.body,Zm,Ee,ge)}}E.isString(T)||(T=T?"include":"omit");const V=l&&"credentials"in r.prototype,z={...O,signal:ae,method:w.toUpperCase(),headers:U.normalize().toJSON(),body:p,duplex:"half",credentials:V?T:void 0};oe=l&&new r(b,z);let N=await(l?te(oe,O):te(b,z));const I=m&&(A==="stream"||A==="response");if(m&&(C||I&&R)){const B={};["status","statusText","headers"].forEach(be=>{B[be]=N[be]});const Y=E.toFiniteNumber(N.headers.get("content-length")),[Ee,ge]=C&&Ym(Y,Bl(Jm(C),!0))||[];N=new n(Xm(N.body,Zm,Ee,()=>{ge&&ge(),R&&R()}),B)}A=A||"text";let $=await u[E.findKey(u,A)||"text"](N,y);return!I&&R&&R(),await new Promise((B,Y)=>{dx(B,Y,{data:$,headers:gt.from(N.headers),status:N.status,statusText:N.statusText,config:y,request:oe})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,y,oe),{cause:V.cause||V}):ne.from(V,V&&V.code,y,oe)}}},fj=new Map,hx=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,l=[n,a,r];let i=l.length,o=i,c,d,m=fj;for(;o--;)c=l[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:pj(t)),m=d;return d};hx();const xc={http:Ow,xhr:oj,fetch:{get:hx}};E.forEach(xc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rh=e=>`- ${e}`,xj=e=>E.isFunction(e)||e===null||e===!1,px={getAdapter:(e,t)=>{e=E.isArray(e)?e:[e];const{length:r}=e;let n,a;const l={};for(let i=0;i<r;i++){n=e[i];let o;if(a=n,!xj(n)&&(a=xc[(o=String(n)).toLowerCase()],a===void 0))throw new ne(`Unknown adapter '${o}'`);if(a&&(E.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(rh).join(`
`):" "+rh(i[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:xc};function ro(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rn(null,e)}function nh(e){return ro(e),e.headers=gt.from(e.headers),e.data=so.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),px.getAdapter(e.adapter||ha.adapter,e)(e).then(function(n){return ro(e),n.data=so.call(e,e.transformResponse,n),n.headers=gt.from(n.headers),n},function(n){return cx(n)||(ro(e),n&&n.response&&(n.response.data=so.call(e,e.transformResponse,n.response),n.response.headers=gt.from(n.response.headers))),Promise.reject(n)})}const fx="1.12.2",gi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ah={};gi.transitional=function(t,r,n){function a(l,i){return"[Axios v"+fx+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new ne(a(i," has been removed"+(r?" in "+r:"")),ne.ERR_DEPRECATED);return r&&!ah[i]&&(ah[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};gi.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function gj(e,t,r){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new ne("option "+l+" must be "+c,ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ne("Unknown option "+l,ne.ERR_BAD_OPTION)}}const ml={assertOptions:gj,validators:gi},Qt=ml.validators;let nr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qm,response:new Qm}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=dr(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&ml.assertOptions(n,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean)},!1),a!=null&&(E.isFunction(a)?r.paramsSerializer={serialize:a}:ml.assertOptions(a,{encode:Qt.function,serialize:Qt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ml.assertOptions(r,{baseUrl:Qt.spelling("baseURL"),withXsrfToken:Qt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&E.merge(l.common,l[r.method]);l&&E.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),r.headers=gt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let m,u=0,x;if(!c){const y=[nh.bind(this),void 0];for(y.unshift(...o),y.push(...d),x=y.length,m=Promise.resolve(r);u<x;)m=m.then(y[u++],y[u++]);return m}x=o.length;let j=r;for(;u<x;){const y=o[u++],b=o[u++];try{j=y(j)}catch(w){b.call(this,w);break}}try{m=nh.call(this,j)}catch(y){return Promise.reject(y)}for(u=0,x=d.length;u<x;)m=m.then(d[u++],d[u++]);return m}getUri(t){t=dr(this.defaults,t);const r=ux(t.baseURL,t.url,t.allowAbsoluteUrls);return lx(r,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){nr.prototype[t]=function(r,n){return this.request(dr(n||{},{method:t,url:r,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function r(n){return function(l,i,o){return this.request(dr(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}nr.prototype[t]=r(),nr.prototype[t+"Form"]=r(!0)});let yj=class xx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new rn(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new xx(function(a){t=a}),cancel:t}}};function vj(e){return function(r){return e.apply(null,r)}}function bj(e){return E.isObject(e)&&e.isAxiosError===!0}const gc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gc).forEach(([e,t])=>{gc[t]=e});function gx(e){const t=new nr(e),r=Kf(nr.prototype.request,t);return E.extend(r,nr.prototype,t,{allOwnKeys:!0}),E.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return gx(dr(e,a))},r}const H=gx(ha);H.Axios=nr;H.CanceledError=rn;H.CancelToken=yj;H.isCancel=cx;H.VERSION=fx;H.toFormData=xi;H.AxiosError=ne;H.Cancel=H.CanceledError;H.all=function(t){return Promise.all(t)};H.spread=vj;H.isAxiosError=bj;H.mergeConfig=dr;H.AxiosHeaders=gt;H.formToJSON=e=>ox(E.isHTMLForm(e)?new FormData(e):e);H.getAdapter=px.getAdapter;H.HttpStatusCode=gc;H.default=H;const{Axios:ZN,AxiosError:e1,CanceledError:t1,isCancel:s1,CancelToken:r1,VERSION:n1,all:a1,Cancel:l1,isAxiosError:i1,spread:o1,toFormData:c1,AxiosHeaders:d1,HttpStatusCode:u1,formToJSON:m1,getAdapter:h1,mergeConfig:p1}=H,Ed=f.createContext(),lt=()=>{const e=f.useContext(Ed);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},wj=({children:e})=>{const[t,r]=f.useState(null),[n,a]=f.useState(!0);f.useEffect(()=>{const d=localStorage.getItem("user"),m=localStorage.getItem("token");d&&m&&(r(JSON.parse(d)),H.defaults.headers.common.Authorization=`Bearer ${m}`),a(!1)},[]);const l=async(d,m)=>{const u=localStorage.getItem("cart"),x=u?JSON.parse(u):[],{data:j}=await H.post("/api/auth/login",{emailOrPhone:d,password:m});return r(j),localStorage.setItem("user",JSON.stringify(j)),localStorage.setItem("token",j.token),H.defaults.headers.common.Authorization=`Bearer ${j.token}`,{user:j,localCart:x}},i=async d=>{const m=localStorage.getItem("cart"),u=m?JSON.parse(m):[],{data:x}=await H.post("/api/auth/register",d);return r(x),localStorage.setItem("user",JSON.stringify(x)),localStorage.setItem("token",x.token),H.defaults.headers.common.Authorization=`Bearer ${x.token}`,{user:x,localCart:u}},o=()=>{r(null),localStorage.removeItem("user"),localStorage.removeItem("token"),delete H.defaults.headers.common.Authorization},c=d=>{r(d),localStorage.setItem("user",JSON.stringify(d))};return s.jsx(Ed.Provider,{value:{user:t,login:l,register:i,logout:o,updateUser:c,loading:n},children:e})},ce="https://clownfish-app-wiznq.ondigitalocean.app/api",pr=H.create({baseURL:ce,headers:{"Content-Type":"application/json"}});pr.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const Yr=async(e={})=>{const{data:t}=await H.get(`${ce}/products`,{params:e});return t},yx=async e=>{const{data:t}=await H.get(`${ce}/products/${e}`);return t},jj=async(e,t)=>{const r=localStorage.getItem("token"),{data:n}=await H.post(`${ce}/products/${e}/reviews`,t,{headers:{Authorization:`Bearer ${r}`}});return n},Hl=jj,lh=async e=>{const{data:t}=await H.post(`${ce}/orders`,e);return t},vx=async()=>{const e=localStorage.getItem("token"),{data:t}=await H.get(`${ce}/orders/myorders`,{headers:{Authorization:`Bearer ${e}`}});return t},Nj=vx,kj=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.get(`${ce}/orders/${e}`,{headers:{Authorization:`Bearer ${t}`}});return r},Sj=async(e,t)=>{const{data:r}=await H.put(`${ce}/orders/${e}/pay`,t,{withCredentials:!0});return r},Cj=async e=>{const{data:t}=await H.post(`${ce}/payment/create-order`,{amount:e});return t},Pj=async e=>{const{data:t}=await H.post(`${ce}/payment/verify`,e);return t},ih=async e=>{const{data:t}=await H.post(`${ce}/auth/forgot-password`,{identifier:e});return t},Ej=async(e,t)=>{const{data:r}=await H.post(`${ce}/auth/verify-otp`,{phone:e,otp:t});return r},Tj=async(e,t)=>{const{data:r}=await H.put(`${ce}/auth/reset-password/${e}`,{password:t});return r},Aj=async()=>{const e=localStorage.getItem("token"),{data:t}=await H.get(`${ce}/contact`,{headers:{Authorization:`Bearer ${e}`}});return t},Rj=async(e,t)=>{const r=localStorage.getItem("token"),{data:n}=await H.put(`${ce}/contact/${e}/status`,{status:t},{headers:{Authorization:`Bearer ${r}`}});return n},bx=async()=>{const e=localStorage.getItem("token"),{data:t}=await H.get(`${ce}/products`,{headers:{Authorization:`Bearer ${e}`}});return t},Oj=async(e={})=>{const t=localStorage.getItem("token"),{data:r}=await H.get(`${ce}/promocodes`,{headers:{Authorization:`Bearer ${t}`},params:e});return r},_j=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.post(`${ce}/promocodes`,e,{headers:{Authorization:`Bearer ${t}`}});return r},$j=async(e,t)=>{const r=localStorage.getItem("token"),{data:n}=await H.put(`${ce}/promocodes/${e}`,t,{headers:{Authorization:`Bearer ${r}`}});return n},Ij=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.delete(`${ce}/promocodes/${e}`,{headers:{Authorization:`Bearer ${t}`}});return r},Fj=async(e,t,r=[],n=[],a=null)=>{const{data:l}=await H.post(`${ce}/promocodes/validate`,{code:e,orderValue:t,products:r,categories:n,userId:a});return l},Td=async()=>{const{data:e}=await H.get(`${ce}/settings`);return e},Lj=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.put(`${ce}/settings`,e,{headers:{Authorization:`Bearer ${t}`}});return r},hl=async(e,t="standard",r=null)=>{const{data:n}=await H.post(`${ce}/settings/calculate-order-total`,{items:e,shippingMethod:t,promocode:r});return n},Dj=async()=>{const{data:e}=await pr.get("/cart");return e},Mj=async(e,t=1)=>{const{data:r}=await pr.post("/cart/add",{productId:e,quantity:t});return r},zj=async(e,t)=>{const{data:r}=await pr.put("/cart/update",{productId:e,quantity:t});return r},Uj=async e=>{const{data:t}=await pr.delete(`/cart/remove/${e}`);return t},Bj=async()=>{const{data:e}=await pr.delete("/cart/clear");return e},Hj=async e=>{const{data:t}=await pr.post("/cart/sync",{localCart:e});return t},Vj=async e=>{const t=localStorage.getItem("token"),r=new FormData;e.forEach(a=>{r.append("images",a)});const{data:n}=await H.post(`${ce}/products/upload-images`,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});return n},wx=async()=>{const e=localStorage.getItem("token"),{data:t}=await H.get(`${ce}/addresses`,{headers:{Authorization:`Bearer ${e}`}});return t},qj=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.post(`${ce}/addresses`,e,{headers:{Authorization:`Bearer ${t}`}});return r},Wj=async(e,t)=>{const r=localStorage.getItem("token"),{data:n}=await H.put(`${ce}/addresses/${e}`,t,{headers:{Authorization:`Bearer ${r}`}});return n},Qj=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.delete(`${ce}/addresses/${e}`,{headers:{Authorization:`Bearer ${t}`}});return r},Kj=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.post(`${ce}/addresses/save-from-checkout`,e,{headers:{Authorization:`Bearer ${t}`}});return r},Yj=async()=>{const e=localStorage.getItem("token"),{data:t}=await H.get(`${ce}/auth/profile`,{headers:{Authorization:`Bearer ${e}`}});return t},Jj=async()=>{const e=localStorage.getItem("token"),{data:t}=await H.get(`${ce}/auth/stats`,{headers:{Authorization:`Bearer ${e}`}});return t},Ad=async()=>{const e=localStorage.getItem("token"),{data:t}=await H.get(`${ce}/wishlist`,{headers:{Authorization:`Bearer ${e}`}});return t},Gj=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.delete(`${ce}/wishlist/remove/${e}`,{headers:{Authorization:`Bearer ${t}`}});return r},jx=async e=>{const t=localStorage.getItem("token"),{data:r}=await H.post(`${ce}/wishlist/toggle/${e}`,{},{headers:{Authorization:`Bearer ${t}`}});return r},Nx=f.createContext(),Ks=()=>{const e=f.useContext(Nx);if(!e)throw new Error("useCart must be used within CartProvider");return e},Xj=({children:e})=>{const{user:t}=lt(),[r,n]=f.useState([]),[a,l]=f.useState(!1);f.useEffect(()=>{i()},[t]);const i=async()=>{if(t)try{l(!0);const y=await Dj();n(y.items||[])}catch(y){console.error("Error loading cart:",y);const b=localStorage.getItem("cart");b&&n(JSON.parse(b))}finally{l(!1)}else{const y=localStorage.getItem("cart");y&&n(JSON.parse(y))}},o=async y=>{if(t&&y.length>0)try{const b=await Hj(y);n(b.cart.items||[]),localStorage.removeItem("cart"),P.success("Cart synced successfully!")}catch(b){console.error("Error syncing cart:",b),P.error("Failed to sync cart")}};f.useEffect(()=>{t||localStorage.setItem("cart",JSON.stringify(r))},[r,t]);const c=async(y,b=1)=>{var w,p;if(t)try{l(!0);const g=await Mj(y._id,b);n(g.cart.items||[]),P.success("Added to cart",{duration:1500})}catch(g){console.error("Error adding to cart:",g),P.error(((p=(w=g.response)==null?void 0:w.data)==null?void 0:p.message)||"Failed to add item to cart")}finally{l(!1)}else n(g=>{const v=new Date().getTime(),S={...y,cartItemId:`${y._id}_${v}`,quantity:b};return P.success("Added to cart",{duration:1500}),[...g,S]})},d=async(y,b)=>{var w,p;if(!(b<0))if(t)try{l(!0);const g=await zj(y,b);n(g.cart.items||[]),b===0&&P.success("Item removed from cart")}catch(g){console.error("Error updating cart:",g),P.error(((p=(w=g.response)==null?void 0:w.data)==null?void 0:p.message)||"Failed to update cart")}finally{l(!1)}else b===0?(n(g=>g.filter(v=>v.cartItemId!==y)),P.success("Item removed from cart")):n(g=>g.map(v=>v.cartItemId===y?{...v,quantity:b}:v))},m=async y=>{var b,w;if(t)try{l(!0);const p=await Uj(y);n(p.cart.items||[]),P.success("Item removed from cart")}catch(p){console.error("Error removing from cart:",p),P.error(((w=(b=p.response)==null?void 0:b.data)==null?void 0:w.message)||"Failed to remove item")}finally{l(!1)}else n(p=>p.filter(g=>g.cartItemId!==y)),P.success("Removed from cart")},u=async()=>{if(t)try{l(!0),await Bj(),n([]),P.success("Cart cleared")}catch(y){console.error("Error clearing cart:",y),P.error("Failed to clear cart")}finally{l(!1)}else n([]),localStorage.removeItem("cart")},x=()=>r.reduce((y,b)=>y+b.price*b.quantity,0),j=()=>r.reduce((y,b)=>y+b.quantity,0);return s.jsx(Nx.Provider,{value:{cartItems:r,loading:a,addToCart:c,removeFromCart:m,updateQuantity:d,clearCart:u,getCartTotal:x,getCartCount:j,syncCartOnLogin:o,loadCart:i},children:e})};var Zj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tN=(e,t)=>{const r=f.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,children:o,...c},d)=>f.createElement("svg",{ref:d,...Zj,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:`lucide lucide-${eN(e)}`,...c},[...t.map(([m,u])=>f.createElement(m,u)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};var K=tN;const sN=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),rN=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Mr=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),no=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),yc=K("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),nN=K("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),kx=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),de=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Sx=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Cx=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Px=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),zr=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ao=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),oh=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),vc=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),aN=K("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),bc=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Wa=K("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),lN=K("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),us=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),iN=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),oN=K("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),cN=K("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Ex=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),pl=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),dN=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),gs=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),is=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),uN=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),mN=K("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Vl=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),hN=K("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Qe=K("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),ch=K("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Qa=K("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),pN=K("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),es=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ta=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fN=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),dh=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),In=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),fl=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Rd=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),wc=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sa=K("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Tx=K("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),yi=K("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),xN=K("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),jc=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ye=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ql=K("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),gN=K("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),ra=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Jr=K("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),yN=K("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),lo=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ps=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vN=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rt=K("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ur=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bN=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(!1),{user:a,logout:l}=lt(),{getCartCount:i}=Ks(),o=Bt(),c=()=>{l(),o("/"),n(!1)};return s.jsx("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-20",children:[s.jsxs(J,{to:"/",className:"flex items-center space-x-3",children:[s.jsx("img",{src:"/images/villagecrunch-logo.png",alt:"VillageCrunch Logo",className:"h-12 w-auto",onError:d=>{d.target.style.display="none",d.target.nextSibling.style.display="block"}}),s.jsx("div",{style:{display:"none"},children:s.jsx("h1",{className:"text-2xl font-bold text-desi-brown",children:"VillageCrunch"})})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[s.jsx(J,{to:"/",className:"text-gray-700 hover:text-desi-gold transition",children:"Home"}),s.jsx(J,{to:"/products",className:"text-gray-700 hover:text-desi-gold transition",children:"Products"}),s.jsx(J,{to:"/about",className:"text-gray-700 hover:text-desi-gold transition",children:"About"}),s.jsx(J,{to:"/contact",className:"text-gray-700 hover:text-desi-gold transition",children:"Contact"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(J,{to:"/cart",className:"relative",children:[s.jsx(yi,{className:"w-6 h-6 text-desi-brown hover:text-desi-gold transition"}),i()>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-desi-terracotta text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i()})]}),a?s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 text-desi-brown hover:text-desi-gold transition",children:[s.jsx(Ps,{className:"w-6 h-6"}),s.jsx("span",{className:"hidden md:inline",children:a.name})]}),r&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2",children:[s.jsx(J,{to:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-desi-cream",onClick:()=>n(!1),children:"My Profile"}),s.jsx(J,{to:"/orders",className:"block px-4 py-2 text-gray-700 hover:bg-desi-cream",onClick:()=>n(!1),children:"My Orders"}),s.jsxs("button",{onClick:c,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-desi-cream flex items-center space-x-2",children:[s.jsx(dN,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})]})]}):s.jsx(J,{to:"/login",className:"hidden md:block bg-desi-gold text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition",children:"Login"}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden text-desi-brown",children:e?s.jsx(ur,{className:"w-6 h-6"}):s.jsx(uN,{className:"w-6 h-6"})})]})]}),e&&s.jsxs("div",{className:"md:hidden pb-4 space-y-2",children:[s.jsx(J,{to:"/",className:"block py-2 text-gray-700 hover:text-desi-gold",onClick:()=>t(!1),children:"Home"}),s.jsx(J,{to:"/products",className:"block py-2 text-gray-700 hover:text-desi-gold",onClick:()=>t(!1),children:"Products"}),s.jsx(J,{to:"/about",className:"block py-2 text-gray-700 hover:text-desi-gold",onClick:()=>t(!1),children:"About"}),s.jsx(J,{to:"/contact",className:"block py-2 text-gray-700 hover:text-desi-gold",onClick:()=>t(!1),children:"Contact"}),!a&&s.jsx(J,{to:"/login",className:"block py-2 text-desi-gold font-semibold",onClick:()=>t(!1),children:"Login"})]})]})})},wN=()=>s.jsx("footer",{className:"bg-desi-brown text-white mt-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 text-desi-gold",children:"VillageCrunch"}),s.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Premium quality dry fruits, makhana, and traditional Bihari thekua. Bringing authentic Indian flavors to your doorstep."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"https://facebook.com/villagecrunch",target:"_blank",rel:"noopener noreferrer",children:s.jsx(aN,{className:"w-5 h-5 hover:text-desi-gold cursor-pointer transition"})}),s.jsx("a",{href:"https://www.instagram.com/village_crunch/",target:"_blank",rel:"noopener noreferrer",children:s.jsx(oN,{className:"w-5 h-5 hover:text-desi-gold cursor-pointer transition"})}),s.jsx("a",{href:"https://twitter.com/villagecrunch",target:"_blank",rel:"noopener noreferrer",children:s.jsx(yN,{className:"w-5 h-5 hover:text-desi-gold cursor-pointer transition"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4 text-desi-gold",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(J,{to:"/products",className:"text-sm hover:text-desi-gold transition",children:"All Products"})}),s.jsx("li",{children:s.jsx(J,{to:"/products?category=dry-fruits",className:"text-sm hover:text-desi-gold transition",children:"Dry Fruits"})}),s.jsx("li",{children:s.jsx(J,{to:"/products?category=makhana",className:"text-sm hover:text-desi-gold transition",children:"Makhana"})}),s.jsx("li",{children:s.jsx(J,{to:"/products?category=thekua",className:"text-sm hover:text-desi-gold transition",children:"Thekua"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4 text-desi-gold",children:"Customer Service"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(J,{to:"/about",className:"text-sm hover:text-desi-gold transition",children:"About Us"})}),s.jsx("li",{children:s.jsx(J,{to:"/contact",className:"text-sm hover:text-desi-gold transition",children:"Contact Us"})}),s.jsx("li",{children:s.jsx(J,{to:"/shipping-policy",className:"text-sm hover:text-desi-gold transition",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(J,{to:"/returns-policy",className:"text-sm hover:text-desi-gold transition",children:"Returns & Refunds"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4 text-desi-gold",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(es,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{children:"+916203009518"})]}),s.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(gs,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{children:"villagecrunchcontact@gmail.com"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400",children:s.jsx("p",{children:" 2025 VillageCrunch. All rights reserved. Made with  in Bihar."})})]})}),jN=()=>{const{pathname:e}=Ws();return f.useEffect(()=>{window.scrollTo(0,0)},[e]),null},io=(e={})=>{const{threshold:t=.1,rootMargin:r="0px"}=e,n=f.useRef(null),[a,l]=f.useState(!1);return f.useEffect(()=>{const i=n.current;if(!i)return;const o=new IntersectionObserver(([c])=>{c.isIntersecting&&(l(!0),o.unobserve(i))},{threshold:t,rootMargin:r});return o.observe(i),()=>{i&&o.unobserve(i)}},[t,r]),{ref:n,isVisible:a}},NN=()=>{const[e,t]=f.useState(0);return f.useEffect(()=>{const r=()=>{const n=window.pageYOffset||document.documentElement.scrollTop,a=document.documentElement.scrollHeight-document.documentElement.clientHeight,l=n/a*100;t(l)};return window.addEventListener("scroll",r,{passive:!0}),r(),()=>window.removeEventListener("scroll",r)},[]),e},kN=()=>{const e=NN();return s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-1 bg-gray-200",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-desi-gold to-desi-brown transition-all duration-150 ease-out",style:{width:`${e}%`}})})},SN=()=>{const{user:e}=lt(),[t,r]=f.useState(!1),[n,a]=f.useState([]),[l,i]=f.useState(""),[o,c]=f.useState(!1),[d,m]=f.useState([]),[u,x]=f.useState(!1),[j,y]=f.useState(!1),[b,w]=f.useState(null),[p,g]=f.useState(null),v=f.useRef(null),[S,C]=f.useState(null),[_,A]=f.useState(!1),U=f.useRef(null),[T,O]=f.useState([]);f.useEffect(()=>{const z=e!=null&&e.name?` Hi ${e.name}! I'm Villy, your VillageCrunch shopping assistant!

 **Quick Start:** Pick what you're interested in below, or ask me anything!`:` Hi! I'm Villy, your VillageCrunch shopping assistant!

 **Quick Start:** Pick what you're interested in below, or ask me anything!`;a([{type:"bot",text:z,timestamp:new Date}]),O([{label:" Makhana",value:"show me makhana"},{label:" Dry Fruits",value:"show dry fruits"},{label:" Thekua",value:"show thekua"},{label:" Best Deals",value:"best offers"}])},[e]),f.useEffect(()=>{(async()=>{try{const N=await Yr({});m(N)}catch(N){console.error("Failed to load products:",N)}})()},[]),f.useEffect(()=>{var z;(z=U.current)==null||z.scrollIntoView({behavior:"smooth"})},[n]);const te=z=>{const N=z.target.files[0];if(N){if(N.size>5*1024*1024){P.error("Image size should be less than 5MB");return}w(N);const I=new FileReader;I.onloadend=()=>{g(I.result)},I.readAsDataURL(N)}},ae=async()=>{var z;try{if(!e){P.error("Please login to connect with customer care"),a($=>[...$,{type:"system",text:` **Login Required**

To connect with our customer care team, please login to your account first.

You can:
 Click the login button at the top
 Register if you don't have an account
 Continue chatting with me (Villy) for general queries`,timestamp:new Date}]);return}y(!0),x(!1);const I=await(await fetch("http://localhost:8080/api/support/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({message:((z=n[n.length-1])==null?void 0:z.text)||"Customer requesting support",category:"other"})})).json();if(I.success){C(I.ticket._id);const $={type:"system",text:` **Connected to Customer Care**

You are now chatting with our customer care team. They will help you with your issue.

 You can upload images of the product
 Our agent will call you if needed
 Average response time: 2-5 minutes

Please describe your issue...`,timestamp:new Date};a(B=>[...B,$])}else throw new Error(I.message)}catch(N){console.error("Error connecting to agent:",N),P.error("Failed to connect to customer care. Please try again."),y(!1)}},oe=z=>{const N=z.toLowerCase();if(j)return null;if(N.includes("issue")||N.includes("problem")||N.includes("complaint")||N.includes("defect")||N.includes("broken")||N.includes("damaged")||N.includes("wrong")||N.includes("missing")||N.includes("not received")||N.includes("bad quality")||N.includes("expired")||N.includes("stale")||N.includes("rotten")||N.includes("smell")||N.includes("refund")||N.includes("cancel")||N.includes("unhappy")||N.includes("disappointed"))return x(!0),O([{label:" Connect Now",value:"agent",primary:!0},{label:" Return Policy",value:"return policy"}]),` **I'm really sorry!** Let me connect you with our team immediately.

**They can help with:**
 Instant refund
 Free replacement
 Direct callback

Click "Connect Now" below! `;if(N.includes("agent")||N.includes("human")||N.includes("talk")||N.includes("customer care")||N.includes("support"))return x(!0),O([{label:" Connect to Agent",value:"agent",primary:!0}]),` **Ready to connect you with our team!**

 Response time: Under 5 minutes
 You can upload photos
 Get callback if needed`;if(N.match(/^(hi|hello|hey|namaste|good morning|good afternoon|good evening)/)){const I=e!=null&&e.name?` ${e.name}`:"";return O([{label:" Makhana",value:"show makhana"},{label:" Dry Fruits",value:"dry fruits"},{label:" Thekua",value:"thekua"},{label:" Gift Ideas",value:"gifting"}]),`Hi${I}!  Ready to shop?

Pick from below or tell me what you need! `}if(N.includes("makhana")||N.includes("fox nut")){const I=d.filter($=>{var B;return $.category==="makhana"||((B=$.name)==null?void 0:B.toLowerCase().includes("makhana"))});if(O([{label:" Peri Peri",value:"peri peri makhana"},{label:" Classic",value:"classic makhana"},{label:" Natural",value:"natural makhana"},{label:" Health Benefits",value:"makhana benefits"}]),I.length>0){let $=` **${I.length} Makhana Varieties Available**

`;return I.slice(0,3).forEach(B=>{$+=`**${B.name}**
 ${B.price} |  ${B.weight}

`}),$+=` Crunchy & Fresh
 High Protein
 Low Calorie`,$}return` **Makhana Collection**

 Peri Peri (Spicy)
 Classic Salted
 Natural Plain

 199-299 | 100gm
 Free delivery over 500`}if(N.includes("thekua")||N.includes("sweet")||N.includes("traditional")||N.includes("bihar")){const I=d.filter($=>$.category==="thekua");if(O([{label:" See All",value:"all thekua"},{label:" For Gifting",value:"thekua gift"},{label:" Bulk Order",value:"bulk thekua"}]),I.length>0){let $=` **Authentic Bihar Thekua**

`;return I.slice(0,2).forEach(B=>{$+=`**${B.name}** - ${B.price}
`}),$+=`
 Traditional recipe
 Made with jaggery
 Perfect for festivals`,$}return` **Traditional Thekua**

 Authentic Bihar recipe
 Pure jaggery sweetness
 Perfect for Chhath Puja

 From 199 | 250gm`}if(N.includes("dry fruit")||N.includes("almond")||N.includes("cashew")||N.includes("walnut")||N.includes("pistachio")||N.includes("badam")||N.includes("kaju")){O([{label:" Almonds",value:"almonds"},{label:" Cashews",value:"cashews"},{label:" Walnuts",value:"walnuts"},{label:" Gift Box",value:"dry fruits gift"}]);const I=d.filter($=>$.category==="dry-fruits");if(I.length>0){let $=` **Premium Dry Fruits**

`;return I.slice(0,3).forEach(B=>{$+=`**${B.name}** - ${B.price}
`}),$+=`
 100% Natural
 Premium Quality
 Health Benefits`,$}return` **Premium Dry Fruits**

 Almonds - Brain food
 Cashews - Heart healthy
 Walnuts - Omega-3 rich
 Pistachios - Energy boost

 From 249 | Best quality`}return N.includes("price")||N.includes("cost")||N.includes("offer")||N.includes("discount")||N.includes("deal")?(O([{label:" Makhana 199",value:"makhana price"},{label:" Thekua 199",value:"thekua price"},{label:" Dry Fruits 249",value:"dry fruits price"}]),` **Best Prices!**

 Makhana: 199-299
 Thekua: 199-249
 Dry Fruits: 249+

 **Offers:**
 Free shipping over 500
 10% off first order (FIRST10)
 Bulk discounts available`):N.includes("deliver")||N.includes("shipping")||N.includes("ship")||N.includes("how long")?(O([{label:" Track Order",value:"track order"},{label:" Shipping Charges",value:"shipping charges"}]),` **Fast Delivery!**

 Metro Cities: 2-3 days
 Other Cities: 3-5 days

 FREE over 500
 Real-time tracking
 Same-day dispatch`):N.includes("quality")||N.includes("fresh")||N.includes("natural")?(O([{label:" How We Pack",value:"packaging"},{label:" 100% Natural?",value:"ingredients"}]),` **Quality Guaranteed**

 100% Natural
 No Preservatives
 Fresh & Hygienic
 Quality Checked

 Not satisfied? Full refund!`):N.includes("order")||N.includes("buy")||N.includes("how to")||N.includes("payment")||N.includes("cod")||N.includes("upi")?(O([{label:" Start Shopping",value:"show products"},{label:" Payment Options",value:"payment methods"}]),` **Easy Ordering!**

1 Browse & Add to cart
2 Enter delivery address
3 Choose payment method
4 Confirm order

 **Payments:**
UPI | Cards | COD | Net Banking`):N.includes("return")||N.includes("refund")||N.includes("replace")||N.includes("exchange")?(O([{label:" Start Return",value:"agent"},{label:" Policy Details",value:"return policy details"}]),` **Easy Returns**

 7-day return
 Free pickup
 Instant refund
 No questions asked

**Process:**
Contact us  We pickup  Refund in 3-5 days`):N.includes("benefit")||N.includes("health")||N.includes("nutrition")||N.includes("protein")||N.includes("weight loss")?(O([{label:" Makhana Benefits",value:"makhana health"},{label:" Almonds Benefits",value:"almond health"},{label:" Cashew Benefits",value:"cashew health"}]),` **Health Benefits**

**Makhana:**
 High protein
 Low calorie
 Weight loss friendly

**Almonds:**
 Brain booster
 Heart healthy

**Cashews:**
 Energy rich
 Immunity booster`):N.includes("gift")||N.includes("festival")||N.includes("occasion")||N.includes("diwali")||N.includes("wedding")?(O([{label:" Gift Boxes",value:"gift boxes"},{label:" Festival Special",value:"festival gifts"},{label:" Corporate Gifting",value:"corporate gifts"}]),` **Perfect Gifting!**

 Festival hampers
 Wedding favors
 Corporate gifts
 Birthday specials

 Premium packaging
 Personalized cards
 Bulk discounts`):N.includes("bulk")||N.includes("wholesale")||N.includes("large order")?(O([{label:" Talk to Team",value:"agent"},{label:" Get Quote",value:"bulk quote"}]),` **Bulk Orders**

 Special pricing for 5000+
 Free delivery
 Custom packaging

**Perfect for:**
 Corporate events
 Weddings
 Festivals

Connect with our team for quotes!`):N.includes("thank")||N.includes("thanks")?(O([{label:" Browse Products",value:"show products"},{label:" Check Offers",value:"offers"}]),` You're welcome!

Anything else I can help with?`):N.includes("help")||N.includes("contact")?(x(!0),O([{label:" Talk to Agent",value:"agent",primary:!0},{label:" Call Us",value:"phone number"},{label:" Email",value:"email address"}]),` **We're Here to Help!**

 **Ask me about:**
Products, Prices, Delivery

 **Talk to team for:**
Orders, Returns, Issues

 +91-XXXXXXXXXX
 support@villagecrunch.com`):(O([{label:" Makhana",value:"makhana"},{label:" Dry Fruits",value:"dry fruits"},{label:" Thekua",value:"thekua"},{label:" Offers",value:"offers"},{label:" Talk to Agent",value:"agent"}]),` **Not sure? Try these!**

 "Show me makhana"
 "Dry fruits prices"
 "Delivery time"
 "Best offers"

Or pick from quick options below! `)},R=z=>{i(z),setTimeout(()=>{L()},100)},L=async()=>{if(!l.trim()&&!b||_)return;A(!0);const z={type:"user",text:l,image:p,timestamp:new Date};a($=>[...$,z]);const N=l,I=b;if(i(""),w(null),g(null),j&&S){c(!0);try{const $=new FormData;$.append("message",N),I&&$.append("image",I);const Y=await(await fetch(`http://localhost:8080/api/support/${S}/message`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:$})).json();if(Y.success)P.success("Message sent to customer care"),setTimeout(()=>{const Ee={type:"agent",text:"Thank you for sharing the details. Our team is reviewing your case. "+(I?"We've received your image. ":"")+"If we need more information, we'll call you shortly. Average wait time: 3-5 minutes.",timestamp:new Date};a(ge=>[...ge,Ee]),c(!1)},2e3);else throw new Error(Y.message)}catch($){console.error("Error sending message:",$),P.error("Failed to send message. Please try again."),c(!1)}finally{A(!1)}return}A(!1),c(!0),setTimeout(()=>{const $=oe(N);if($){const B={type:"bot",text:$,timestamp:new Date};a(Y=>[...Y,B])}c(!1)},800)},V=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),L())};return s.jsxs(s.Fragment,{children:[!t&&s.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-desi-gold to-yellow-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-all duration-300 z-50 group","aria-label":"Open AI Chat",children:[s.jsx(mN,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-semibold rounded-full px-1.5 py-0.5 flex items-center justify-center animate-pulse",children:"Villy"}),s.jsx("span",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Ask me anything! "})]}),t&&s.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 animate-scale-in border-2 border-desi-gold/20",children:[s.jsxs("div",{className:"bg-gradient-to-r from-desi-gold to-yellow-600 text-white p-4 rounded-t-2xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:s.jsx(jc,{className:"w-6 h-6 text-desi-gold"})}),s.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold",children:["Villy ",j&&" Customer Care"]}),s.jsx("p",{className:"text-xs opacity-90",children:j?" Connected to Agent":"Your AI Shopping Assistant"})]})]}),s.jsx("button",{onClick:()=>r(!1),className:"hover:bg-white/20 p-2 rounded-full transition","aria-label":"Close chat",children:s.jsx(ur,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[n.map((z,N)=>s.jsx("div",{className:`flex ${z.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl ${z.type==="user"?"bg-desi-gold text-white rounded-br-none":z.type==="system"?"bg-blue-50 text-blue-900 rounded-lg border-2 border-blue-200":z.type==="agent"?"bg-green-50 text-green-900 rounded-bl-none border-2 border-green-200":"bg-white text-gray-800 rounded-bl-none shadow-md border border-gray-100"}`,children:[z.image&&s.jsx("img",{src:z.image,alt:"Uploaded",className:"w-full rounded-lg mb-2 max-h-48 object-cover"}),s.jsx("p",{className:"text-sm whitespace-pre-line",children:z.text}),s.jsx("p",{className:"text-xs opacity-60 mt-1",children:z.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},N)),u&&!j&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:ae,className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-green-700 transition flex items-center space-x-2 shadow-lg",children:[s.jsx(lN,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Connect to Customer Care"})]})}),o&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:`p-3 rounded-2xl rounded-bl-none shadow-md ${j?"bg-green-50 border-2 border-green-200":"bg-white border border-gray-100"}`,children:s.jsx(Ex,{className:`w-5 h-5 animate-spin ${j?"text-green-600":"text-desi-gold"}`})})}),s.jsx("div",{ref:U})]}),s.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 rounded-b-2xl",children:[p&&s.jsxs("div",{className:"mb-3 relative inline-block",children:[s.jsx("img",{src:p,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}),s.jsx("button",{onClick:()=>{g(null),w(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(ur,{className:"w-4 h-4"})})]}),T.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-3 overflow-x-auto",children:T.map((z,N)=>s.jsx("button",{onClick:()=>R(z.value),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all transform hover:scale-105 ${z.primary?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white shadow-lg hover:shadow-xl":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z.label},N))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[j&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",ref:v,accept:"image/*",onChange:te,className:"hidden"}),s.jsx("button",{onClick:()=>{var z;return(z=v.current)==null?void 0:z.click()},className:"p-2 rounded-full hover:bg-gray-100 transition text-gray-600",title:"Upload product image",children:s.jsx(iN,{className:"w-5 h-5"})})]}),s.jsx("input",{type:"text",value:l,onChange:z=>i(z.target.value),onKeyPress:V,placeholder:j?"Describe your issue...":"Ask me anything...",className:"flex-1 px-4 py-2 border-2 border-gray-300 rounded-full focus:outline-none focus:border-desi-gold transition"}),s.jsx("button",{onClick:L,disabled:!l.trim()&&!b,className:`p-2 rounded-full transition disabled:opacity-50 disabled:cursor-not-allowed ${j?"bg-green-500 hover:bg-green-600 text-white":"bg-desi-gold hover:bg-yellow-600 text-white"}`,"aria-label":"Send message",children:s.jsx(Rd,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:j?" Connected  Agent will respond shortly":"Villy AI  Instant responses"})]})]})]})},CN=()=>(f.useEffect(()=>{},[]),null),Wl=({product:e,showQuickRating:t=!1,userCanRate:r=!1,onRatingSubmit:n})=>{var U;const{addToCart:a}=Ks(),{user:l}=lt(),[i,o]=f.useState(0),[c,d]=f.useState(!1),[m,u]=f.useState(!1),[x,j]=f.useState(!1),[y,b]=f.useState(!0);f.useEffect(()=>{l&&e._id&&w()},[l,e._id]);const w=async()=>{try{const T=await Ad();u(T.some(O=>O._id===e._id))}catch(T){console.error("Failed to check wishlist status:",T)}},p=T=>{T.preventDefault(),a(e)},g=async T=>{if(T.preventDefault(),T.stopPropagation(),!l){P.error("Please login to add to wishlist");return}if(!e._id){P.error("Cannot add this product to wishlist");return}j(!0);try{await jx(e._id),u(!m),P.success(m?"Removed from wishlist":"Added to wishlist")}catch(O){console.error("Failed to toggle wishlist:",O),P.error("Failed to update wishlist")}finally{j(!1)}},v=async(T,O)=>{if(T.preventDefault(),T.stopPropagation(),!l){P.error("Please login to rate products");return}if(!r){P.error("You can only rate products you have purchased and received");return}d(!0);try{await Hl(e._id,{rating:O,comment:`Quick rating: ${O} star${O!==1?"s":""}`}),P.success("Thank you for your rating!"),n&&n()}catch{P.error("Failed to submit rating")}finally{d(!1),o(0)}},C=(T=>!T||T.length===0?0:(T.reduce((te,ae)=>te+ae.rating,0)/T.length).toFixed(1))(e.reviews),_=((U=e.reviews)==null?void 0:U.length)||0,A=e._id||e.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return s.jsxs(J,{to:`/product/${A}`,className:"card group block",children:[s.jsxs("div",{className:"relative overflow-hidden h-64 bg-gray-100",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110",style:{transition:"transform 0.7s cubic-bezier(0.4, 0, 0.2, 1)"}}),e.originalPrice&&s.jsxs("div",{className:"absolute top-4 left-4 bg-desi-terracotta text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg animate-scale-in",children:[Math.round((e.originalPrice-e.price)/e.originalPrice*100),"% OFF"]}),l&&e._id&&s.jsx("button",{onClick:g,disabled:x,className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white hover:scale-110 transition-all duration-300 shadow-md disabled:opacity-50",title:m?"Remove from wishlist":"Add to wishlist",children:x?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-red-500"}):s.jsx(us,{className:`w-5 h-5 transition-colors ${m?"text-red-500 fill-current":"text-gray-400 hover:text-red-500"}`})}),e.stock===0&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"Out of Stock"})})]}),s.jsxs("div",{className:"p-5",children:[(_>0||t&&r)&&s.jsx("div",{className:"flex items-center mb-2",children:t&&r?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"flex",onMouseLeave:()=>o(0),children:[1,2,3,4,5].map(T=>s.jsx("button",{onClick:O=>v(O,T),onMouseEnter:()=>o(T),disabled:c,className:"focus:outline-none hover:scale-110 transition-transform disabled:opacity-50",title:`Rate ${T} star${T!==1?"s":""}`,children:s.jsx(Ye,{className:`w-5 h-5 transition-colors ${T<=(i||C)?"text-desi-gold fill-current":"text-gray-300"} ${i>0?"hover:text-desi-gold":""}`})},T))}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:i>0?`Rate ${i} star${i!==1?"s":""}`:_>0?`(${C})  ${_} review${_!==1?"s":""}`:"Click to rate"})]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex text-desi-gold",children:[...Array(5)].map((T,O)=>s.jsx(Ye,{className:`w-4 h-4 ${O<Math.floor(C)?"fill-current":""}`},O))}),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",C,")  ",_," review",_!==1?"s":""]})]})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.weight}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-desi-brown",children:["",e.price]}),e.originalPrice&&s.jsxs("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["",e.originalPrice]})]})}),s.jsxs("button",{onClick:p,disabled:e.stock===0,className:`w-full py-2 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-all duration-300 transform hover:scale-[1.02] active:scale-95 ${e.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-desi-gold text-white hover:bg-yellow-600 hover:shadow-lg"}`,children:[s.jsx(yi,{className:"w-5 h-5"}),s.jsx("span",{children:e.stock===0?"Out of Stock":"Add to Cart"})]})]})]})},pa=({title:e,description:t,keywords:r,image:n,url:a,type:l="website",product:i,breadcrumbs:o,noIndex:c=!1,canonical:d})=>{const m="https://villagecrunch.me",u="VillageCrunch",x="Premium Dry Fruits & Makhana - VillageCrunch | Authentic Indian Delights",j="Buy premium quality dry fruits, makhana, and traditional Bihari thekua online. 100% natural and authentic Indian products with fast delivery across India.",y=`${m}/images/villagecrunch-logo.png`,b="dry fruits, makhana, thekua, Bihar snacks, premium dry fruits, almonds, cashews, dates, pistachios, walnuts, fox nuts, traditional sweets, online shopping, Indian snacks, natural products",w=e?`${e} - ${u}`:x,p=t||j,g=n?n.startsWith("http")?n:`${m}${n}`:y,v=a?`${m}${a}`:m,S=r?`${b}, ${r}`:b,C=()=>{const _=[];return _.push({"@context":"https://schema.org","@type":"Organization",name:u,alternateName:"Village Crunch",url:m,logo:`${m}/images/villagecrunch-logo.png`,description:"Premium Indian dry fruits, makhana, and traditional snacks online store",address:{"@type":"PostalAddress",addressCountry:"India",addressRegion:"Bihar"},contactPoint:{"@type":"ContactPoint",telephone:"+91-9876543210",contactType:"customer service",availableLanguage:["English","Hindi"]},sameAs:["https://www.facebook.com/villagecrunch","https://www.instagram.com/villagecrunch","https://twitter.com/villagecrunch"]}),_.push({"@context":"https://schema.org","@type":"WebSite",name:u,url:m,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${m}/products?search={search_term_string}`},"query-input":"required name=search_term_string"}}),i&&(_.push({"@context":"https://schema.org","@type":"Product",name:i.name,description:i.description,image:i.image?`${m}${i.image}`:g,brand:{"@type":"Brand",name:u},manufacturer:{"@type":"Organization",name:u},offers:{"@type":"Offer",price:i.price,priceCurrency:"INR",availability:i.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:u}},aggregateRating:i.reviews&&i.reviews.length>0?{"@type":"AggregateRating",ratingValue:i.averageRating||5,reviewCount:i.reviews.length,bestRating:5,worstRating:1}:void 0,category:i.category,sku:i._id,gtin:i.gtin||void 0}),i.reviews&&i.reviews.length>0&&i.reviews.slice(0,5).forEach(A=>{_.push({"@context":"https://schema.org","@type":"Review",itemReviewed:{"@type":"Product",name:i.name},reviewRating:{"@type":"Rating",ratingValue:A.rating,bestRating:5,worstRating:1},author:{"@type":"Person",name:A.name||"Anonymous"},reviewBody:A.comment,datePublished:A.createdAt})})),o&&o.length>0&&_.push({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:o.map((A,U)=>({"@type":"ListItem",position:U+1,name:A.name,item:A.url?`${m}${A.url}`:void 0}))}),_};return s.jsxs(Wb,{children:[s.jsx("title",{children:w}),s.jsx("meta",{name:"description",content:p}),s.jsx("meta",{name:"keywords",content:S}),s.jsx("meta",{name:"robots",content:c?"noindex, nofollow":"index, follow"}),s.jsx("meta",{name:"author",content:u}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("link",{rel:"canonical",href:d||v}),s.jsx("meta",{property:"og:type",content:l}),s.jsx("meta",{property:"og:title",content:w}),s.jsx("meta",{property:"og:description",content:p}),s.jsx("meta",{property:"og:image",content:g}),s.jsx("meta",{property:"og:image:alt",content:`${u} - ${e||"Premium Dry Fruits"}`}),s.jsx("meta",{property:"og:url",content:v}),s.jsx("meta",{property:"og:site_name",content:u}),s.jsx("meta",{property:"og:locale",content:"en_IN"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:w}),s.jsx("meta",{name:"twitter:description",content:p}),s.jsx("meta",{name:"twitter:image",content:g}),s.jsx("meta",{name:"twitter:site",content:"@villagecrunch"}),s.jsx("meta",{name:"twitter:creator",content:"@villagecrunch"}),s.jsx("meta",{name:"theme-color",content:"#D4A574"}),s.jsx("meta",{name:"msapplication-TileColor",content:"#D4A574"}),s.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),s.jsx("meta",{name:"format-detection",content:"telephone=no"}),s.jsx("meta",{name:"geo.region",content:"IN-BR"}),s.jsx("meta",{name:"geo.placename",content:"Bihar, India"}),s.jsx("meta",{name:"ICBM",content:"25.5941, 85.1376"}),i&&s.jsxs(s.Fragment,{children:[s.jsx("meta",{property:"product:price:amount",content:i.price}),s.jsx("meta",{property:"product:price:currency",content:"INR"}),s.jsx("meta",{property:"product:availability",content:i.inStock?"in stock":"out of stock"}),s.jsx("meta",{property:"product:brand",content:u}),s.jsx("meta",{property:"product:category",content:i.category})]}),C().map((_,A)=>s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(_)}},A)),s.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),s.jsx("link",{rel:"preconnect",href:"https://checkout.razorpay.com"}),s.jsx("link",{rel:"dns-prefetch",href:"//www.google-analytics.com"}),s.jsx("link",{rel:"dns-prefetch",href:"//www.googletagmanager.com"}),s.jsx("link",{rel:"dns-prefetch",href:"//connect.facebook.net"}),s.jsx("link",{rel:"alternate",hrefLang:"en-in",href:v}),s.jsx("link",{rel:"alternate",hrefLang:"hi-in",href:`${v}?lang=hi`}),s.jsx("link",{rel:"alternate",hrefLang:"x-default",href:v})]})},Ax=({currentProduct:e,category:t,limit:r=4})=>{const[n,a]=f.useState([]),[l,i]=f.useState(!0);f.useEffect(()=>{(async()=>{try{i(!0);const m=await Yr({});let u=[];e?u=o(m,e):t?u=m.filter(x=>x.category===t):u=m.filter(x=>x.featured),u=c(u).slice(0,r),a(u)}catch(m){console.error("Failed to fetch recommendations:",m)}finally{i(!1)}})()},[e,t,r]);const o=(d,m)=>d.filter(x=>x._id!==m._id).map(x=>{let j=0;return x.category===m.category&&(j+=40),Math.abs(x.price-m.price)/m.price<.3&&(j+=25),x.weight===m.weight&&(j+=15),x.featured&&(j+=10),x.stock>0&&(j+=10),m.category==="makhana"&&(x.category==="thekua"||x.category==="dry-fruits")&&(j+=20),m.category==="thekua"&&(x.category==="makhana"||x.category==="dry-fruits")&&(j+=20),m.category==="dry-fruits"&&(x.category==="dry-fruits"||x.category==="makhana")&&(j+=15),{product:x,score:j}}).sort((x,j)=>j.score-x.score).slice(0,8).map(x=>x.product),c=d=>{const m=[...d];for(let u=m.length-1;u>0;u--){const x=Math.floor(Math.random()*(u+1));[m[u],m[x]]=[m[x],m[u]]}return m};return l?s.jsx("section",{className:"py-12 bg-gradient-to-b from-white to-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[s.jsx(jc,{className:"w-6 h-6 text-desi-gold animate-pulse"}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-desi-brown",children:"Villy is finding perfect matches..."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((d,m)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-md h-96 animate-pulse",children:[s.jsx("div",{className:"h-64 bg-gray-200"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]},m))})]})}):n.length===0?null:s.jsxs("section",{className:"py-12 bg-gradient-to-b from-white to-gray-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-desi-gold/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-desi-brown/5 rounded-full blur-3xl"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-desi-brown mb-2",children:e?"You May Also Like":"Recommended For You"}),s.jsx("p",{className:"text-gray-600",children:e?"Handpicked by our AI based on this product":"Specially selected just for you"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((d,m)=>s.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${m*.1}s`},children:s.jsx(Wl,{product:d})},d._id))}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500 flex items-center justify-center space-x-2",children:[s.jsx(jc,{className:"w-4 h-4 text-desi-gold"}),s.jsx("span",{children:"Smart recommendations powered by Villy"})]})})]})]})},PN=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(0),a=f.useRef(0),l=f.useRef(0),[i,o]=f.useState(0);io({threshold:.2});const c=io({threshold:.2}),d=io({threshold:.1});f.useEffect(()=>{const w=()=>{o(window.scrollY)};return window.addEventListener("scroll",w,{passive:!0}),()=>window.removeEventListener("scroll",w)},[]);const m=()=>{const w=[{src:"/thekua.jpg",fallback:"https://images.unsplash.com/photo-1607478900766-efe13248b125?w=600&h=600&fit=crop",alt:"Thekua"},{src:"/Makhana.jpg",fallback:"https://images.unsplash.com/photo-1604908177261-1d9b1d5f7a2a?w=600&h=600&fit=crop",alt:"Makhana"},{src:"/391b485970e8dcdd2f41636fe121430a.jpg",fallback:"https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=600&h=600&fit=crop",alt:"Mix"},{src:"/almond.jpg",fallback:"https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=600&h=600&fit=crop",alt:"Almond"},{src:"/cashew.jpg",fallback:"https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=600&h=600&fit=crop",alt:"Cashew"},{src:"/guziya.jpg",fallback:"https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=600&h=600&fit=crop",alt:"Cashew"}],[p,g]=f.useState(0),[v,S]=f.useState(null),[C,_]=f.useState(!1),A=f.useRef(null),U=1400;return f.useEffect(()=>{if(C)return;const T=setInterval(()=>{g(O=>(S(O),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>S(null),U),(O+1)%w.length))},3e3);return()=>{clearInterval(T),A.current&&clearTimeout(A.current)}},[C]),s.jsx("div",{className:"w-full max-w-md mx-auto",style:{position:"relative"},children:s.jsx("div",{style:{paddingTop:"100%",position:"relative",width:"100%"},onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:w.map((T,O)=>s.jsx("img",{src:T.src,alt:T.alt,onError:te=>{te.currentTarget.onerror=null,te.currentTarget.src=T.fallback},className:`carousel-slot ${O===p?"active":O===v?"exiting":""}`,style:{borderRadius:"1rem",boxShadow:"0 25px 40px rgba(15,23,42,0.12)"}},O))})})},u=()=>{n(w=>w>=e.length-1?0:w+1)},x=()=>{n(w=>w<=0?e.length-1:w-1)},j=w=>{a.current=w.targetTouches[0].clientX},y=w=>{l.current=w.targetTouches[0].clientX},b=()=>{if(!a.current||!l.current)return;const w=a.current-l.current,p=w>50,g=w<-50;p?u():g&&x()};return f.useEffect(()=>{const w=setInterval(()=>{window.innerWidth<768&&e.length>0&&u()},4e3);return()=>clearInterval(w)},[e.length]),f.useEffect(()=>{(async()=>{try{const p=await Yr({featured:!0});t(p.slice(0,4))}catch(p){console.error("Error fetching products:",p)}})()},[]),s.jsxs("div",{children:[s.jsx(pa,{title:"Premium Dry Fruits & Makhana Online",description:"Shop the finest quality dry fruits, roasted makhana, and traditional Bihari thekua at VillageCrunch. 100% natural products with fast delivery across India. Order now!",keywords:"buy dry fruits online, premium almonds, cashews, pistachios, walnuts, makhana online, thekua Bihar, natural dry fruits, healthy snacks",url:"/",type:"website"}),s.jsxs("section",{className:"relative bg-gradient-to-r from-desi-cream to-amber-50 pattern-bg overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{transform:`translateY(${i*.3}px)`},children:[s.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-desi-gold rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-desi-brown rounded-full blur-3xl"})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative z-10",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"animate-fade-in-up",children:[s.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-desi-brown mb-6",children:["Premium Indian",s.jsx("span",{className:"block text-desi-gold animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Dry Fruits & Makhana"})]}),s.jsx("p",{className:"text-lg text-gray-700 mb-8 animate-fade-in-up",style:{animationDelay:"0.3s"},children:"Experience the richness of authentic Bihari tradition with our handpicked selection of premium dry fruits, roasted makhana, and traditional thekua."}),s.jsxs("div",{className:"flex flex-wrap gap-4 animate-fade-in-up",style:{animationDelay:"0.4s"},children:[s.jsxs(J,{to:"/products",className:"btn-primary flex items-center space-x-2 hover:shadow-2xl",children:[s.jsx("span",{children:"Shop Now"}),s.jsx(no,{className:"w-5 h-5 transition-transform group-hover:translate-x-1"})]}),s.jsx(J,{to:"/about",className:"btn-secondary hover:shadow-lg",children:"Learn More"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-12 animate-fade-in-up",style:{animationDelay:"0.5s"},children:[s.jsxs("div",{className:"text-center transform hover:scale-110 transition-transform duration-300",children:[s.jsx("div",{className:"text-3xl font-bold text-desi-brown",children:"100%"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Natural"})]}),s.jsxs("div",{className:"text-center transform hover:scale-110 transition-transform duration-300",children:[s.jsx("div",{className:"text-3xl font-bold text-desi-brown",children:"10k+"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Happy Customers"})]}),s.jsxs("div",{className:"text-center transform hover:scale-110 transition-transform duration-300",children:[s.jsx("div",{className:"text-3xl font-bold text-desi-brown",children:"24/7"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Support"})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center animate-fade-in-up",style:{animationDelay:"0.3s"},children:[s.jsx("div",{className:"w-full max-w-md",children:s.jsx(m,{})}),s.jsx("div",{className:"mt-4 bg-white p-3 rounded-xl shadow-xl w-max hover:shadow-2xl transition-shadow duration-300",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("div",{className:"bg-desi-gold p-2 rounded-full flex items-center justify-center",children:s.jsx(yc,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-desi-brown",children:"Premium Quality"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Certified Products"})]})]})})]})]})})]}),s.jsxs("section",{ref:c.ref,className:"py-16 bg-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-desi-gold/5 to-transparent rounded-full blur-3xl -z-0"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-desi-brown/5 to-transparent rounded-full blur-3xl -z-0"}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:s.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:[{icon:us,title:"100% Natural",desc:"No preservatives or artificial additives",delay:"0s"},{icon:yc,title:"Premium Quality",desc:"Handpicked and quality tested",delay:"0.1s"},{icon:Jr,title:"Fast Delivery",desc:"Quick delivery across India",delay:"0.2s"},{icon:Ye,title:"Trusted Brand",desc:"Thousands of satisfied customers",delay:"0.3s"}].map((w,p)=>s.jsxs("div",{className:`text-center group cursor-pointer ${c.isVisible?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:w.delay},children:[s.jsx("div",{className:"bg-desi-cream p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center group-hover:bg-desi-gold group-hover:scale-110 transition-all duration-300 shadow-md group-hover:shadow-xl",children:s.jsx(w.icon,{className:"w-8 h-8 text-desi-brown group-hover:text-white transition-colors duration-300"})}),s.jsx("h3",{className:"font-semibold text-lg mb-2 group-hover:text-desi-gold transition-colors duration-300",children:w.title}),s.jsx("p",{className:"text-sm text-gray-600",children:w.desc})]},p))})})]}),s.jsx("section",{ref:d.ref,className:"py-16 pattern-bg relative",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:`text-center mb-12 ${d.isVisible?"animate-fade-in-up":"opacity-0"}`,children:[s.jsx("h2",{className:"section-title",children:"Featured Products"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Explore our handpicked selection of premium products"})]}),s.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((w,p)=>s.jsx("div",{className:`${d.isVisible?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:`${p*.1}s`},children:s.jsx(Wl,{product:w})},w._id))}),s.jsxs("div",{className:"md:hidden relative",children:[s.jsx("div",{className:"overflow-hidden",onTouchStart:j,onTouchMove:y,onTouchEnd:b,children:s.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${r*100}%)`},children:e.map(w=>s.jsx("div",{className:"w-full flex-shrink-0 px-4",children:s.jsx(Wl,{product:w})},w._id))})}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:x,className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 transition","aria-label":"Previous product",children:s.jsx(Cx,{className:"w-5 h-5 text-desi-brown"})}),s.jsx("button",{onClick:u,className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 transition","aria-label":"Next product",children:s.jsx(Px,{className:"w-5 h-5 text-desi-brown"})})]}),e.length>1&&s.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:e.map((w,p)=>s.jsx("button",{onClick:()=>n(p),className:`w-2 h-2 rounded-full transition ${p===r?"bg-desi-gold":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${p+1}`},p))})]}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(J,{to:"/products",className:"inline-flex items-center space-x-2 text-desi-gold font-semibold hover:text-yellow-600 transition",children:[s.jsx("span",{children:"View All Products"}),s.jsx(no,{className:"w-5 h-5"})]})})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"section-title mb-12",children:"Shop by Category"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(J,{to:"/products?category=dry-fruits",className:"group relative overflow-hidden rounded-2xl shadow-lg h-64",children:[s.jsx("img",{src:"/Product_Images/MixDry.jpg",alt:"Dry Fruits",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:s.jsxs("div",{className:"p-6 text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Premium Dry Fruits"}),s.jsx("p",{className:"text-sm",children:"Almonds, Cashews, Walnuts & More"})]})})]}),s.jsxs(J,{to:"/products?category=makhana",className:"group relative overflow-hidden rounded-2xl shadow-lg h-64",children:[s.jsx("img",{src:"/Product_Images/Makhana.jpg",alt:"Makhana",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:s.jsxs("div",{className:"p-6 text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Makhana"}),s.jsx("p",{className:"text-sm",children:"Healthy & Crunchy Fox Nuts"})]})})]}),s.jsxs(J,{to:"/products?category=thekua",className:"group relative overflow-hidden rounded-2xl shadow-lg h-64",children:[s.jsx("img",{src:"/thekua.jpg",alt:"Thekua",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:s.jsxs("div",{className:"p-6 text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Traditional Thekua"}),s.jsx("p",{className:"text-sm",children:"Authentic Bihari Sweet Snack"})]})})]})]})]})}),s.jsx("section",{className:"py-16 bg-desi-cream",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"section-title mb-12",children:"Authentic Customer Reviews"}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md max-w-2xl mx-auto",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ye,{className:"w-12 h-12 text-desi-gold"})}),s.jsx("h3",{className:"text-2xl font-bold text-desi-brown mb-4",children:"Real Reviews from Real Customers"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"We believe in authentic feedback. Our product reviews come only from customers who have purchased and received their orders. See genuine ratings and reviews on each product page."}),s.jsxs(J,{to:"/products",className:"inline-flex items-center space-x-2 bg-desi-gold text-desi-brown px-6 py-3 rounded-lg hover:bg-yellow-500 transition font-semibold",children:[s.jsx("span",{children:"Browse Products & Reviews"}),s.jsx(no,{className:"w-5 h-5"})]})]})})]})}),s.jsx(Ax,{limit:4})]})},EN=()=>{const[e,t]=jd(),[r,n]=f.useState([]),[a,l]=f.useState([]),[i,o]=f.useState(!0),[c,d]=f.useState(""),[m,u]=f.useState(e.get("category")||"all");f.useEffect(()=>{(async()=>{try{const p=await bx(),g=p.products||p||[],v=[...new Set(g.map(S=>S.category).filter(Boolean))];l(v.sort())}catch(p){console.error("Error fetching categories:",p)}})()},[]),f.useEffect(()=>{(async()=>{o(!0);try{const p={};m!=="all"&&(p.category=m),c.trim()&&(p.search=c);const g=await Yr(p);n(g)}catch(p){console.error("Error fetching products:",p)}finally{o(!1)}})()},[m,c]);const x=w=>{u(w),t(w!=="all"?{category:w}:{}),window.scrollTo(0,0)},j=w=>{w.preventDefault()},b=m&&m!=="all"?{title:`${m.charAt(0).toUpperCase()+m.slice(1)} - Premium Quality Online`,description:`Buy premium ${m} online at VillageCrunch. Fresh, natural, and authentic ${m} with fast delivery across India. Shop now!`,keywords:`${m} online, buy ${m}, premium ${m}, natural ${m}`,url:`/products?category=${m}`}:c?{title:`Search Results for "${c}" - VillageCrunch Products`,description:`Find ${c} and related products at VillageCrunch. Premium quality dry fruits, makhana, and traditional snacks.`,keywords:`${c}, search products, dry fruits search`,url:`/products?search=${c}`}:{title:"All Products - Premium Dry Fruits, Makhana & Traditional Snacks",description:"Browse our complete collection of premium dry fruits, roasted makhana, thekua, and authentic Bihari snacks. Quality guaranteed with fast delivery.",keywords:"all products, dry fruits collection, makhana varieties, thekua types, premium snacks",url:"/products"};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pa,{title:b.title,description:b.description,keywords:b.keywords,url:b.url,breadcrumbs:[{name:"Home",url:"/"},{name:"Products",url:"/products"},...m&&m!=="all"?[{name:m,url:`/products?category=${m}`}]:[]]}),s.jsxs("div",{className:"bg-gradient-to-r from-desi-brown to-desi-gold text-white py-12 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full -translate-x-1/2 -translate-y-1/2"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full translate-x-1/3 translate-y-1/3"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4 animate-fade-in-up",children:"Our Products"}),s.jsx("p",{className:"text-lg opacity-90 animate-fade-in-up",style:{animationDelay:"0.1s"},children:"Discover our range of premium dry fruits, makhana, and traditional sweets"})]})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"lg:w-64 flex-shrink-0",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-24 animate-fade-in-up border border-gray-100 hover:shadow-lg transition-shadow duration-300",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-desi-brown",children:"Categories"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>x("all"),className:`w-full text-left px-4 py-2 rounded-lg transition-all duration-300 transform hover:translate-x-1 ${m==="all"?"bg-desi-gold text-white shadow-md":"hover:bg-desi-cream hover:shadow-sm"}`,children:"All Products"}),a.map(w=>s.jsx("button",{onClick:()=>x(w),className:`w-full text-left px-4 py-2 rounded-lg transition-all duration-300 transform hover:translate-x-1 capitalize ${m===w?"bg-desi-gold text-white shadow-md":"hover:bg-desi-cream hover:shadow-sm"}`,children:w.replace("-"," ")},w))]}),s.jsxs("form",{onSubmit:j,className:"mt-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-desi-brown",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-desi-gold"}),s.jsx(fl,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),s.jsx("button",{type:"submit",className:"w-full mt-2 bg-desi-gold text-white py-2 rounded-lg hover:bg-yellow-600 transition-all duration-300 hover:shadow-md transform hover:scale-[1.02] active:scale-95",children:"Search"})]})]})}),s.jsx("div",{className:"flex-1",children:i?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((w,p)=>s.jsxs("div",{className:`bg-white rounded-xl shadow-md h-96 overflow-hidden animate-fade-in stagger-${p%6+1}`,children:[s.jsx("div",{className:"h-64 skeleton"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 skeleton rounded"}),s.jsx("div",{className:"h-4 skeleton rounded w-2/3"}),s.jsx("div",{className:"h-8 skeleton rounded w-1/3"}),s.jsx("div",{className:"h-10 skeleton rounded"})]})]},p))}):r.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 text-gray-600 animate-fade-in",children:["Showing ",s.jsx("span",{className:"font-semibold text-desi-brown",children:r.length})," product",r.length!==1?"s":""]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((w,p)=>s.jsx("div",{className:`animate-fade-in-up stagger-${p%6+1}`,style:{animationDelay:`${p*.1}s`},children:s.jsx(Wl,{product:w})},w._id))})]}):s.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[s.jsx("div",{className:"text-6xl mb-4 animate-float",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No products found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filters"}),s.jsx("button",{onClick:()=>{u("all"),d(""),t({})},className:"btn-primary",children:"View All Products"})]})})]})})]})},TN=({product:e,existingReview:t=null,onSubmit:r,onCancel:n,isSubmitting:a=!1})=>{const[l,i]=f.useState((t==null?void 0:t.rating)||5),[o,c]=f.useState((t==null?void 0:t.comment)||""),[d,m]=f.useState((t==null?void 0:t.images)||[]),[u,x]=f.useState(!1),[j,y]=f.useState(0),b=f.useRef(null),w=async v=>{if(!v||v.length===0)return;if(d.length+v.length>5){P.error("Maximum 5 images allowed per review");return}x(!0);const S=new FormData;Array.from(v).forEach(C=>{if(C.size>5*1024*1024){P.error(`${C.name} is too large. Maximum 5MB per image.`);return}if(!C.type.startsWith("image/")){P.error(`${C.name} is not an image file.`);return}S.append("images",C)});try{const C=await fetch("/api/products/reviews/upload-images",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:S}),_=await C.json();C.ok?(m(A=>[...A,..._.images]),P.success("Images uploaded successfully!")):P.error(_.message||"Failed to upload images")}catch(C){console.error("Error uploading images:",C),P.error("Failed to upload images")}finally{x(!1)}},p=v=>{m(S=>S.filter((C,_)=>_!==v))},g=v=>{if(v.preventDefault(),!o.trim()){P.error("Please write a review comment");return}r({rating:l,comment:o.trim(),images:d})};return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.weight})]})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Rate this product *"}),s.jsxs("div",{className:"flex items-center space-x-1",onMouseLeave:()=>y(0),children:[[1,2,3,4,5].map(v=>s.jsx("button",{type:"button",onClick:()=>i(v),onMouseEnter:()=>y(v),className:"focus:outline-none hover:scale-110 transition-transform",children:s.jsx(Ye,{className:`w-8 h-8 transition-colors ${v<=(j||l)?"text-desi-gold fill-current":"text-gray-300"}`})},v)),s.jsxs("div",{className:"ml-3 flex flex-col",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[j||l," star",(j||l)!==1?"s":""]}),s.jsx("span",{className:"text-xs text-gray-500",children:l===5?"Excellent":l===4?"Very Good":l===3?"Good":l===2?"Fair":"Poor"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Write your review *"}),s.jsx("textarea",{value:o,onChange:v=>c(v.target.value),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent resize-none",placeholder:"Share your experience with this product. How was the quality, taste, packaging, etc.? Your honest review helps other customers make informed decisions.",required:!0,maxLength:1e3}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Minimum 10 characters required"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/1000 characters"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Add photos (optional)"}),s.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Upload up to 5 photos to show how the product looks. Maximum 5MB per image."}),d.length>0&&s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-3 mb-4",children:d.map((v,S)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:v,alt:`Review image ${S+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200"}),s.jsx("button",{type:"button",onClick:()=>p(S),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ur,{className:"w-3 h-3"})})]},S))}),d.length<5&&s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-desi-gold transition-colors",children:[s.jsx("input",{ref:b,type:"file",multiple:!0,accept:"image/*",onChange:v=>w(v.target.files),className:"hidden"}),s.jsxs("button",{type:"button",onClick:()=>{var v;return(v=b.current)==null?void 0:v.click()},disabled:u,className:"flex flex-col items-center space-y-2 text-gray-600 hover:text-desi-gold transition-colors disabled:opacity-50",children:[u?s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-desi-gold"}):s.jsx(kx,{className:"w-8 h-8"}),s.jsx("span",{className:"text-sm font-medium",children:u?"Uploading...":"Add Photos"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Click to browse or drag and drop"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Review Guidelines:"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:" Share your honest experience with the product quality and taste"}),s.jsx("li",{children:" Include details about packaging, freshness, and delivery"}),s.jsx("li",{children:" Upload clear photos showing the actual product you received"}),s.jsx("li",{children:" Be respectful and helpful to other customers"}),s.jsx("li",{children:" Avoid promotional content or spam"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsx("button",{type:"submit",disabled:a||!o.trim()||o.length<10,className:"flex-1 bg-desi-gold text-desi-brown py-3 px-6 rounded-lg hover:bg-yellow-500 transition disabled:opacity-50 disabled:cursor-not-allowed font-semibold flex items-center justify-center space-x-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-desi-brown"}),s.jsx("span",{children:"Submitting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5"}),s.jsx("span",{children:t?"Update Review":"Submit Review"})]})}),s.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-semibold",children:"Cancel"})]})]})]})},AN=({productId:e,onWriteReview:t})=>{const{user:r}=lt(),[n,a]=f.useState([]),[l,i]=f.useState(!0),[o,c]=f.useState(null),[d,m]=f.useState({current:1,pages:1,total:0}),[u,x]=f.useState("newest"),[j,y]=f.useState(new Set),[b,w]=f.useState([]),[p,g]=f.useState(!1);f.useEffect(()=>{v()},[e,u,d.current]);const v=async(T=1)=>{try{i(!0);const O=await fetch(`/api/products/${e}/reviews?page=${T}&sortBy=${u}&limit=10`),te=await O.json();O.ok&&(a(te.reviews),c(te.stats),m(te.pagination))}catch(O){console.error("Error fetching reviews:",O),P.error("Failed to load reviews")}finally{i(!1)}},S=async(T,O)=>{if(!r){P.error("Please login to vote");return}try{const te=await fetch(`/api/products/${e}/reviews/${T}/helpful`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({helpful:O})}),ae=await te.json();te.ok?(a(oe=>oe.map(R=>R._id===T?{...R,helpful:ae.helpful,helpfulUsers:O?[...R.helpfulUsers||[],r._id]:(R.helpfulUsers||[]).filter(L=>L!==r._id)}:R)),P.success(ae.message)):P.error(ae.message)}catch(te){console.error("Error voting:",te),P.error("Failed to vote")}},C=T=>{const O=new Set(j);O.has(T)?O.delete(T):O.add(T),y(O)},_=(T,O=0)=>{w(T),g(!0)},A=T=>new Date(T).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),U=T=>{var O;return r&&((O=T.helpfulUsers)==null?void 0:O.includes(r._id))};return l?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((T,O)=>s.jsx("div",{className:"animate-pulse bg-gray-100 rounded-xl p-6 h-32"},O))}):s.jsxs("div",{className:"space-y-6",children:[o&&s.jsx("div",{className:"bg-gradient-to-r from-desi-cream to-yellow-50 rounded-xl p-6 border border-desi-gold/20",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx("div",{className:"flex items-center space-x-4 mb-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-desi-brown",children:o.average}),s.jsx("div",{className:"flex text-desi-gold justify-center mb-1",children:[...Array(5)].map((T,O)=>s.jsx(Ye,{className:`w-5 h-5 ${O<Math.floor(o.average)?"fill-current":""}`},O))}),s.jsxs("div",{className:"text-sm text-gray-600",children:[o.total," reviews"]})]})})}),s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(T=>{const O=o.distribution[T],te=o.total>0?O/o.total*100:0;return s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-sm font-medium w-8",children:[T,""]}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-desi-gold h-2 rounded-full transition-all duration-300",style:{width:`${te}%`}})}),s.jsx("span",{className:"text-sm text-gray-600 w-8",children:O})]},T)})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Customer Reviews ",o&&`(${o.total})`]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bc,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:u,onChange:T=>x(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-desi-gold focus:border-transparent",children:[s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"oldest",children:"Oldest First"}),s.jsx("option",{value:"helpful",children:"Most Helpful"}),s.jsx("option",{value:"rating",children:"Highest Rating"})]}),t&&s.jsx("button",{onClick:t,className:"bg-desi-gold text-desi-brown px-4 py-2 rounded-lg hover:bg-yellow-500 transition font-semibold text-sm",children:"Write Review"})]})]}),n.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[s.jsx(Ye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No reviews yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to share your experience!"}),t&&s.jsx("button",{onClick:t,className:"bg-desi-gold text-desi-brown px-6 py-3 rounded-lg hover:bg-yellow-500 transition font-semibold",children:"Write the First Review"})]}):s.jsx("div",{className:"space-y-6",children:n.map(T=>{var oe;const O=j.has(T._id),te=T.comment&&T.comment.length>200,ae=O||!te?T.comment:T.comment.substring(0,200)+"...";return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-desi-gold to-yellow-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-desi-brown font-bold text-lg",children:((oe=T.name)==null?void 0:oe.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:T.name||"Anonymous"}),T.verified&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium",children:" Verified Purchase"})]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("div",{className:"flex text-desi-gold",children:[...Array(5)].map((R,L)=>s.jsx(Ye,{className:`w-4 h-4 ${L<T.rating?"fill-current":""}`},L))}),s.jsx("span",{className:"text-sm text-gray-600",children:A(T.createdAt)}),T.updatedAt!==T.createdAt&&s.jsx("span",{className:"text-xs text-gray-500",children:"(edited)"})]})]})]})}),T.comment&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:ae}),te&&s.jsxs("button",{onClick:()=>C(T._id),className:"text-desi-gold hover:text-yellow-600 text-sm font-medium mt-2 flex items-center space-x-1",children:[s.jsx("span",{children:O?"Show Less":"Read More"}),s.jsx(Sx,{className:`w-4 h-4 transition-transform ${O?"rotate-180":""}`})]})]}),T.images&&T.images.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(kx,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Customer Photos"})]}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:T.images.slice(0,5).map((R,L)=>s.jsxs("button",{onClick:()=>_(T.images,L),className:"relative aspect-square rounded-lg overflow-hidden hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:R,alt:`Review image ${L+1}`,className:"w-full h-full object-cover"}),L===4&&T.images.length>5&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:["+",T.images.length-5]})})]},L))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>S(T._id,!U(T)),disabled:!r,className:`flex items-center space-x-2 px-3 py-1.5 rounded-lg transition text-sm font-medium ${U(T)?"bg-desi-gold text-desi-brown":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${r?"":"opacity-50 cursor-not-allowed"}`,children:[s.jsx(gN,{className:"w-4 h-4"}),s.jsx("span",{children:T.helpful||0}),s.jsx("span",{className:"hidden sm:inline",children:"Helpful"})]}),!r&&s.jsx("span",{className:"text-xs text-gray-500",children:"Login to vote"})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Review #",T._id.slice(-6)]})]})]},T._id)})}),d.pages>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-4 pt-6",children:[s.jsx("button",{onClick:()=>v(d.current-1),disabled:d.current===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",d.current," of ",d.pages]}),s.jsx("button",{onClick:()=>v(d.current+1),disabled:d.current===d.pages,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:"Next"})]}),p&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",children:s.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[s.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:s.jsx(X,{className:"w-8 h-8"})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((T,O)=>s.jsx("img",{src:T,alt:`Review image ${O+1}`,className:"w-full h-auto rounded-lg"},O))})]})})]})},RN=()=>{var ts,kt;const{id:e}=wd(),t=Bt(),{addToCart:r}=Ks(),{user:n}=lt(),[a,l]=f.useState(null),[i,o]=f.useState(!0),[c,d]=f.useState(1),[m,u]=f.useState(0),[x,j]=f.useState([]),[y,b]=f.useState([]),[w,p]=f.useState(!1),[g,v]=f.useState(!1),[S,C]=f.useState(!1),[_,A]=f.useState({rating:5,comment:""}),[U,T]=f.useState(null),[O,te]=f.useState(null),[ae,oe]=f.useState(!1),[R,L]=f.useState(!1),[V,z]=f.useState(!1);f.useEffect(()=>{$(),B(),u(0)},[e]),f.useEffect(()=>{n&&a&&(I(),N())},[n,a]);const N=async()=>{try{const F=await Ad();L(F.some(se=>se._id===a._id))}catch(F){console.error("Failed to check wishlist status:",F)}};f.useEffect(()=>{if(!a)return;const F=[];a.image&&F.push(a.image),a.images&&Array.isArray(a.images)&&a.images.forEach(le=>{le&&le!==a.image&&F.push(le)});const se=le=>{F.length>1&&(le.key==="ArrowLeft"?u(ye=>ye===0?F.length-1:ye-1):le.key==="ArrowRight"&&u(ye=>ye===F.length-1?0:ye+1))};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[a]),f.useEffect(()=>{if(!a)return;const F=[];if(a.image&&F.push(a.image),a.images&&Array.isArray(a.images)&&a.images.forEach(se=>{se&&se!==a.image&&F.push(se)}),F.length>1&&oe(!0),F.length>1&&ae){const se=setInterval(()=>{u(le=>le===F.length-1?0:le+1)},4e3);return()=>clearInterval(se)}},[a,ae]);const I=async()=>{try{const F=await Nj();b(F);const se=Array.isArray(F)&&F.some(le=>le&&le.status==="delivered"&&Array.isArray(le.items)&&le.items.some(ye=>{if(!ye||!ye.product)return!1;let Re;if(typeof ye.product=="object"&&ye.product._id)Re=ye.product._id;else if(typeof ye.product=="string")Re=ye.product;else return!1;const ee=(a==null?void 0:a._id)||e;return Re===ee}));p(se)}catch(F){console.error("Error checking review eligibility:",F),p(!1)}},$=async()=>{try{o(!0);try{const le=await yx(e);l(le);return}catch{}const se=(await Yr()).find(le=>{const ye=le.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return le._id===e||ye===e});se?l(se):(P.error("Product not found"),t("/products"))}catch(F){console.error("Error fetching product:",F),P.error("Unable to fetch product details"),t("/products")}finally{o(!1)}},B=async()=>{try{const F=await Yr();j(F)}catch(F){console.error("Error fetching all products:",F)}},Y=()=>{if(a.stock===0){P.error("Product is out of stock");return}for(let F=0;F<c;F++)r(a);P.success("Added to cart",{duration:1500})},Ee=async()=>{if(!n){P.error("Please login to add to wishlist");return}if(!a._id){P.error("Cannot add this product to wishlist");return}z(!0);try{await jx(a._id),L(!R),P.success(R?"Removed from wishlist":"Added to wishlist")}catch(F){console.error("Failed to toggle wishlist:",F),P.error("Failed to update wishlist")}finally{z(!1)}},ge=F=>{F>=1&&F<=a.stock&&d(F)},be=async F=>{var se,le,ye;C(!0);try{const ee=((se=(await Hl(e,F)).data)==null?void 0:se.message)||"Review submitted successfully!";P.success(ee),v(!1),$(),p(!1)}catch(Re){console.error("Error submitting review:",Re),P.error(((ye=(le=Re.response)==null?void 0:le.data)==null?void 0:ye.message)||"Failed to submit review")}finally{C(!1)}},Q=F=>!F||F.length===0?0:(F.reduce((le,ye)=>le+ye.rating,0)/F.length).toFixed(1),we=F=>{te(null),T(F.targetTouches[0].clientX)},Fe=F=>{te(F.targetTouches[0].clientX)},me=()=>{if(!U||!O||!a)return;const F=[];a.image&&F.push(a.image),a.images&&Array.isArray(a.images)&&a.images.forEach(Re=>{Re&&Re!==a.image&&F.push(Re)});const se=U-O,le=se>50,ye=se<-50;F.length>1&&(le?u(Re=>Re===F.length-1?0:Re+1):ye&&u(Re=>Re===0?F.length-1:Re-1))};if(i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-desi-gold"})});if(!a)return null;const Z=[];a.image&&Z.push(a.image),a.images&&Array.isArray(a.images)&&a.images.length>0&&a.images.forEach(F=>{F&&Z.push(F)}),Z.length===0&&Z.push("/placeholder-product.jpg");const Le=x.filter(F=>F.category===a.category&&(F._id||F.name)!==(a._id||a.name)).slice(0,4);return s.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[s.jsx(pa,{title:`${a.name} - Buy Online at VillageCrunch`,description:`${a.description||`Buy premium ${a.name} online at VillageCrunch`}. Fresh, natural, and authentic quality. Price: ${a.price}. Fast delivery across India.`,keywords:`${a.name}, buy ${a.name} online, ${a.category}, premium dry fruits, natural ${a.category}`,url:`/product/${a._id}`,image:a.image,type:"product",product:{name:a.name,description:a.description,price:a.price,image:a.image,category:a.category,inStock:a.inStock,reviews:a.reviews,averageRating:((ts=a.reviews)==null?void 0:ts.length)>0?Q(a.reviews):5,_id:a._id},breadcrumbs:[{name:"Home",url:"/"},{name:"Products",url:"/products"},{name:a.category,url:`/products?category=${a.category}`},{name:a.name,url:`/product/${a._id}`}]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-desi-brown hover:text-desi-gold mb-6 transition",children:[s.jsx(Mr,{className:"w-5 h-5 mr-2"}),"Back to Products"]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"relative mb-4 group",onTouchStart:we,onTouchMove:Fe,onTouchEnd:me,onMouseEnter:()=>oe(!1),onMouseLeave:()=>{a&&Z.length>1&&oe(!0)},children:[s.jsx("img",{src:Z[m],alt:a.name,className:"w-full h-96 object-cover rounded-xl select-none",onError:F=>{F.target.src="/placeholder-product.jpg"},draggable:!1}),Z.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>u(F=>F===0?Z.length-1:F-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg transition-all hover:scale-110 opacity-0 group-hover:opacity-100 duration-300","aria-label":"Previous image",children:s.jsx(Cx,{className:"w-6 h-6 text-gray-700"})}),s.jsx("button",{onClick:()=>u(F=>F===Z.length-1?0:F+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg transition-all hover:scale-110 opacity-0 group-hover:opacity-100 duration-300","aria-label":"Next image",children:s.jsx(Px,{className:"w-6 h-6 text-gray-700"})}),s.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-medium opacity-0 group-hover:opacity-100 duration-300",children:[m+1," / ",Z.length]}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:Z.map((F,se)=>s.jsx("button",{onClick:()=>u(se),className:`w-3 h-3 rounded-full transition-all duration-300 ${m===se?"bg-white scale-110":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to image ${se+1}`},se))})]})]}),Z.length>1&&s.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:Z.map((F,se)=>s.jsx("button",{onClick:()=>u(se),className:`flex-shrink-0 w-20 h-20 rounded-lg border-2 overflow-hidden transition-all hover:scale-105 duration-200 ${m===se?"border-desi-gold ring-2 ring-desi-gold/20 shadow-lg":"border-gray-200 hover:border-desi-gold/50"}`,children:s.jsx("img",{src:F,alt:`${a.name} ${se+1}`,className:"w-full h-full object-cover",onError:le=>{le.target.src="/placeholder-product.jpg"}})},se))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("span",{className:"inline-block bg-desi-gold text-desi-brown px-3 py-1 rounded-full text-sm font-semibold mb-2",children:a.category}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("div",{className:"flex text-desi-gold",children:[...Array(5)].map((F,se)=>s.jsx(Ye,{className:`w-5 h-5 ${se<Math.floor(Q(a.reviews))?"fill-current":""}`},se))}),s.jsx("span",{className:"ml-2 text-gray-600",children:a.reviews&&a.reviews.length>0?`(${Q(a.reviews)})`:"(No ratings yet)"}),a.reviews&&a.reviews.length>0&&s.jsxs("span",{className:"ml-2 text-gray-500",children:[" ",a.reviews.length," review",a.reviews.length!==1?"s":""]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-4xl font-bold text-desi-brown",children:["",a.price]}),a.originalPrice&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-xl text-gray-500 line-through",children:["",a.originalPrice]}),s.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-semibold",children:[Math.round((a.originalPrice-a.price)/a.originalPrice*100),"% OFF"]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 0a1 1 0 100 2h.01a1 1 0 100-2H9z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-semibold",children:" Promotional Offers Available!"})]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Apply promocodes during checkout to get additional discounts on this product.",s.jsx("span",{className:"block mt-1 text-green-600 font-medium",children:" Check cart for available promocodes and save more!"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Weight:"}),s.jsx("span",{className:"ml-2 font-semibold",children:a.weight})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Availability:"}),s.jsx("span",{className:`ml-2 font-semibold ${a.stock>0?"text-green-600":"text-red-600"}`,children:a.stock>0?"In Stock":"Out of Stock"})]})]}),a.stock>0&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Quantity:"}),s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>ge(c-1),disabled:c<=1,className:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50",children:"-"}),s.jsx("span",{className:"px-4 py-2 font-semibold",children:c}),s.jsx("button",{onClick:()=>ge(c+1),disabled:c>=a.stock,className:"px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50",children:"+"})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:Y,disabled:a.stock===0,className:`flex-1 py-4 px-6 rounded-xl font-semibold flex items-center justify-center space-x-3 transition-all ${a.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-desi-gold text-desi-brown hover:bg-yellow-500 transform hover:scale-105"}`,children:[s.jsx(yi,{className:"w-6 h-6"}),s.jsx("span",{children:a.stock===0?"Out of Stock":`Add ${c} to Cart`})]}),n&&a._id&&s.jsx("button",{onClick:Ee,disabled:V,className:`px-6 py-4 rounded-xl border-2 transition-all transform hover:scale-105 disabled:opacity-50 ${R?"bg-red-50 border-red-300 text-red-600 hover:bg-red-100":"bg-gray-50 border-gray-300 text-gray-600 hover:bg-gray-100"}`,title:R?"Remove from wishlist":"Add to wishlist",children:V?s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-current"}):s.jsx(us,{className:`w-6 h-6 ${R?"fill-current":""}`})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Jr,{className:"w-8 h-8 text-desi-gold mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Free Delivery"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(sa,{className:"w-8 h-8 text-desi-gold mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Quality Assured"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(fN,{className:"w-8 h-8 text-desi-gold mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Easy Returns"})]})]})]})]}),s.jsxs("div",{className:"border-t bg-gradient-to-br from-gray-50 to-white p-8",children:[g&&s.jsx("div",{className:"mb-8",children:s.jsx(TN,{product:a,existingReview:(kt=a==null?void 0:a.reviews)==null?void 0:kt.find(F=>(F.user._id||F.user)===(n==null?void 0:n._id)),onSubmit:be,onCancel:()=>v(!1),isSubmitting:S})}),s.jsx(AN,{productId:a._id,onWriteReview:w?()=>v(!0):null})]}),(a.benefits||a.ingredients)&&s.jsx("div",{className:"border-t bg-gray-50 p-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.benefits&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-desi-brown mb-4",children:"Benefits"}),s.jsx("ul",{className:"space-y-2",children:a.benefits.map((F,se)=>s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx("span",{className:"w-2 h-2 bg-desi-gold rounded-full mr-3"}),F]},se))})]}),a.ingredients&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-desi-brown mb-4",children:"Ingredients"}),s.jsx("ul",{className:"space-y-2",children:a.ingredients.map((F,se)=>s.jsxs("li",{className:"flex items-center text-gray-700",children:[s.jsx("span",{className:"w-2 h-2 bg-desi-gold rounded-full mr-3"}),F]},se))})]})]})})]}),Le.length>0&&s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-desi-brown mb-6",children:"Related Products"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Le.map(F=>{const se=F._id||F.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return s.jsxs("div",{onClick:()=>t(`/product/${se}`),className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer hover:shadow-xl transition-all transform hover:scale-105",children:[s.jsx("img",{src:F.image,alt:F.name,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2",children:F.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-lg font-bold text-desi-brown",children:["",F.price]}),F.originalPrice&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",F.originalPrice]})]})]})]},se)})})]}),a&&s.jsx(Ax,{currentProduct:a,limit:4})]})]})},ON=()=>{var ae,oe,R,L,V,z,N,I,$,B,Y,Ee,ge,be;const{cartItems:e,removeFromCart:t,updateQuantity:r,getCartTotal:n}=Ks(),{user:a}=lt(),l=Bt(),[i,o]=f.useState(""),[c,d]=f.useState(null),[m,u]=f.useState(!1),[x,j]=f.useState(null),[y,b]=f.useState(null),[w,p]=f.useState(null),[g,v]=f.useState(!0),S=n();f.useEffect(()=>{(async()=>{try{v(!0);const we=await Td();if(p(we),e.length>0){const Fe=e.map(Z=>({productId:Z._id,quantity:Z.quantity,price:Z.price,category:Z.category})),me=await hl(Fe,"standard",c);b(me)}}catch(we){console.error("Error fetching settings:",we),p({pricing:{taxRate:18,shippingCharges:{standard:{rate:50,freeShippingThreshold:500}},codCharges:25}})}finally{v(!1)}})()},[e,c]);const C=((ae=y==null?void 0:y.shipping)==null?void 0:ae.cost)??((L=(R=(oe=w==null?void 0:w.pricing)==null?void 0:oe.shippingCharges)==null?void 0:R.standard)!=null&&L.freeShippingThreshold&&S>=w.pricing.shippingCharges.standard.freeShippingThreshold?0:((N=(z=(V=w==null?void 0:w.pricing)==null?void 0:V.shippingCharges)==null?void 0:z.standard)==null?void 0:N.rate)??50),_=((I=y==null?void 0:y.tax)==null?void 0:I.amount)??S*((($=w==null?void 0:w.pricing)==null?void 0:$.taxRate)??18)/100,A=((B=y==null?void 0:y.discount)==null?void 0:B.amount)??0,U=(y==null?void 0:y.total)??S+C+_-A,T=async()=>{var Q,we;if(!i.trim()){j({type:"error",message:"Please enter a promocode"});return}try{u(!0);const Fe=e.map(Z=>({productId:Z._id,quantity:Z.quantity,price:Z.price,category:Z.category})),me=await Fj(i.toUpperCase(),S,Fe,[...new Set(e.map(Z=>Z.category))],a==null?void 0:a._id);if(me.valid){const Z={code:i.toUpperCase(),type:me.promocode.type||me.promocode.discountType,discount:me.discount},Le=await hl(Fe,"standard",Z);d({code:i.toUpperCase(),description:me.promocode.description,discount:me.discount,discountType:me.promocode.type||me.promocode.discountType}),b(Le),o(""),j(null),P.success(`Promocode applied! You saved ${Number(me.discount).toFixed(2)}`)}else{let Z="";me.amountNeeded&&me.minOrderValue?Z=`Add ${me.amountNeeded.toFixed(2)} more to use this promocode (minimum: ${me.minOrderValue})`:me.message?Z=me.message:Z="Cannot apply this promocode",j({type:"error",message:Z})}}catch(Fe){console.error("Promocode validation error:",Fe);const me=(Q=Fe.response)==null?void 0:Q.data,Z=me==null?void 0:me.message;let Le="";if(me&&!me.valid)if(Z&&Z.includes("Minimum order value should be ")){const ts=Z.match(/([\d,]+(?:\.\d{2})?)/);if(ts){const kt=parseFloat(ts[1].replace(/,/g,""));Le=`Add ${(kt-S).toFixed(2)} more to use this promocode (minimum: ${kt})`}else Le="Minimum order value not met for this promocode"}else Z&&(Z.includes("already used")||Z.includes("usage limit")||Z.includes("exceeded"))?Le="You have already used this promocode":Z&&Z.includes("not applicable")?Z.includes("cart items")?Le="This promocode is only valid for specific products/categories not in your cart":Le="This promocode is not applicable to your current selection":Z&&(Z.includes("expired")||Z.includes("not valid")||Z.includes("does not exist"))?Le="Invalid or expired promocode":Z?Le=Z:Le="Cannot apply this promocode";else((we=Fe.response)==null?void 0:we.status)===404?Le="Invalid promocode code":Le="Unable to validate promocode. Please try again.";j({type:"error",message:Le})}finally{u(!1)}},O=async()=>{try{const Q=e.map(Fe=>({productId:Fe._id,quantity:Fe.quantity,price:Fe.price,category:Fe.category})),we=await hl(Q,"standard",null);d(null),j(null),b(we),P.success("Promocode removed")}catch(Q){console.error("Error removing promocode:",Q),d(null),b(null)}},te=()=>{a?l("/checkout",{state:{appliedPromocode:c,orderTotals:y}}):l("/login?redirect=/checkout")};return g?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-desi-gold"})}):e.length===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tx,{className:"w-24 h-24 mx-auto text-gray-400 mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Add some delicious items to get started!"}),s.jsx(J,{to:"/products",className:"btn-primary",children:"Continue Shopping"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-6 sm:py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 sm:mb-8",children:"Shopping Cart"}),s.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 lg:order-1 order-2",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.map(Q=>s.jsx("div",{className:"p-3 md:p-6 border-b last:border-b-0 hover:bg-gray-50 transition",children:s.jsxs("div",{className:"space-y-3 md:space-y-0 md:flex md:items-center",children:[s.jsxs("div",{className:"flex items-start space-x-3 md:space-x-4 flex-1",children:[s.jsx(J,{to:`/product/${Q._id}`,className:"flex-shrink-0",children:s.jsx("img",{src:Q.image||Q.images&&Q.images[0]||"/placeholder-image.jpg",alt:Q.name,className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(J,{to:`/product/${Q._id}`,className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 hover:text-desi-gold transition block",children:s.jsx("span",{className:"line-clamp-2",children:Q.name})}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:Q.weight}),s.jsxs("p",{className:"text-sm sm:text-base md:text-lg font-bold text-desi-brown mt-1",children:["",Q.price]}),s.jsxs("p",{className:"text-sm font-semibold text-gray-700 mt-2 md:hidden",children:["Subtotal: ",(Q.price*Q.quantity).toFixed(2)]})]}),s.jsx("button",{onClick:()=>t(a?Q._id:Q.cartItemId),className:"text-red-500 hover:text-red-700 transition p-1 flex-shrink-0","aria-label":"Remove item",children:s.jsx(ra,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),s.jsxs("div",{className:"flex items-center justify-between md:justify-end md:space-x-6 md:ml-4",children:[s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>r(a?Q._id:Q.cartItemId,Q.quantity-1),className:"p-1 sm:p-2 hover:bg-gray-200 rounded transition flex-shrink-0",disabled:Q.quantity<=1,"aria-label":"Decrease quantity",children:s.jsx(hN,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),s.jsx("span",{className:"w-6 sm:w-8 text-center font-semibold text-sm sm:text-base",children:Q.quantity}),s.jsx("button",{onClick:()=>r(a?Q._id:Q.cartItemId,Q.quantity+1),className:"p-1 sm:p-2 hover:bg-gray-200 rounded transition flex-shrink-0",disabled:Q.quantity>=Q.stock,"aria-label":"Increase quantity",children:s.jsx(ta,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsx("div",{className:"hidden md:block w-20 lg:w-24 text-right",children:s.jsxs("span",{className:"font-bold text-gray-900 text-sm lg:text-base",children:["",(Q.price*Q.quantity).toFixed(2)]})})]})]})},a?Q._id:Q.cartItemId))}),s.jsx(J,{to:"/products",className:"inline-block mt-4 sm:mt-6 text-desi-gold hover:text-yellow-600 font-semibold transition text-sm sm:text-base",children:" Continue Shopping"})]}),s.jsx("div",{className:"lg:col-span-1 order-1 lg:order-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 md:p-6 lg:sticky lg:top-24",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4 md:mb-6",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsxs("span",{className:"text-sm sm:text-base",children:["Subtotal (",e.length," items)"]}),s.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:["",S.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{className:"text-sm sm:text-base",children:"Shipping"}),s.jsx("span",{className:"font-semibold text-sm sm:text-base",children:C===0?s.jsx("span",{className:"text-green-600",children:"FREE"}):`${Number(C).toFixed(2)}`})]}),C>0&&((ge=(Ee=(Y=w==null?void 0:w.pricing)==null?void 0:Y.shippingCharges)==null?void 0:Ee.standard)==null?void 0:ge.freeShippingThreshold)&&s.jsxs("div",{className:"text-xs sm:text-sm text-desi-gold bg-yellow-50 p-2 rounded",children:["Add ",(w.pricing.shippingCharges.standard.freeShippingThreshold-S).toFixed(2)," more for free shipping!"]}),((be=w==null?void 0:w.pricing)==null?void 0:be.taxRate)>0&&s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsxs("span",{className:"text-sm sm:text-base",children:["Tax (",w.pricing.taxRate,"% GST)"]}),s.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:["",Number(_).toFixed(2)]})]}),c&&s.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[s.jsxs("span",{className:"flex items-center text-sm sm:text-base",children:[s.jsx(ql,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsxs("span",{className:"truncate",children:["Promocode (",c.code,")"]})]}),s.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:["-",Number(A).toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-3 sm:pt-4",children:[s.jsxs("div",{className:"flex justify-between text-base sm:text-lg font-bold text-gray-900",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{className:"text-desi-brown",children:["",Number(U).toFixed(2)]})]}),c&&s.jsxs("div",{className:"text-xs sm:text-sm text-green-600 mt-1",children:["You saved ",Number(A).toFixed(2)," with ",c.code,"!"]})]})]}),s.jsx("button",{onClick:te,className:"w-full btn-primary mb-3 sm:mb-4 py-3 sm:py-2 text-base font-semibold",children:"Proceed to Checkout"}),s.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-600",children:s.jsx("p",{children:" Secure checkout"})}),s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center text-sm sm:text-base",children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),"Have a promocode?"]}),c?s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[s.jsx(de,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-semibold text-green-800 text-sm sm:text-base truncate",children:c.code}),s.jsx("div",{className:"text-xs sm:text-sm text-green-600 truncate",children:c.description})]})]}),s.jsx("button",{onClick:O,className:"text-red-600 hover:text-red-800 p-1 ml-2 flex-shrink-0",title:"Remove promocode",children:s.jsx(rt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Enter promocode",value:i,onChange:Q=>{o(Q.target.value.toUpperCase()),j(null)},onKeyPress:Q=>Q.key==="Enter"&&T(),className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-desi-gold text-sm",disabled:m}),s.jsx("button",{onClick:T,disabled:m||!i.trim(),className:"bg-desi-gold text-desi-brown px-4 py-2 rounded-lg hover:bg-yellow-500 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-desi-brown"}),s.jsx("span",{className:"hidden sm:inline",children:"Validating..."})]}):s.jsx("span",{children:"Apply"})})]}),x&&s.jsx("div",{className:`p-3 rounded-lg text-xs sm:text-sm mt-3 ${x.type==="error"?"bg-red-50 border border-red-200 text-red-700":"bg-blue-50 border border-blue-200 text-blue-700"}`,children:s.jsxs("div",{className:"flex items-start space-x-2",children:[x.type==="error"?s.jsx(rt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}):s.jsx(de,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:x.message})]})}),s.jsx("div",{className:"text-xs text-gray-500",children:" Tip: Promocodes are automatically applied at the best available rate"})]})]})]})})]})]})})},_N=()=>new Promise((e,t)=>{if(window.Razorpay){e(!0);return}const r=()=>new Promise((c,d)=>{const m=document.createElement("script");m.src="https://checkout.razorpay.com/v1/checkout.js",m.onload=()=>c(!0),m.onerror=()=>d(new Error("Failed to load Razorpay script")),document.head.appendChild(m)}),n=15e3,a=200;let l=0,i=!1;const o=async()=>{if(window.Razorpay)e(!0);else if(l>=n)t(new Error("Razorpay failed to load within 15 seconds. Please check your internet connection and try again."));else{if(l>=3e3&&!i){i=!0;try{await r()}catch(c){console.error("Failed to load Razorpay script dynamically:",c)}}l+=a,setTimeout(o,a)}};o()}),$N=()=>{var be,Q,we,Fe,me,Z,Le,ts,kt,F,se,le,ye,Re;const e=Bt(),t=Ws(),{cartItems:r,getCartTotal:n,clearCart:a}=Ks(),{user:l,updateUser:i}=lt(),[o,c]=f.useState(((be=t.state)==null?void 0:be.appliedPromocode)||null),[d,m]=f.useState(((Q=t.state)==null?void 0:Q.orderTotals)||null),[u,x]=f.useState(null),[j,y]=f.useState(!0),[b,w]=f.useState({name:(l==null?void 0:l.name)||"",phone:(l==null?void 0:l.phone)||"",street:"",city:"",state:"",pincode:""}),[p,g]=f.useState(null),[v,S]=f.useState(!1),[C,_]=f.useState([]),[A,U]=f.useState(!0),[T,O]=f.useState(!1),[te,ae]=f.useState("razorpay");f.useEffect(()=>{(async()=>{try{y(!0);const pe=await Td();if(x(pe),!d&&r.length>0){const Te=r.map(Me=>({productId:Me._id,quantity:Me.quantity,price:Me.price,category:Me.category})),De=await hl(Te,"standard",o);m(De)}}catch{x({pricing:{taxRate:18,shippingCharges:{standard:{rate:50,freeShippingThreshold:500}},codCharges:25}})}finally{y(!1)}})()},[r,o,d]);const oe=async()=>{if(l)try{const ee=await wx();if(_(ee||[]),ee&&ee.length>0){const pe=ee.findIndex(Te=>Te.isDefault);if(pe!==-1){const Te=ee[pe];g(pe),S(!1),w({name:l.name||"",phone:Te.phone||l.phone||"",street:Te.street,city:Te.city,state:Te.state,pincode:Te.pincode})}else{const Te=ee[0];g(0),S(!1),w({name:l.name||"",phone:Te.phone||l.phone||"",street:Te.street,city:Te.city,state:Te.state,pincode:Te.pincode})}}else S(!0),g(null),w({name:(l==null?void 0:l.name)||"",phone:(l==null?void 0:l.phone)||"",street:"",city:"",state:"",pincode:""})}catch{_([]),S(!0),g(null),w({name:(l==null?void 0:l.name)||"",phone:(l==null?void 0:l.phone)||"",street:"",city:"",state:"",pincode:""})}};f.useEffect(()=>{oe()},[l]);const R=n(),L=((we=d==null?void 0:d.shipping)==null?void 0:we.cost)??((Z=(me=(Fe=u==null?void 0:u.pricing)==null?void 0:Fe.shippingCharges)==null?void 0:me.standard)!=null&&Z.freeShippingThreshold&&R>=u.pricing.shippingCharges.standard.freeShippingThreshold?0:((kt=(ts=(Le=u==null?void 0:u.pricing)==null?void 0:Le.shippingCharges)==null?void 0:ts.standard)==null?void 0:kt.rate)??50),V=((F=d==null?void 0:d.tax)==null?void 0:F.amount)??R*(((se=u==null?void 0:u.pricing)==null?void 0:se.taxRate)??18)/100,z=((le=d==null?void 0:d.discount)==null?void 0:le.amount)??0,N=te==="cod"?((ye=u==null?void 0:u.pricing)==null?void 0:ye.codCharges)??0:0,I=(d==null?void 0:d.total)??R+L+V+N-z,$=ee=>{w({...b,[ee.target.name]:ee.target.value})},B=(ee,pe)=>{g(pe),S(!1),w({name:l.name||"",phone:ee.phone||l.phone||"",street:ee.street,city:ee.city,state:ee.state,pincode:ee.pincode})},Y=()=>{g(null),S(!0),w({name:(l==null?void 0:l.name)||"",phone:(l==null?void 0:l.phone)||"",street:"",city:"",state:"",pincode:""})},Ee=async()=>{var ee,pe;try{if(O(!0),v&&A)try{const De=await Kj({street:b.street,city:b.city,state:b.state,pincode:b.pincode,phone:b.phone,saveAddress:!0});await oe(),De.message.includes("already exists")?P.success("Address already in your saved addresses!",{duration:2e3}):P.success("Address saved for future orders!",{duration:2e3})}catch{P.error("Address could not be saved, but order will continue")}const Te={items:r.map(De=>({product:De._id,name:De.name,image:De.image,quantity:De.quantity,price:De.price,weight:De.weight})),shippingAddress:{name:b.name,phone:b.phone,street:b.street,city:b.city,state:b.state,pincode:b.pincode},paymentInfo:{method:"cod",razorpayOrderId:null,razorpayPaymentId:null,razorpaySignature:null},itemsPrice:R,shippingPrice:L,taxPrice:V,totalPrice:I,promocode:o?{code:o.code,discount:z,description:o.description}:null,promocodeDiscount:z};try{const De=await lh(Te);a(),P.success("Order placed successfully! You can pay at delivery. "),e(`/order/${De._id}`)}catch(De){throw P.error(((pe=(ee=De.response)==null?void 0:ee.data)==null?void 0:pe.message)||"Order creation failed. Please try again."),De}}finally{O(!1)}},ge=async ee=>{if(ee.preventDefault(),!b.name||!b.phone||!b.street||!b.city||!b.state||!b.pincode){P.error("Please fill all shipping details");return}if(te==="cod"){Ee();return}O(!0);try{await _N();const pe=await Cj(I),Te={key:pe.keyId,amount:pe.amount,currency:pe.currency,order_id:pe.orderId,name:"VillageCrunch",description:"Premium Indian Dry Fruits & Snacks",image:"https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=200&h=200&fit=crop",config:{display:{blocks:{banks:{name:"All payment methods",instruments:[{method:"upi",flows:["qr","collect","intent"]},{method:"card"},{method:"netbanking"},{method:"wallet"}]}},sequence:["block.banks"],preferences:{show_default_blocks:!0}}},method:{upi:!0,card:!0,netbanking:!0,wallet:!0,emi:!1,cardless_emi:!1,paylater:!1},handler:async function(Me){var fa,fr;try{if(v&&A)try{const He=await saveAddress({street:b.street,city:b.city,state:b.state,pincode:b.pincode,phone:b.phone,saveAddress:!0});try{const Ot=await Yj();i(Ot)}catch{}He.message.includes("already exists")?P.success("Address already in your saved addresses!",{duration:2e3}):P.success("Address saved for future orders!",{duration:2e3})}catch{P.error("Address could not be saved, but order will continue")}await Pj({razorpayOrderId:Me.razorpay_order_id,razorpayPaymentId:Me.razorpay_payment_id,razorpaySignature:Me.razorpay_signature});const nn=r.map(He=>{var Ot;if(!He._id||!He.quantity||!He.price)throw new Error(`Invalid item structure: ${JSON.stringify(He)}`);return{product:He._id,name:He.name||"Unknown Product",image:He.image||((Ot=He.images)==null?void 0:Ot[0])||"",quantity:parseInt(He.quantity),price:parseFloat(He.price),weight:He.weight||""}});if(!b.name||!b.phone)throw new Error("Name and phone number are required for shipping");const ss={items:nn,shippingAddress:{name:b.name.trim(),phone:b.phone.trim(),street:b.street.trim(),city:b.city.trim(),state:b.state.trim(),pincode:b.pincode.trim()},paymentInfo:{razorpayOrderId:Me.razorpay_order_id,razorpayPaymentId:Me.razorpay_payment_id,razorpaySignature:Me.razorpay_signature,method:"Online"},itemsPrice:parseFloat(R)||0,shippingPrice:parseFloat(L)||0,taxPrice:parseFloat(V)||0,totalPrice:parseFloat(I)||0,promocode:o?{code:o.code,discount:parseFloat(z)||0,description:o.description}:null,promocodeDiscount:parseFloat(z)||0},xa=await lh(ss);await Sj(xa._id,{razorpayPaymentId:Me.razorpay_payment_id,razorpayOrderId:Me.razorpay_order_id,razorpaySignature:Me.razorpay_signature}),a(),P.success("Order placed successfully! "),e(`/order/${xa._id}`)}catch(nn){const ss=((fr=(fa=nn.response)==null?void 0:fa.data)==null?void 0:fr.message)||"Order creation failed";P.error(`Payment successful but order creation failed: ${ss}. Please contact support with payment ID: ${Me.razorpay_payment_id}`)}},prefill:{name:b.name,email:(l==null?void 0:l.email)||"",contact:b.phone},notes:{address:`${b.street}, ${b.city}, ${b.state} - ${b.pincode}`,customer_name:b.name},theme:{color:"#D4AF37",backdrop_color:"#F5E6D3"},modal:{ondismiss:function(){P.error("Payment cancelled"),O(!1)},escape:!0,backdropclose:!1},retry:{enabled:!0,max_count:3}};if(!window.Razorpay){P.error("Payment system not available. Please refresh the page and try again."),O(!1);return}const De=new window.Razorpay(Te);De.open(),De.on("payment.failed",function(Me){P.error("Payment failed. Please try again."),O(!1)})}catch(pe){pe.message&&pe.message.includes("Razorpay failed to load")?P.error("Payment system is loading. Please wait a moment and try again."):P.error("Payment initialization failed. Please try again."),O(!1)}finally{setTimeout(()=>O(!1),1e3)}};return r.length===0?(e("/cart"),null):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Delivery Address"}),C.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Delivery Address"}),s.jsxs("div",{className:"space-y-3",children:[C.map((ee,pe)=>s.jsx("div",{onClick:()=>B(ee,pe),className:`p-4 border-2 rounded-lg cursor-pointer transition ${p===pe?"border-desi-gold bg-desi-cream/30":"border-gray-200 hover:border-desi-cream"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(is,{className:"w-4 h-4 text-desi-brown"}),ee.isDefault&&s.jsx("span",{className:"bg-desi-gold text-white text-xs px-2 py-1 rounded-full font-medium",children:"Default"})]}),s.jsx("p",{className:"font-medium text-gray-900",children:ee.street}),s.jsxs("p",{className:"text-gray-600 text-sm",children:[ee.city,", ",ee.state," - ",ee.pincode]})]}),p===pe&&s.jsx(de,{className:"w-5 h-5 text-desi-gold"})]})},ee._id||pe)),s.jsx("div",{onClick:Y,className:`p-4 border-2 border-dashed rounded-lg cursor-pointer transition ${v?"border-desi-gold bg-desi-cream/30":"border-gray-300 hover:border-desi-gold"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-desi-brown",children:[s.jsx(ta,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Use New Address"}),v&&s.jsx(de,{className:"w-5 h-5 text-desi-gold"})]})})]}),C.length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:["No saved addresses found. (Debug: user.addresses = ",((Re=l==null?void 0:l.addresses)==null?void 0:Re.length)||"undefined",")"]}),s.jsx(J,{to:"/profile",className:"text-desi-gold hover:text-yellow-600 font-medium",children:"Add addresses in your profile"})]})]}),!v&&p!==null&&C[p]&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Selected Delivery Address"}),s.jsx("div",{className:"bg-desi-cream/20 border border-desi-gold rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(is,{className:"w-5 h-5 text-desi-brown mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:C[p].street}),s.jsxs("p",{className:"text-gray-600",children:[C[p].city,", ",C[p].state," - ",C[p].pincode]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Contact: ",C[p].phone||l.phone]}),C[p].isDefault&&s.jsx("span",{className:"inline-block bg-desi-gold text-white text-xs px-2 py-1 rounded-full font-medium mt-1",children:"Default Address"})]})]})})]}),(v||C.length===0)&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.length>0?"New Address Details":"Shipping Information"}),C.length>0&&s.jsx(J,{to:"/profile",className:"text-sm text-desi-gold hover:text-yellow-600 font-medium",children:"Manage addresses in profile"})]})})]}),s.jsxs("form",{onSubmit:ge,className:"bg-white rounded-xl shadow-md p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",value:b.name,onChange:$,required:!0,className:"input-field",readOnly:!v&&p!==null})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",name:"phone",value:b.phone,onChange:$,required:!0,className:"input-field",readOnly:!v&&p!==null})]}),(v||C.length===0)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",name:"street",value:b.street,onChange:$,required:!0,className:"input-field",placeholder:"House/Flat No., Street Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",name:"city",value:b.city,onChange:$,required:!0,className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",name:"state",value:b.state,onChange:$,required:!0,className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIN Code *"}),s.jsx("input",{type:"text",name:"pincode",value:b.pincode,onChange:$,required:!0,className:"input-field"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-desi-cream rounded-lg bg-desi-cream/10",children:[s.jsx("input",{type:"checkbox",checked:A,onChange:ee=>U(ee.target.checked),className:"h-4 w-4 text-desi-gold border-gray-300 rounded focus:ring-desi-gold"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Save this address for future orders"}),s.jsx("p",{className:"text-sm text-gray-600",children:"This address will be added to your profile for quick checkout next time"})]})]})})]}),p!==null&&!v&&s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Address:"}),s.jsxs("p",{className:"text-gray-700",children:[b.street,s.jsx("br",{}),b.city,", ",b.state," - ",b.pincode]})]})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Method"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center space-x-3 p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"razorpay",checked:te==="razorpay",onChange:ee=>ae(ee.target.value),className:"h-4 w-4 text-desi-brown focus:ring-desi-brown"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Online Payment"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Pay securely with UPI, Card, or Net Banking"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:te==="cod",onChange:ee=>ae(ee.target.value),className:"h-4 w-4 text-desi-brown focus:ring-desi-brown"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cash on Delivery"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Pay with cash when your order arrives",N>0&&` (+ ${N} COD charges)`]})]})]})]})]}),s.jsx("button",{type:"submit",disabled:T,className:"w-full mt-8 btn-primary flex items-center justify-center",children:T?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):s.jsx(s.Fragment,{children:te==="cod"?"Place Order - Cash on Delivery":`Pay ${I.toFixed(2)}`})})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),s.jsx("div",{className:"space-y-4 mb-6",children:r.map(ee=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:ee.image,alt:ee.name,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:ee.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",ee.quantity]})]}),s.jsxs("p",{className:"font-semibold",children:["",(ee.price*ee.quantity).toFixed(2)]})]},ee._id))}),s.jsxs("div",{className:"border-t pt-4 space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["",R.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:L===0?"FREE":`${Number(L).toFixed(2)}`})]}),u&&u.pricing.taxRate>0&&s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsxs("span",{children:["Tax (",u.pricing.taxRate,"% GST)"]}),s.jsxs("span",{children:["",Number(V).toFixed(2)]})]}),te==="cod"&&u&&u.pricing.codCharges>0&&s.jsxs("div",{className:"flex justify-between text-gray-700",children:[s.jsx("span",{children:"COD Charges"}),s.jsxs("span",{children:["",Number(u.pricing.codCharges).toFixed(2)]})]}),o&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{className:"flex items-center",children:[" Promocode Discount (",o.code,")"]}),s.jsxs("span",{children:["-",Number(z).toFixed(2)]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{className:"text-desi-brown",children:["",Number(I).toFixed(2)]})]}),o&&s.jsxs("div",{className:"text-sm text-green-600 mt-1 text-right",children:["You saved ",Number(z).toFixed(2),"!"]})]})]})})]})]})})},IN=()=>{const[e]=jd(),t=e.get("redirect")||"/",[r,n]=f.useState({emailOrPhone:"",password:""}),[a,l]=f.useState(!1),{login:i}=lt(),{syncCartOnLogin:o}=Ks(),c=Bt(),d=u=>{n({...r,[u.target.name]:u.target.value})},m=async u=>{var x,j;u.preventDefault(),l(!0);try{const y=await i(r.emailOrPhone,r.password);y.localCart&&y.localCart.length>0&&await o(y.localCart),P.success("Logged in successfully!"),c(t)}catch(y){P.error(((j=(x=y.response)==null?void 0:x.data)==null?void 0:j.message)||"Login failed")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-desi-cream via-white to-amber-50 py-12 px-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-desi-brown mb-2",children:"Welcome Back!"}),s.jsx("p",{className:"text-gray-600",children:"Login to continue shopping"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email or Phone Number"}),s.jsx("input",{type:"text",name:"emailOrPhone",value:r.emailOrPhone,onChange:d,required:!0,className:"input-field",placeholder:"Enter your email or phone number",autoComplete:"email"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can login with either your email address or phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",name:"password",value:r.password,onChange:d,required:!0,className:"input-field",placeholder:""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-desi-gold border-gray-300 rounded focus:ring-desi-gold"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),s.jsx(J,{to:"/forgot-password",className:"text-sm text-desi-gold hover:text-yellow-600",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary",children:a?"Logging in...":"Login"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx(J,{to:`/register${t!=="/"?`?redirect=${t}`:""}`,className:"text-desi-gold font-semibold hover:text-yellow-600",children:"Sign up"})]})})]}),s.jsx("div",{className:"mt-8 text-center text-sm text-gray-600",children:s.jsx("p",{children:" Your information is secure with us"})})]})})},FN=()=>{const[e]=jd(),t=e.get("redirect")||"/",[r,n]=f.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[a,l]=f.useState(!1),{register:i}=lt(),{syncCartOnLogin:o}=Ks(),c=Bt(),d=u=>{n({...r,[u.target.name]:u.target.value})},m=async u=>{var x,j;if(u.preventDefault(),r.password!==r.confirmPassword){P.error("Passwords do not match");return}if(r.password.length<6){P.error("Password must be at least 6 characters");return}l(!0);try{const y=await i({name:r.name,email:r.email,phone:r.phone,password:r.password});y.localCart&&y.localCart.length>0&&await o(y.localCart),P.success("Account created successfully!"),c(t)}catch(y){P.error(((j=(x=y.response)==null?void 0:x.data)==null?void 0:j.message)||"Registration failed")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-desi-cream via-white to-amber-50 py-12 px-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-desi-brown mb-2",children:"Create Account"}),s.jsx("p",{className:"text-gray-600",children:"Join us for premium Indian delights"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",value:r.name,onChange:d,required:!0,className:"input-field",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:d,required:!0,className:"input-field",placeholder:"your@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:d,required:!0,className:"input-field",placeholder:"+91 98765 43210"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",name:"password",value:r.password,onChange:d,required:!0,minLength:6,className:"input-field",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:d,required:!0,className:"input-field",placeholder:""})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",required:!0,className:"w-4 h-4 text-desi-gold border-gray-300 rounded focus:ring-desi-gold mt-1"}),s.jsxs("label",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",s.jsx(J,{to:"/terms",className:"text-desi-gold hover:text-yellow-600",children:"Terms & Conditions"})," ","and"," ",s.jsx(J,{to:"/privacy",className:"text-desi-gold hover:text-yellow-600",children:"Privacy Policy"})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary",children:a?"Creating Account...":"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx(J,{to:`/login${t!=="/"?`?redirect=${t}`:""}`,className:"text-desi-gold font-semibold hover:text-yellow-600",children:"Login"})]})})]}),s.jsx("div",{className:"mt-8 text-center text-sm text-gray-600",children:s.jsx("p",{children:" Your information is secure with us"})})]})})},LN=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,l]=f.useState(!1),[i,o]=f.useState("input"),[c,d]=f.useState(null),[m,u]=f.useState(""),x=Bt(),j=e.includes("@"),y=/^[6-9]\d{9}$/.test(e),b=async g=>{var v,S;if(g.preventDefault(),!e){P.error("Please enter your email or phone number");return}if(!j&&!y){P.error("Please enter a valid email address or 10-digit phone number");return}try{l(!0);const C=await ih(e);d(C.method),C.method==="email"?(o("email-sent"),P.success("Password reset email sent successfully!"),C.resetToken&&(console.log("Reset Token (for development):",C.resetToken),P.success(`Development Mode - Reset Token: ${C.resetToken}`,{duration:15e3}))):C.method==="phone"&&(o("otp-sent"),P.success("OTP sent to your phone number!"))}catch(C){P.error(((S=(v=C.response)==null?void 0:v.data)==null?void 0:S.message)||"Failed to send reset instructions")}finally{l(!1)}},w=async g=>{var v,S;if(g.preventDefault(),!r||r.length!==6){P.error("Please enter a valid 6-digit OTP");return}try{l(!0);const C=await Ej(e,r);u(C.resetToken),P.success("OTP verified! Redirecting to reset password..."),setTimeout(()=>{x(`/reset-password/${C.resetToken}`)},1e3)}catch(C){P.error(((S=(v=C.response)==null?void 0:v.data)==null?void 0:S.message)||"Invalid or expired OTP")}finally{l(!1)}},p=async()=>{try{l(!0);const g=await ih(e);P.success("OTP resent successfully!")}catch{P.error("Failed to resend OTP")}finally{l(!1)}};return i==="otp-sent"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(xN,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Enter OTP"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a 6-digit OTP to"," ",s.jsx("span",{className:"font-semibold text-desi-brown",children:e})]}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"The OTP will expire in 10 minutes for security."})]}),s.jsx("form",{className:"mt-8 space-y-6",onSubmit:w,children:s.jsx("div",{className:"bg-white py-8 px-4 shadow-lg rounded-xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter 6-Digit OTP"}),s.jsx("input",{id:"otp",name:"otp",type:"text",maxLength:"6",pattern:"\\d{6}",required:!0,value:r,onChange:g=>n(g.target.value.replace(/\D/g,"")),className:"block w-full px-3 py-3 border border-gray-300 rounded-lg text-center text-2xl tracking-widest placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"000000",autoComplete:"off"})]}),s.jsx("button",{type:"submit",disabled:a||r.length!==6,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-desi-brown hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-desi-gold disabled:opacity-50 disabled:cursor-not-allowed transition",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Verifying..."]}):"Verify OTP"}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:p,disabled:a,className:"text-desi-gold hover:text-yellow-600 font-medium text-sm disabled:opacity-50",children:"Didn't receive OTP? Resend"})})]})})}),s.jsx("div",{className:"text-center space-y-2",children:s.jsxs("button",{onClick:()=>{o("input"),n("")},className:"inline-flex items-center text-sm text-gray-600 hover:text-desi-gold transition",children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Try different number"]})})]})}):i==="email-sent"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(de,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Check Your Email"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent password reset instructions to"," ",s.jsx("span",{className:"font-semibold text-desi-brown",children:e})]}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"The reset link will expire in 10 minutes for security."})]}),s.jsx("div",{className:"bg-white py-8 px-4 shadow-lg rounded-xl",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Didn't receive the email? Check your spam folder or try again."}),s.jsx("button",{onClick:()=>{o("input"),t("")},className:"text-desi-gold hover:text-yellow-600 font-medium text-sm",children:"Try different email"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs(J,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-desi-gold transition",children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Back to login"]})})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-desi-cream rounded-full flex items-center justify-center",children:s.jsx(gs,{className:"h-8 w-8 text-desi-brown"})}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Forgot Password?"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address or phone number and we'll send you instructions to reset your password."})]}),s.jsx("form",{className:"mt-8 space-y-6",onSubmit:b,children:s.jsx("div",{className:"bg-white py-8 px-4 shadow-lg rounded-xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address or Phone Number"}),s.jsxs("div",{className:"relative",children:[j?s.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}):s.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"email tel",required:!0,value:e,onChange:g=>t(g.target.value),className:"pl-10 block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"email@example.com or 9876543210"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[j&&" We will send reset link to your email",y&&" We will send OTP to your phone",!j&&!y&&"Enter email or 10-digit phone number"]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-desi-brown hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-desi-gold disabled:opacity-50 disabled:cursor-not-allowed transition",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending..."]}):s.jsx(s.Fragment,{children:j?"Send Reset Link":y?"Send OTP":"Continue"})})]})})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs(J,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-desi-gold transition",children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Back to login"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(J,{to:"/register",className:"font-medium text-desi-gold hover:text-yellow-600",children:"Sign up here"})]})]})]})})},DN=()=>{const{resettoken:e}=wd(),t=Bt(),{login:r}=lt(),[n,a]=f.useState({password:"",confirmPassword:""}),[l,i]=f.useState(!1),[o,c]=f.useState(!1),[d,m]=f.useState(!1),[u,x]=f.useState(null);f.useEffect(()=>{j()},[e]);const j=async()=>{try{x(!0)}catch{x(!1)}},y=w=>{a({...n,[w.target.name]:w.target.value})},b=async w=>{var p,g;if(w.preventDefault(),n.password!==n.confirmPassword){P.error("Passwords do not match");return}if(n.password.length<6){P.error("Password must be at least 6 characters long");return}try{m(!0);const v=await Tj(e,n.password);P.success("Password reset successful! Logging you in..."),v.token?(localStorage.setItem("token",v.token),setTimeout(()=>{t("/"),window.location.reload()},1e3)):t("/login")}catch(v){P.error(((g=(p=v.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to reset password")}finally{m(!1)}};return u===!1?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(rt,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Invalid or Expired Link"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"This password reset link is invalid or has expired. Please request a new one."}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx(J,{to:"/forgot-password",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-desi-brown hover:bg-yellow-600 transition",children:"Request New Reset Link"}),s.jsx(J,{to:"/login",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition",children:"Back to Login"})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-16 w-16 bg-desi-cream rounded-full flex items-center justify-center",children:s.jsx(pl,{className:"h-8 w-8 text-desi-brown"})}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Reset Your Password"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below"})]}),s.jsx("form",{className:"mt-8 space-y-6",onSubmit:b,children:s.jsx("div",{className:"bg-white py-8 px-4 shadow-lg rounded-xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",name:"password",type:l?"text":"password",required:!0,value:n.password,onChange:y,className:"pl-10 pr-10 block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"Enter new password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!l),children:l?s.jsx(oh,{className:"h-5 w-5 text-gray-400"}):s.jsx(vc,{className:"h-5 w-5 text-gray-400"})})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters long"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:n.confirmPassword,onChange:y,className:"pl-10 pr-10 block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!o),children:o?s.jsx(oh,{className:"h-5 w-5 text-gray-400"}):s.jsx(vc,{className:"h-5 w-5 text-gray-400"})})]})]}),n.password&&n.confirmPassword&&s.jsx("div",{className:"flex items-center text-sm",children:n.password===n.confirmPassword?s.jsxs(s.Fragment,{children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-600",children:"Passwords match"})]}):s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"w-4 h-4 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-600",children:"Passwords do not match"})]})}),s.jsx("button",{type:"submit",disabled:d||n.password!==n.confirmPassword,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-desi-brown hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-desi-gold disabled:opacity-50 disabled:cursor-not-allowed transition",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Resetting Password..."]}):"Reset Password"})]})})}),s.jsx("div",{className:"text-center",children:s.jsx(J,{to:"/login",className:"text-sm text-gray-600 hover:text-desi-gold transition",children:"Remember your password? Sign in"})})]})})},MN=()=>{var ae,oe;const{user:e}=lt(),[t,r]=f.useState([]),[n,a]=f.useState(!0),[l,i]=f.useState(!1),[o,c]=f.useState(null),[d,m]=f.useState(null),[u,x]=f.useState(5),[j,y]=f.useState(""),[b,w]=f.useState(!1),[p,g]=f.useState({});f.useEffect(()=>{v()},[]);const v=async()=>{try{const R=await vx();r(R),await S(R)}catch(R){P.error("Failed to load orders"),console.error(R)}finally{a(!1)}},S=async R=>{var z;const L={},V=new Set;R.forEach(N=>{N.items.forEach(I=>{var B;const $=((B=I.product)==null?void 0:B._id)||I.product;$&&V.add($)})});for(const N of V)try{const $=(z=(await yx(N)).reviews)==null?void 0:z.find(B=>(B.user._id||B.user)===e._id);$&&(L[N]={rating:$.rating,comment:$.comment,hasReviewed:!0})}catch(I){console.error(`Error fetching product ${N}:`,I)}g(L)},C=R=>{var L;return((L=p[R])==null?void 0:L.rating)||0},_=R=>{var L;return((L=p[R])==null?void 0:L.hasReviewed)||!1},A=(R,L)=>{var N;c(R),m(L),i(!0);const V=((N=R.product)==null?void 0:N._id)||R.product||R._id,z=p[V];z?(x(z.rating),y(z.comment||"")):(x(5),y(""))},U=async R=>{var L,V,z,N;if(R.preventDefault(),!o||!j.trim()){P.error("Please provide a rating and comment");return}w(!0);try{const I=((L=o.product)==null?void 0:L._id)||o.product||o._id,$=await Hl(I,{rating:u,comment:j.trim()});g(Y=>({...Y,[I]:{rating:u,comment:j.trim(),hasReviewed:!0}}));const B=((V=$.data)==null?void 0:V.message)||"Thank you for your review!";P.success(B),i(!1),c(null),m(null),v()}catch(I){P.error(((N=(z=I.response)==null?void 0:z.data)==null?void 0:N.message)||"Failed to submit review"),console.error("Review submission error:",I)}finally{w(!1)}},T=async(R,L,V)=>{var z,N,I,$;try{const B=((z=R.product)==null?void 0:z._id)||R.product||R._id,Y=await Hl(B,{rating:V,comment:`Quick rating: ${V} star${V!==1?"s":""}`});g(ge=>({...ge,[B]:{rating:V,comment:`Quick rating: ${V} star${V!==1?"s":""}`,hasReviewed:!0}}));const Ee=((N=Y.data)==null?void 0:N.message)||"Thank you for your rating!";P.success(Ee),v()}catch(B){P.error((($=(I=B.response)==null?void 0:I.data)==null?void 0:$.message)||"Failed to submit rating"),console.error("Quick rating error:",B)}},O=R=>{const L={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};return L[R]||L.pending},te=R=>{switch(R){case"shipped":return s.jsx(Jr,{className:"w-5 h-5"});case"delivered":return s.jsx(de,{className:"w-5 h-5"});default:return s.jsx(Qe,{className:"w-5 h-5"})}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-desi-gold"})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Orders"}),s.jsxs(J,{to:"/rate-products",className:"bg-desi-gold text-desi-brown px-6 py-3 rounded-lg hover:bg-yellow-500 transition transform hover:scale-105 flex items-center space-x-2 font-semibold",children:[s.jsx(Ye,{className:"w-5 h-5"}),s.jsx("span",{children:"Rate Your Products"})]})]}),t.length===0?s.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-md",children:[s.jsx(Qe,{className:"w-24 h-24 mx-auto text-gray-400 mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No orders yet"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Start shopping to see your orders here!"}),s.jsx(J,{to:"/products",className:"btn-primary",children:"Browse Products"})]}):s.jsx("div",{className:"space-y-6",children:t.map(R=>s.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[s.jsxs("div",{className:"bg-desi-cream px-6 py-4 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Order Number"}),s.jsx("p",{className:"font-bold text-desi-brown",children:R.orderNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),s.jsx("p",{className:"font-semibold",children:new Date(R.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"font-bold text-lg text-desi-brown",children:["",R.totalPrice.toFixed(2)]})]}),s.jsx("div",{children:s.jsxs("span",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full font-semibold ${O(R.status)}`,children:[te(R.status),s.jsx("span",{className:"capitalize",children:R.status})]})})]}),R.status==="delivered"&&s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-400 mx-6 p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-green-700",children:"Order Delivered Successfully!"}),s.jsx("p",{className:"text-xs text-green-600",children:"Rate your products after enjoying them to help other customers make informed choices!"})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"space-y-4 mb-6",children:R.items.map((L,V)=>{var N,I,$,B;const z=((N=L.product)==null?void 0:N._id)||L.product||((I=L.name)==null?void 0:I.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))||`product-${V}`;return s.jsxs(J,{to:`/product/${z}`,className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",children:[s.jsx("img",{src:L.image||"/placeholder-product.jpg",alt:L.name||"Product",className:"w-20 h-20 object-cover rounded-lg group-hover:scale-105 transition-transform",onError:Y=>{Y.target.src="/placeholder-product.jpg"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-desi-brown transition-colors",children:L.name||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",L.quantity||1,"  ",L.weight||"N/A"]}),s.jsx("p",{className:"text-xs text-desi-gold mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to view product "}),R.status==="delivered"&&s.jsxs("div",{className:"mt-2 flex space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs text-gray-600",children:_((($=L.product)==null?void 0:$._id)||L.product)?"Your rating:":"Quick rate:"}),[1,2,3,4,5].map(Y=>{var Q;const Ee=((Q=L.product)==null?void 0:Q._id)||L.product,ge=C(Ee),be=Y<=ge;return s.jsx("button",{onClick:we=>{we.preventDefault(),we.stopPropagation(),T(L,R._id,Y)},className:"hover:scale-110 transition-transform",title:`Rate ${Y} star${Y!==1?"s":""}`,children:s.jsx(Ye,{className:`w-4 h-4 transition-colors ${be?"text-desi-gold fill-current":"text-gray-300 hover:text-desi-gold hover:fill-current"}`})},Y)})]}),s.jsxs("button",{onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),A(L,R._id)},className:"text-xs bg-desi-gold text-desi-brown px-2 py-1 rounded hover:bg-yellow-500 transition",children:[" ",_(((B=L.product)==null?void 0:B._id)||L.product)?"Update Review":"Write Review"]})]})]}),s.jsxs("p",{className:"font-bold text-gray-900",children:["",((L.price||0)*(L.quantity||1)).toFixed(2)]})]},V)})}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(J,{to:`/order/${R._id}`,className:"btn-primary",children:"View Details"}),R.trackingNumber&&s.jsx("button",{className:"btn-secondary",children:"Track Order"})]})]})]},R._id))})]}),l&&o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_(((ae=o.product)==null?void 0:ae._id)||o.product||o._id)?"Update Your Review":"Write a Review"}),s.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ur,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("img",{src:o.image||"/placeholder-product.jpg",alt:o.name||"Product",className:"w-16 h-16 object-cover rounded-lg mx-auto mb-2"}),s.jsx("h4",{className:"text-center font-semibold text-gray-800",children:o.name||"Unknown Product"})]}),s.jsxs("form",{onSubmit:U,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Rating"}),s.jsx("div",{className:"flex justify-center space-x-1",children:[1,2,3,4,5].map(R=>s.jsx("button",{type:"button",onClick:()=>x(R),className:"focus:outline-none hover:scale-110 transition-transform",children:s.jsx(Ye,{className:`w-8 h-8 ${R<=u?"text-desi-gold fill-current":"text-gray-300"}`})},R))}),s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-1",children:[u," star",u!==1?"s":""]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),s.jsx("textarea",{value:j,onChange:R=>y(R.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"Share your experience with this product...",required:!0})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",disabled:b||!j.trim(),className:"flex-1 bg-desi-gold text-desi-brown py-2 px-4 rounded-lg hover:bg-yellow-500 transition disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Submitting...":_(((oe=o.product)==null?void 0:oe._id)||o.product||o._id)?"Update Review":"Submit Review"}),s.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Cancel"})]})]})]})})]})},zN=()=>{var oe;const{user:e,updateUser:t}=lt(),[r,n]=f.useState(!1),[a,l]=f.useState(!1),[i,o]=f.useState(!1),[c,d]=f.useState(null),[m,u]=f.useState({totalOrders:0,totalAddresses:0,wishlistCount:0,memberSince:null}),[x,j]=f.useState({name:"",email:"",phone:""}),[y,b]=f.useState({street:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),[w,p]=f.useState([]);f.useEffect(()=>{e&&(j({name:e.name||"",email:e.email||"",phone:e.phone||""}),g(),v())},[e]);const g=async()=>{try{const R=await wx();p(R||[])}catch{p([])}},v=async()=>{try{const R=await Jj();u(R)}catch{}},S=R=>{j({...x,[R.target.name]:R.target.value})},C=R=>{const{name:L,value:V,type:z,checked:N}=R.target;b({...y,[L]:z==="checkbox"?N:V})},_=async()=>{var R,L;n(!0);try{const{data:V}=await H.put("/api/auth/profile",x);t(V),l(!1),P.success("Profile updated successfully!")}catch(V){P.error(((L=(R=V.response)==null?void 0:R.data)==null?void 0:L.message)||"Failed to update profile")}finally{n(!1)}},A=async()=>{var R,L;if(!y.street||!y.city||!y.state||!y.pincode||!y.phone){P.error("Please fill all address fields");return}n(!0);try{const{data:V}=await qj(y);await g(),b({street:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),o(!1),P.success("Address added successfully!")}catch(V){P.error(((L=(R=V.response)==null?void 0:R.data)==null?void 0:L.message)||"Failed to add address")}finally{n(!1)}},U=async()=>{var R,L;if(!y.street||!y.city||!y.state||!y.pincode||!y.phone){P.error("Please fill all address fields");return}n(!0);try{const V=w[c]._id,{data:z}=await Wj(V,y);await g(),b({street:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),d(null),P.success("Address updated successfully!")}catch(V){P.error(((L=(R=V.response)==null?void 0:R.data)==null?void 0:L.message)||"Failed to update address")}finally{n(!1)}},T=async R=>{var L,V;if(w.length===1){P.error("You must have at least one address");return}n(!0);try{const z=w[R]._id;await Qj(z),await g(),P.success("Address deleted successfully!")}catch(z){P.error(((V=(L=z.response)==null?void 0:L.data)==null?void 0:V.message)||"Failed to delete address")}finally{n(!1)}},O=async R=>{var L,V;n(!0);try{const z=w.map((I,$)=>({...I,isDefault:$===R})),{data:N}=await H.put("/api/auth/profile",{...x,addresses:z});t(N),p(N.addresses),P.success("Default address updated!")}catch(z){P.error(((V=(L=z.response)==null?void 0:L.data)==null?void 0:V.message)||"Failed to update default address")}finally{n(!1)}},te=(R,L)=>{b({street:R.street,city:R.city,state:R.state,pincode:R.pincode,phone:R.phone||e.phone||"",isDefault:R.isDefault}),d(L),o(!0)},ae=()=>{b({street:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),o(!1),d(null)};return e?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-desi-cream via-white to-desi-cream",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-desi-brown via-amber-800 to-desi-gold rounded-3xl shadow-2xl p-8 mb-8 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-24 h-24 bg-white rounded-full"}),s.jsx("div",{className:"absolute top-1/2 right-1/4 w-16 h-16 bg-white rounded-full"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-6 mb-6 lg:mb-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-3xl border border-white/30",children:s.jsx(Ps,{className:"w-12 h-12 text-white"})}),s.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 w-6 h-6 rounded-full border-3 border-white flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("div",{className:"text-white",children:[s.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",(oe=e.name)==null?void 0:oe.split(" ")[0],"!"]}),s.jsxs("p",{className:"text-white/80 text-lg",children:["Member since ",m.memberSince?new Date(m.memberSince).toLocaleDateString("en-US",{month:"long",year:"numeric"}):new Date(e.createdAt||Date.now()).getFullYear()]}),s.jsx("div",{className:"flex items-center space-x-4 mt-3",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(sa,{className:"w-5 h-5 text-green-300"}),s.jsx("span",{className:"text-sm font-medium",children:"Verified Account"})]})})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[!a&&s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-300 transform hover:scale-105 border border-white/30",children:[s.jsx(ch,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Edit Profile"})]}),s.jsxs("button",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm text-white px-6 py-3 rounded-xl hover:bg-white/20 transition-all duration-300 border border-white/20",children:[s.jsx(wc,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Settings"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qe,{className:"w-8 h-8 text-white"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/80 text-sm",children:"Total Orders"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:m.totalOrders})]})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(is,{className:"w-8 h-8 text-white"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/80 text-sm",children:"Addresses"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:m.totalAddresses})]})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ye,{className:"w-8 h-8 text-white"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/80 text-sm",children:"Reviews"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:"0"})]})]})}),s.jsx(J,{to:"/wishlist",className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:scale-105 block",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(us,{className:"w-8 h-8 text-white"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/80 text-sm",children:"Wishlist"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:m.wishlistCount})]})]})})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-desi-gold to-yellow-600 p-3 rounded-2xl",children:s.jsx(Ps,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("p",{className:"text-gray-600",children:"Update your personal details and preferences"})]})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"group",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Full Name"}),a?s.jsx("input",{type:"text",name:"name",value:x.name,onChange:S,className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300",placeholder:"Enter your full name"}):s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl border border-gray-200 group-hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-desi-gold/10 p-2 rounded-xl",children:s.jsx(Ps,{className:"w-5 h-5 text-desi-gold"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:x.name})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),a?s.jsx("input",{type:"email",name:"email",value:x.email,onChange:S,className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300",placeholder:"Enter your email"}):s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl border border-gray-200 group-hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-blue-500/10 p-2 rounded-xl",children:s.jsx(gs,{className:"w-5 h-5 text-blue-500"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:x.email})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Phone Number"}),a?s.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:S,className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300",placeholder:"Enter your phone number"}):s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl border border-gray-200 group-hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-green-500/10 p-2 rounded-xl",children:s.jsx(es,{className:"w-5 h-5 text-green-500"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:x.phone})]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Account Security"}),s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl border border-gray-200 group-hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:"bg-red-500/10 p-2 rounded-xl",children:s.jsx(pl,{className:"w-5 h-5 text-red-500"})}),s.jsx("span",{className:"text-gray-900 font-medium",children:""}),s.jsx("button",{className:"text-desi-gold hover:text-yellow-600 text-sm font-medium ml-auto",children:"Change Password"})]})]})]}),a&&s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>{l(!1),j({name:e.name||"",email:e.email||"",phone:e.phone||""})},className:"flex items-center space-x-2 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 font-medium",children:[s.jsx(ur,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel"})]}),s.jsxs("button",{onClick:_,disabled:r,className:"flex items-center space-x-2 bg-gradient-to-r from-desi-gold to-yellow-600 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 font-semibold transform hover:scale-105",children:[s.jsx(In,{className:"w-4 h-4"}),s.jsx("span",{children:r?"Saving...":"Save Changes"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-desi-brown to-amber-800 p-3 rounded-2xl",children:s.jsx(is,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delivery Addresses"}),s.jsx("p",{className:"text-gray-600",children:"Manage your shipping locations for faster checkout"})]})]}),!i&&s.jsxs("button",{onClick:()=>{b({street:"",city:"",state:"",pincode:"",phone:e.phone||"",isDefault:!1}),o(!0)},className:"flex items-center space-x-2 bg-gradient-to-r from-desi-brown to-amber-800 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-300 transform hover:scale-105 font-semibold",children:[s.jsx(ta,{className:"w-5 h-5"}),s.jsx("span",{children:"Add New Address"})]})]}),i&&s.jsxs("div",{className:"mb-8 p-8 bg-gradient-to-br from-desi-cream/30 to-desi-cream/10 rounded-3xl border-2 border-desi-cream/50 backdrop-blur-sm",children:[s.jsxs("h3",{className:"text-xl font-bold text-desi-brown mb-6 flex items-center space-x-2",children:[s.jsx(is,{className:"w-6 h-6"}),s.jsx("span",{children:c!==null?"Edit Address":"Add New Address"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Complete Street Address"}),s.jsx("input",{type:"text",name:"street",value:y.street,onChange:C,className:"w-full px-4 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"House/Flat No., Building Name, Street Name, Landmark"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"City"}),s.jsx("input",{type:"text",name:"city",value:y.city,onChange:C,className:"w-full px-4 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"Enter city name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"State"}),s.jsx("input",{type:"text",name:"state",value:y.state,onChange:C,className:"w-full px-4 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"Enter state name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"PIN Code"}),s.jsx("input",{type:"text",name:"pincode",value:y.pincode,onChange:C,className:"w-full px-4 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"6-digit PIN code",maxLength:"6"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:C,className:"w-full px-4 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-desi-gold focus:border-transparent transition-all duration-300 shadow-sm",placeholder:"Enter phone number for this address",maxLength:"15"})]}),s.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm p-4 rounded-2xl border border-gray-200",children:[s.jsx("input",{type:"checkbox",name:"isDefault",id:"isDefault",checked:y.isDefault,onChange:C,className:"w-5 h-5 text-desi-gold border-2 border-gray-300 rounded-lg focus:ring-desi-gold focus:ring-2"}),s.jsxs("label",{htmlFor:"isDefault",className:"ml-3 text-sm font-medium text-gray-700 flex items-center space-x-2",children:[s.jsx("span",{children:"Set as primary delivery address"}),s.jsx(Ye,{className:"w-4 h-4 text-desi-gold"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[s.jsxs("button",{onClick:ae,className:"flex items-center space-x-2 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-300 font-medium",children:[s.jsx(ur,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel"})]}),s.jsxs("button",{onClick:c!==null?U:A,disabled:r,className:"flex items-center space-x-2 bg-gradient-to-r from-desi-brown to-amber-800 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 font-semibold transform hover:scale-105",children:[s.jsx(In,{className:"w-4 h-4"}),s.jsx("span",{children:r?"Saving...":(c!==null?"Update":"Save")+" Address"})]})]})]}),s.jsx("div",{className:"space-y-6",children:w.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-8 w-32 h-32 flex items-center justify-center mx-auto mb-6",children:s.jsx(is,{className:"w-16 h-16 text-gray-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No delivery addresses yet"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Add your first shipping address to enjoy faster checkout and seamless delivery experience."}),s.jsx("button",{onClick:()=>{b({street:"",city:"",state:"",pincode:"",phone:e.phone||"",isDefault:!1}),o(!0)},className:"bg-gradient-to-r from-desi-brown to-amber-800 text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all duration-300 transform hover:scale-105 font-semibold",children:"Add Your First Address"})]}):w.map((R,L)=>s.jsx("div",{className:`group p-8 rounded-3xl border-2 transition-all duration-300 transform hover:scale-102 ${R.isDefault?"border-desi-gold bg-gradient-to-br from-desi-cream/40 to-yellow-50 shadow-lg":"border-gray-200 bg-white hover:border-desi-cream hover:shadow-xl"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:`p-2 rounded-xl ${R.isDefault?"bg-desi-gold/20":"bg-gray-100"}`,children:s.jsx(is,{className:`w-5 h-5 ${R.isDefault?"text-desi-gold":"text-gray-600"}`})}),R.isDefault&&s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"bg-gradient-to-r from-desi-gold to-yellow-600 text-white text-xs px-3 py-1 rounded-full font-semibold flex items-center space-x-1",children:[s.jsx(Ye,{className:"w-3 h-3"}),s.jsx("span",{children:"Primary Address"})]})})]}),s.jsx("p",{className:"text-gray-900 font-semibold text-lg mb-2",children:R.street}),s.jsxs("p",{className:"text-gray-600 font-medium mb-1",children:[R.city,", ",R.state," - ",s.jsx("span",{className:"font-bold",children:R.pincode})]}),R.phone&&s.jsxs("p",{className:"text-gray-600 font-medium flex items-center space-x-2",children:[s.jsx(es,{className:"w-4 h-4"}),s.jsx("span",{children:R.phone})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[!R.isDefault&&s.jsx("button",{onClick:()=>O(L),disabled:r,className:"flex items-center space-x-1 bg-desi-gold/10 text-desi-gold px-3 py-2 rounded-xl hover:bg-desi-gold hover:text-white transition-all duration-300 text-sm font-medium",title:"Set as primary address",children:s.jsx(Ye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>te(R,L),className:"flex items-center space-x-1 bg-blue-500/10 text-blue-600 px-3 py-2 rounded-xl hover:bg-blue-500 hover:text-white transition-all duration-300 text-sm font-medium",title:"Edit address",children:s.jsx(ch,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(L),disabled:r||w.length===1,className:"flex items-center space-x-1 bg-red-500/10 text-red-600 px-3 py-2 rounded-xl hover:bg-red-500 hover:text-white transition-all duration-300 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",title:w.length===1?"Cannot delete the only address":"Delete address",children:s.jsx(ra,{className:"w-4 h-4"})})]})]})},R._id||L))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 border border-gray-100",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{className:"w-full flex items-center space-x-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-2xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 group",children:[s.jsx(Qe,{className:"w-6 h-6 text-blue-600 group-hover:scale-110 transition-transform duration-300"}),s.jsx("span",{className:"font-medium text-blue-900",children:"View Order History"})]}),s.jsxs(J,{to:"/wishlist",className:"w-full flex items-center space-x-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-2xl hover:from-green-100 hover:to-green-200 transition-all duration-300 group",children:[s.jsx(us,{className:"w-6 h-6 text-green-600 group-hover:scale-110 transition-transform duration-300"}),s.jsxs("span",{className:"font-medium text-green-900",children:["My Wishlist (",m.wishlistCount,")"]})]}),s.jsxs(J,{to:"/rate-products",className:"w-full flex items-center space-x-3 p-4 bg-gradient-to-r from-orange-50 to-yellow-100 rounded-2xl hover:from-orange-100 hover:to-yellow-200 transition-all duration-300 group",children:[s.jsx(Ye,{className:"w-6 h-6 text-orange-600 group-hover:scale-110 transition-transform duration-300"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-orange-900",children:"Rate Your Products"}),s.jsx("div",{className:"text-xs text-orange-700",children:"Share your experience after consumption"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-3xl p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ps,{className:"w-6 h-6 text-gray-600"}),s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Account Summary"})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Thank you for being a valued customer! Enjoy our premium quality dry fruits."}),s.jsx("div",{className:"bg-white/80 rounded-2xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Member Since"}),s.jsx("span",{className:"font-semibold text-gray-800",children:m.memberSince?new Date(m.memberSince).toLocaleDateString("en-US",{month:"long",year:"numeric"}):new Date(e.createdAt||Date.now()).getFullYear()})]})})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-desi-cream via-white to-desi-cream flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white p-12 rounded-3xl shadow-2xl border border-desi-cream/50",children:[s.jsx("div",{className:"bg-desi-gold/10 p-6 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:s.jsx(Ps,{className:"w-10 h-10 text-desi-gold"})}),s.jsx("h2",{className:"text-3xl font-bold text-desi-brown mb-4",children:"Access Required"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Please login to view and manage your profile."}),s.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-desi-gold text-white px-8 py-3 rounded-xl hover:bg-yellow-600 transition-all duration-300 transform hover:scale-105 font-semibold",children:"Go to Login"})]})})},UN=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pa,{title:"About VillageCrunch - Premium Dry Fruits & Authentic Bihar Snacks",description:"Learn about VillageCrunch's journey to bring authentic Bihari dry fruits, makhana, and thekua to your doorstep. Quality, tradition, and customer satisfaction since inception.",keywords:"VillageCrunch story, Bihar dry fruits company, authentic Indian snacks, premium quality makhana, traditional thekua makers",url:"/about",breadcrumbs:[{name:"Home",url:"/"},{name:"About Us",url:"/about"}]}),s.jsx("div",{className:"bg-gradient-to-r from-desi-brown to-desi-gold text-white py-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About VillageCrunch"}),s.jsx("p",{className:"text-xl max-w-3xl mx-auto opacity-90",children:"Bringing the authentic taste of Bihar to your doorstep with premium quality dry fruits, makhana, and traditional thekua."})]})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold text-desi-brown mb-6",children:"Our Story"}),s.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Founded in the heart of Bihar, VillageCrunch was born from a passion to share the rich culinary heritage of our region with the world. What started as a small family business has grown into a trusted name for premium quality dry fruits and traditional snacks."}),s.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"We work directly with local farmers and producers to bring you the finest quality products. Each item is carefully selected, tested, and packaged to ensure you receive only the best."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our commitment to quality, authenticity, and customer satisfaction has made us the preferred choice for thousands of families across India."})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=600&h=600&fit=crop",alt:"Our Story",className:"rounded-2xl shadow-2xl"})})]})})}),s.jsx("section",{className:"py-20 bg-desi-cream",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"text-4xl font-bold text-desi-brown mb-12 text-center",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md text-center",children:[s.jsx("div",{className:"bg-desi-gold p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:s.jsx(yc,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Quality First"}),s.jsx("p",{className:"text-gray-600",children:"We never compromise on quality. Every product is carefully tested and certified."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md text-center",children:[s.jsx("div",{className:"bg-desi-gold p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:s.jsx(cN,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"100% Natural"}),s.jsx("p",{className:"text-gray-600",children:"All our products are completely natural with no artificial additives."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md text-center",children:[s.jsx("div",{className:"bg-desi-gold p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:s.jsx(us,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Made with Love"}),s.jsx("p",{className:"text-gray-600",children:"Each product is prepared with care and traditional methods passed down generations."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md text-center",children:[s.jsx("div",{className:"bg-desi-gold p-4 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:s.jsx(vN,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Customer First"}),s.jsx("p",{className:"text-gray-600",children:"Your satisfaction is our priority. We're here to serve you better every day."})]})]})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"text-4xl font-bold text-desi-brown mb-12 text-center",children:"Why Choose Us?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Direct from Source"}),s.jsx("p",{className:"text-gray-600",children:"We work directly with farmers and local producers, ensuring freshness and fair prices."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Quality Tested"}),s.jsx("p",{className:"text-gray-600",children:"Every batch undergoes rigorous quality checks before reaching you."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Hygienic Packaging"}),s.jsx("p",{className:"text-gray-600",children:"Food-grade packaging that keeps products fresh and maintains their nutritional value."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Fast Delivery"}),s.jsx("p",{className:"text-gray-600",children:"Quick and reliable delivery to ensure products reach you fresh."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Best Prices"}),s.jsx("p",{className:"text-gray-600",children:"Premium quality at competitive prices - value for your money guaranteed."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-desi-brown",children:"Trusted by Thousands"}),s.jsx("p",{className:"text-gray-600",children:"Join our family of satisfied customers who trust us for their daily needs."})]})]})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-desi-brown to-desi-gold text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Experience the Difference"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of happy customers who trust VillageCrunch for quality and authenticity"}),s.jsx("a",{href:"/products",className:"inline-block bg-white text-desi-brown font-bold px-8 py-4 rounded-lg hover:bg-gray-100 transition text-lg",children:"Start Shopping"})]})})]}),BN=()=>{const{user:e}=f.useContext(Ed),[t,r]=f.useState(!1),[n,a]=f.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",subject:"",message:""}),l=o=>{a({...n,[o.target.name]:o.target.value})},i=async o=>{o.preventDefault(),r(!0);try{if((await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)$e.success("Message sent successfully! We'll get back to you soon."),a(e?{...n,subject:"",message:""}:{name:"",email:"",phone:"",subject:"",message:""});else throw new Error("Failed to send message")}catch(c){console.error("Error sending message:",c),$e.error("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[s.jsx(pa,{title:"Contact VillageCrunch - Get in Touch for Premium Dry Fruits & Support",description:"Contact VillageCrunch for any queries about our premium dry fruits, makhana, and traditional snacks. Get support, ask questions, or share feedback. We're here to help!",keywords:"contact VillageCrunch, customer support, dry fruits help, makhana queries, product questions, customer service",url:"/contact",breadcrumbs:[{name:"Home",url:"/"},{name:"Contact Us",url:"/contact"}]}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-desi-brown mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-gray-600",children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-desi-brown mb-6",children:"Get In Touch"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-lg",children:s.jsx(es,{className:"w-6 h-6 text-desi-brown"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Call Us"}),s.jsx("p",{className:"text-gray-600",children:"+91 98765 43210"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Sat, 9 AM - 8 PM"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-lg",children:s.jsx(gs,{className:"w-6 h-6 text-desi-brown"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email Support"}),s.jsx("p",{className:"text-gray-600",children:"villagecrunchcontact@gmail.com"}),s.jsx("p",{className:"text-sm text-gray-500",children:"We respond within 24 hours"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-desi-brown mb-4",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("details",{className:"bg-white p-4 rounded-lg border",children:[s.jsx("summary",{className:"font-medium cursor-pointer",children:"How long does shipping take?"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Standard delivery: 3-5 business days. Express delivery: 1-2 business days."})]}),s.jsxs("details",{className:"bg-white p-4 rounded-lg border",children:[s.jsx("summary",{className:"font-medium cursor-pointer",children:"What's your return policy?"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"30-day hassle-free returns for unopened products with full refund."})]}),s.jsxs("details",{className:"bg-white p-4 rounded-lg border",children:[s.jsx("summary",{className:"font-medium cursor-pointer",children:"Do you offer bulk discounts?"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Yes! Special pricing for bulk orders above 5000. Contact us for quotes."})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-desi-brown mb-6",children:"Send us a Message"}),e&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-green-700",children:["Hello ",e.name,"! We've pre-filled your details."]})}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-desi-gold",placeholder:"Enter your name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-desi-gold",placeholder:"your.email@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-desi-gold",placeholder:"Your contact number (optional)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsxs("select",{name:"subject",value:n.subject,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-desi-gold",children:[s.jsx("option",{value:"",children:"Select a topic"}),s.jsx("option",{value:"General Inquiry",children:"General Question"}),s.jsx("option",{value:"Order Issue",children:"Order Issue"}),s.jsx("option",{value:"Product Question",children:"Product Question"}),s.jsx("option",{value:"Payment Issue",children:"Payment Issue"}),s.jsx("option",{value:"Shipping Query",children:"Shipping Query"}),s.jsx("option",{value:"Return/Refund",children:"Return/Refund"}),s.jsx("option",{value:"Bulk Order",children:"Bulk Order Inquiry"}),s.jsx("option",{value:"Feedback",children:"Feedback & Suggestions"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Message *"}),s.jsx("textarea",{name:"message",value:n.message,onChange:l,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-desi-gold resize-none",placeholder:"Please describe your question or concern in detail..."})]}),s.jsx("button",{type:"submit",disabled:t,className:"w-full bg-desi-gold text-desi-brown py-3 px-6 rounded-lg font-semibold hover:bg-amber-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-desi-brown"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Rd,{className:"w-5 h-5"}),s.jsx("span",{children:"Send Message"})]})}),s.jsx("p",{className:"text-center text-sm text-gray-500",children:"Your information is safe with us. We respect your privacy."})]})]})]})]})]})},HN=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-desi-brown mb-4",children:"Shipping Policy"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Fast, secure, and reliable delivery across India"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-full w-fit mx-auto mb-4",children:s.jsx(Jr,{className:"w-6 h-6 text-desi-brown"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Fast Delivery"}),s.jsx("p",{className:"text-gray-600",children:"2-5 business days across India"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-full w-fit mx-auto mb-4",children:s.jsx(sa,{className:"w-6 h-6 text-desi-brown"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Secure Packaging"}),s.jsx("p",{className:"text-gray-600",children:"Premium protection for freshness"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-full w-fit mx-auto mb-4",children:s.jsx(Qe,{className:"w-6 h-6 text-desi-brown"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Free Shipping"}),s.jsx("p",{className:"text-gray-600",children:"On orders above 999"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(zr,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delivery Timeframes"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"border-l-4 border-desi-gold pl-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Express Delivery"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Metro cities: 1-2 business days"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Tier 1 cities: 2-3 business days"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Other locations: 3-5 business days"]})]})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Standard Delivery"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"FREE on orders 999+"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"All India coverage"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"3-7 business days"]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Qe,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Shipping Charges"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-gray-200",children:[s.jsx("th",{className:"py-3 px-4 text-gray-900 font-semibold",children:"Order Value"}),s.jsx("th",{className:"py-3 px-4 text-gray-900 font-semibold",children:"Shipping Charge"}),s.jsx("th",{className:"py-3 px-4 text-gray-900 font-semibold",children:"Delivery Time"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"Above 999"}),s.jsx("td",{className:"py-3 px-4 text-green-600 font-semibold",children:"FREE"}),s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"3-7 business days"})]}),s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"500 - 999"}),s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"50"}),s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"3-7 business days"})]}),s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"Below 500"}),s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"80"}),s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"3-7 business days"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"Express Delivery"}),s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"100 (additional)"}),s.jsx("td",{className:"py-3 px-4 text-gray-600",children:"1-3 business days"})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(sa,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Packaging & Protection"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Premium Protection"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Food-grade vacuum sealing"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Moisture-proof packaging"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Temperature-controlled handling"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Tamper-evident seals"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Eco-Friendly Approach"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"100% recyclable materials"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Biodegradable cushioning"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Reusable containers available"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2"}),"Minimal plastic usage"]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(is,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delivery Coverage"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("div",{className:"text-3xl font-bold text-desi-brown mb-2",children:"650+"}),s.jsx("div",{className:"text-gray-600",children:"Cities & Towns"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("div",{className:"text-3xl font-bold text-desi-brown mb-2",children:"28"}),s.jsx("div",{className:"text-gray-600",children:"States Covered"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("div",{className:"text-3xl font-bold text-desi-brown mb-2",children:"99.9%"}),s.jsx("div",{className:"text-gray-600",children:"On-Time Delivery"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"We deliver to:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-gray-600",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Metro Cities:"}),s.jsx("p",{className:"text-sm",children:"Delhi, Mumbai, Bangalore, Chennai, Kolkata, Hyderabad, Pune, Ahmedabad"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Tier 1 & 2 Cities:"}),s.jsx("p",{className:"text-sm",children:"All major cities and towns across India with reliable courier services"})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-amber-800 mb-3",children:"Important Notes"}),s.jsxs("ul",{className:"space-y-2 text-amber-700",children:[s.jsx("li",{children:" Delivery times are estimates and may vary due to weather conditions or unforeseen circumstances"}),s.jsx("li",{children:" Orders placed before 2 PM are processed the same day (Monday-Saturday)"}),s.jsx("li",{children:" We do not deliver on Sundays and public holidays"}),s.jsx("li",{children:" Remote locations may require additional 1-2 days for delivery"}),s.jsx("li",{children:" You will receive tracking information via SMS and email once your order is dispatched"})]})]}),s.jsxs("div",{className:"bg-desi-brown rounded-lg p-8 text-white text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Need Shipping Help?"}),s.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Our customer service team is here to help with all your shipping questions."}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 bg-white/10 rounded-lg p-4",children:[s.jsx(es,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Call Us"}),s.jsx("div",{className:"text-sm opacity-90",children:"+91 98765 43210"})]})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 bg-white/10 rounded-lg p-4",children:[s.jsx(gs,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Email Us"}),s.jsx("div",{className:"text-sm opacity-90",children:"villagecrunchcontact@gmail.com"})]})]})]})]})]})}),VN=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-desi-brown mb-4",children:"Returns & Refunds Policy"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Your satisfaction is our priority. Easy returns, full refunds."})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-full w-fit mx-auto mb-4",children:s.jsx(zr,{className:"w-6 h-6 text-desi-brown"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"7-Day Return Window"}),s.jsx("p",{className:"text-gray-600",children:"Return products within 7 days of delivery"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-full w-fit mx-auto mb-4",children:s.jsx(dh,{className:"w-6 h-6 text-desi-brown"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"100% Refund"}),s.jsx("p",{className:"text-gray-600",children:"Full money back for eligible returns"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[s.jsx("div",{className:"bg-desi-gold p-3 rounded-full w-fit mx-auto mb-4",children:s.jsx(sa,{className:"w-6 h-6 text-desi-brown"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quality Guarantee"}),s.jsx("p",{className:"text-gray-600",children:"We stand behind product quality"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Qe,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How to Return Items"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-desi-gold text-desi-brown w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-4 text-lg font-bold",children:"1"}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Call or email us with your order number and reason for return"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-desi-gold text-desi-brown w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-4 text-lg font-bold",children:"2"}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Pack Items"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Pack items in original packaging and schedule pickup"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-desi-gold text-desi-brown w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-4 text-lg font-bold",children:"3"}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Get Refund"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Receive full refund within 5-7 business days after we receive items"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(de,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Return Eligibility"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-700 mb-4 flex items-center",children:[s.jsx(de,{className:"w-5 h-5 mr-2 text-green-500"}),"Returnable Items"]}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Products damaged during shipping"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Wrong items delivered"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Quality defects or spoiled products"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Missing items from your order"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(de,{className:"w-4 h-4 text-green-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Unopened products in original packaging"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-700 mb-4 flex items-center",children:[s.jsx(rt,{className:"w-5 h-5 mr-2 text-red-500"}),"Non-Returnable Items"]}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(rt,{className:"w-4 h-4 text-red-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Products consumed or opened"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(rt,{className:"w-4 h-4 text-red-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Items returned after 7 days"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(rt,{className:"w-4 h-4 text-red-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Products without original packaging"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(rt,{className:"w-4 h-4 text-red-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Custom or personalized items"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(rt,{className:"w-4 h-4 text-red-500 mr-2 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Products damaged due to misuse"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(dh,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Refund Process"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-desi-gold pl-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Refund Timeline"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsx("li",{children:" Processing: 1-2 business days after we receive returned items"}),s.jsx("li",{children:" Credit/Debit Card: 5-7 business days"}),s.jsx("li",{children:" UPI/Digital Wallet: 2-3 business days"}),s.jsx("li",{children:" Net Banking: 3-5 business days"})]})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Refund Method"}),s.jsx("p",{className:"text-gray-600",children:"Refunds will be processed to the original payment method used for the purchase. For Cash on Delivery orders, we will process a bank transfer to your provided account details."})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Qe,{className:"w-6 h-6 text-desi-gold mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Exchange Policy"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"We offer exchanges for wrong items delivered or damaged products. Exchanges are subject to product availability."}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Exchange Process:"}),s.jsxs("ul",{className:"text-blue-700 space-y-1",children:[s.jsx("li",{children:" Contact our customer service within 7 days"}),s.jsx("li",{children:" Return the original product"}),s.jsx("li",{children:" New product will be shipped once we receive the returned item"}),s.jsx("li",{children:" No additional shipping charges for exchanges due to our error"})]})]})]})]}),s.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 rounded-lg p-6 mb-8",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(rN,{className:"w-6 h-6 text-amber-600 mr-3 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-amber-800 mb-3",children:"Important Notes"}),s.jsxs("ul",{className:"space-y-2 text-amber-700",children:[s.jsx("li",{children:" Return shipping charges will be borne by us for damaged/wrong items"}),s.jsx("li",{children:" For other returns, shipping charges may apply"}),s.jsx("li",{children:" Please inspect products immediately upon delivery"}),s.jsx("li",{children:" Take photos of damaged items before initiating return"}),s.jsx("li",{children:" Keep the invoice/bill for return processing"}),s.jsx("li",{children:" Refund amount excludes original shipping charges (if any)"})]})]})]})}),s.jsxs("div",{className:"bg-desi-brown rounded-lg p-8 text-white text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Need Help with Returns?"}),s.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Our customer service team is ready to assist you with any return or refund questions."}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 bg-white/10 rounded-lg p-4",children:[s.jsx(es,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Call Us"}),s.jsx("div",{className:"text-sm opacity-90",children:"+91 98765 43210"})]})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 bg-white/10 rounded-lg p-4",children:[s.jsx(gs,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold",children:"Email Us"}),s.jsx("div",{className:"text-sm opacity-90",children:"villagecrunchcontact@gmail.com"})]})]})]}),s.jsx("div",{className:"mt-6 text-sm opacity-75",children:s.jsx("p",{children:"Customer Service Hours: Monday - Saturday, 9 AM - 7 PM"})})]})]})}),yr="https://clownfish-app-wiznq.ondigitalocean.app/api",qN=()=>{var Vd,qd,Wd,Qd,Kd,Yd,Jd,Gd,Xd,Zd,eu,tu,su,ru,nu,au,lu,iu,ou,cu,du,uu,mu,hu,pu,fu,xu,gu,yu;const e=h=>h&&(h.startsWith("http://")||h.startsWith("https://")),t=h=>h?e(h)?h:`http://localhost:5173${h}`:"",r=h=>h?e(h)?h.includes("localhost:5173/Product_Images/")?h.replace("http://localhost:5173",""):h:h.startsWith("/")?h:`/${h}`:"",n=(h,k)=>{if(!h||!k)return"";const M=parseFloat(h),W=parseFloat(k);return M<=0||W<=0?"":Math.round(M*(1-W/100))},a=(h,k)=>{if(!h||!k)return"";const M=parseFloat(h),W=parseFloat(k);return M<=0||W<=0||W>=M?"":Math.round((M-W)/M*100)},[l,i]=f.useState("orders"),[o,c]=f.useState([]),[d,m]=f.useState([]),[u,x]=f.useState([]),[j,y]=f.useState([]),[b,w]=f.useState(null),[p,g]=f.useState(!0),[v,S]=f.useState(!1),[C,_]=f.useState(!1),[A,U]=f.useState(null),[T,O]=f.useState(null),[te,ae]=f.useState(null),[oe,R]=f.useState(!1),[L,V]=f.useState(!1),[z,N]=f.useState(!1),[I,$]=f.useState(!1),[B,Y]=f.useState(!1),[Ee,ge]=f.useState(!1),[be,Q]=f.useState(""),[we,Fe]=f.useState("all"),[me,Z]=f.useState("all"),[Le,ts]=f.useState("all"),[kt,F]=f.useState(!1),[se,le]=f.useState(!1),[ye,Re]=f.useState(!1),[ee,pe]=f.useState(null),[Te,De]=f.useState(null),[Me,fa]=f.useState(""),[fr,nn]=f.useState(""),[ss,xa]=f.useState(""),[He,Ot]=f.useState(null),[Rx,Od]=f.useState(!1),[vi,Ox]=f.useState(""),[bs,_d]=f.useState([]),[_x,ga]=f.useState(!1),[bi,ya]=f.useState(""),[an,va]=f.useState(!1),[wi,$d]=f.useState("url"),[ji,ln]=f.useState(""),Id=f.useRef(null),Fd=f.useRef(null),[re,ze]=f.useState({name:"",description:"",price:"",originalPrice:"",discount:"",category:"",stock:"",weight:"",image:"",images:[],isActive:!0}),[G,We]=f.useState({code:"",description:"",discountType:"percentage",discountValue:"",applicationType:"all",applicableProducts:[],applicableCategories:[],minOrderValue:"",maxDiscountAmount:"",usageLimit:"",userUsageLimit:"",isActive:!0,validFrom:"",validUntil:""}),[Vt,qt]=f.useState({pricing:{currency:"INR",currencySymbol:"",taxRate:18,shippingCharges:{standard:{rate:50,freeShippingThreshold:500,freeShippingEnabled:!0},express:{rate:100,freeShippingThreshold:1e3},overnight:{rate:200,freeShippingThreshold:2e3}},codCharges:25},business:{companyName:"Premium Dry Fruits Store",email:"villagecrunchcontact@gmail.com",phone:"+91 9876543210",address:"123 Business District, Delhi, India",gstNumber:"07AAACH7409R1Z5"},notifications:{orderConfirmation:!0,statusUpdates:!0,promotions:!0,lowStock:!0}}),ba={pending:{icon:zr,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",label:"Pending"},confirmed:{icon:de,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",label:"Confirmed"},processing:{icon:Qe,color:"text-indigo-600",bgColor:"bg-indigo-50",borderColor:"border-indigo-200",label:"Processing"},shipped:{icon:Jr,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",label:"Shipped"},delivered:{icon:de,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",label:"Delivered"},cancelled:{icon:rt,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",label:"Cancelled"}},Ni={pending:{color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",label:"Pending"},"in-progress":{color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",label:"In Progress"},resolved:{color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",label:"Resolved"}};f.useEffect(()=>{Ld()},[]),f.useEffect(()=>{l==="contacts"&&Dd()},[l]),f.useEffect(()=>{(l==="products"||l==="promocodes")&&wa()},[l]),f.useEffect(()=>{l==="promocodes"&&ki()},[l]),f.useEffect(()=>{l==="settings"&&Md()},[l]);const Ld=async()=>{try{g(!0);const h=localStorage.getItem("token");if(!h){P.error("Please login first"),window.location.href="/login";return}const{data:k}=await H.get(`${yr}/orders`,{headers:{Authorization:`Bearer ${h}`}});c(k)}catch(h){console.error("Error fetching orders:",h),P.error("Failed to load orders")}finally{g(!1)}},Dd=async()=>{try{S(!0);const h=await Aj();m(h.data||[])}catch(h){console.error("Error fetching contacts:",h),P.error("Failed to load contacts")}finally{S(!1)}},wa=async()=>{try{_(!0);const h=await bx(),k=h.products||h||[];x(k);const M=[...new Set(k.map(W=>W.category).filter(Boolean))];_d(M.sort())}catch(h){console.error("Failed to fetch products:",h),P.error("Failed to fetch products")}finally{_(!1)}},ki=async()=>{try{Od(!0);const h=await Oj();y(h.promocodes||h||[])}catch(h){console.error("Failed to fetch promocodes:",h),P.error("Failed to fetch promocodes")}finally{Od(!1)}},Md=async()=>{try{const h=await Td();if(w(h.settings||h||{}),h.settings||h){const k=h.settings||h;qt(M=>{var W,he,fe;return{...M,pricing:{...M.pricing,...k.pricing||{},shippingCharges:{...M.pricing.shippingCharges,...((W=k.pricing)==null?void 0:W.shippingCharges)||{},standard:{...M.pricing.shippingCharges.standard,...((fe=(he=k.pricing)==null?void 0:he.shippingCharges)==null?void 0:fe.standard)||{}}}},business:{...M.business,...k.business||{}},notifications:{...M.notifications,...k.notifications||{}}}})}}catch(h){console.error("Failed to fetch settings:",h),P.error("Failed to fetch settings")}},$x=async h=>{var he,fe;const k=h.target.files[0];if(!k)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(k.type)){P.error("Please upload a valid image file (JPEG, PNG, WebP)");return}const W=5*1024*1024;if(k.size>W){P.error("Image size should be less than 5MB");return}try{va(!0);const Oe=new FormData;Oe.append("image",k);const _t=localStorage.getItem("token"),Sa=(await H.post(`${yr}/products/upload-image`,Oe,{headers:{Authorization:`Bearer ${_t}`,"Content-Type":"multipart/form-data"}})).data.imageUrl;ze(dn=>({...dn,image:Sa})),P.success("Image uploaded successfully!")}catch(Oe){console.error("Error uploading image:",Oe),P.error(((fe=(he=Oe.response)==null?void 0:he.data)==null?void 0:fe.message)||"Failed to upload image")}finally{va(!1)}},Ix=h=>{const k=h.target.value;k==="__ADD_CUSTOM__"?(ga(!0),ya("")):(ga(!1),ze(M=>({...M,category:k})))},Fx=()=>{if(bi.trim()){const h=bi.trim();ze(k=>({...k,category:h})),bs.includes(h)||_d(k=>[...k,h].sort()),ga(!1),ya(""),P.success(`Category "${h}" added!`)}},Lx=async h=>{var k,M,W,he;if(h.preventDefault(),console.log(" Promocode form validation:",{applicationType:G.applicationType,applicableProducts:G.applicableProducts,applicableCategories:G.applicableCategories,productsLength:G.applicableProducts.length,categoriesLength:G.applicableCategories.length}),G.applicationType==="product"&&G.applicableProducts.length===0){P.error("Please select at least one product for this promocode");return}if(G.applicationType==="category"&&G.applicableCategories.length===0){P.error("Please select at least one category for this promocode");return}try{const fe={code:G.code,name:G.code,description:G.description,type:G.discountType,value:Number(G.discountValue),applicableOn:G.applicationType,categories:G.applicableCategories||[],products:G.applicableProducts||[],minOrderValue:G.minOrderValue?Number(G.minOrderValue):0,maxDiscount:G.maxDiscountAmount?Number(G.maxDiscountAmount):null,usageLimit:G.usageLimit?Number(G.usageLimit):null,userUsageLimit:G.userUsageLimit?Number(G.userUsageLimit):null,isActive:G.isActive,startDate:G.validFrom?new Date(G.validFrom+"T00:00:00.000Z"):new Date,endDate:G.validUntil?new Date(G.validUntil+"T23:59:59.999Z"):null};if(console.log("Creating promocode with data:",fe),console.log("User token exists:",!!localStorage.getItem("token")),He)await $j(He._id,fe),P.success("Promocode updated successfully!");else{const Oe=await _j(fe);console.log("Promocode creation result:",Oe),P.success("Promocode created successfully!")}ki(),Y(!1),Ot(null),ja()}catch(fe){console.error("Full error object:",fe),console.error("Error response:",fe.response),console.error("Error message:",fe.message),console.error("Error status:",(k=fe.response)==null?void 0:k.status),console.error("Error data:",(M=fe.response)==null?void 0:M.data),P.error(((he=(W=fe.response)==null?void 0:W.data)==null?void 0:he.message)||"Failed to save promocode")}},Dx=async h=>{if(window.confirm("Are you sure you want to delete this promocode?"))try{await Ij(h),P.success("Promocode deleted successfully!"),ki()}catch(k){console.error("Error deleting promocode:",k),P.error("Failed to delete promocode")}},ja=()=>{We({code:"",description:"",discountType:"percentage",discountValue:"",applicationType:"all",applicableProducts:[],applicableCategories:[],minOrderValue:"",maxDiscountAmount:"",usageLimit:"",userUsageLimit:"",isActive:!0,validFrom:"",validUntil:""})},Mx=async h=>{h.preventDefault();try{await Lj(Vt),P.success("Settings updated successfully!"),ge(!1),Md()}catch(k){console.error("Error saving settings:",k),P.error("Failed to save settings")}},zx=async(h,k,M="")=>{try{F(!0),await H.put(`${yr}/orders/${h}/status`,{status:k,trackingNumber:M},{withCredentials:!0}),P.success(`Order updated to ${ba[k].label}`),Ld(),R(!1)}catch(W){console.error("Error updating order:",W),P.error("Failed to update order")}finally{F(!1)}},Ux=async(h,k)=>{try{F(!0),await Rj(h,k),P.success(`Contact updated to ${Ni[k].label}`),Dd(),V(!1)}catch(M){console.error("Error updating contact:",M),P.error("Failed to update contact")}finally{F(!1)}},zd=()=>{ze({name:"",description:"",price:"",originalPrice:"",discount:"",category:"",stock:"",weight:"",image:"",images:[],isActive:!0}),pe(null),ln("")},Bx=async h=>{const k=Array.from(h.target.files);if(k.length!==0)try{va(!0);const M=await Vj(k);ze(W=>({...W,images:[...W.images,...M.imageUrls]})),P.success(`${k.length} images uploaded successfully!`)}catch(M){console.error("Error uploading images:",M),P.error("Failed to upload images")}finally{va(!1)}},Hx=h=>{ze(k=>({...k,images:k.images.filter((M,W)=>W!==h)}))},Vx=h=>{h.trim()&&ze(k=>({...k,images:[...k.images,h.trim()]}))},qx=async h=>{h.preventDefault(),ee?await Qx():await Wx()},Wx=async()=>{var h,k,M,W,he;try{le(!0);const fe=localStorage.getItem("token"),Oe={...re,price:Number(re.price),originalPrice:Number(re.originalPrice),stock:Number(re.stock),image:r(re.image),images:re.images.map(cn=>r(cn)),nutritionalInfo:{calories:Number((h=re.nutritionalInfo)==null?void 0:h.calories)||0,protein:Number((k=re.nutritionalInfo)==null?void 0:k.protein)||0,carbs:Number((M=re.nutritionalInfo)==null?void 0:M.carbs)||0,fat:Number((W=re.nutritionalInfo)==null?void 0:W.fat)||0,fiber:Number((he=re.nutritionalInfo)==null?void 0:he.fiber)||0}};console.log("Product form data being sent:",Oe),console.log("Main image:",Oe.image),console.log("Additional images:",Oe.images);const _t=await H.post(`${yr}/products`,Oe,{headers:{Authorization:`Bearer ${fe}`}});console.log("Product creation response:",_t.data),P.success("Product added successfully!"),wa(),$(!1),zd()}catch(fe){console.error("Error adding product:",fe),P.error("Failed to add product")}finally{le(!1)}},Qx=async()=>{var h,k,M,W,he;try{le(!0);const fe=localStorage.getItem("token"),Oe={...re,price:Number(re.price),originalPrice:Number(re.originalPrice),stock:Number(re.stock),image:r(re.image),images:re.images.map(_t=>r(_t)),nutritionalInfo:{calories:Number((h=re.nutritionalInfo)==null?void 0:h.calories)||0,protein:Number((k=re.nutritionalInfo)==null?void 0:k.protein)||0,carbs:Number((M=re.nutritionalInfo)==null?void 0:M.carbs)||0,fat:Number((W=re.nutritionalInfo)==null?void 0:W.fat)||0,fiber:Number((he=re.nutritionalInfo)==null?void 0:he.fiber)||0}};console.log("Updating product with ID:",ee._id),console.log("Product data being updated:",Oe),await H.put(`${yr}/products/${ee._id}`,Oe,{headers:{Authorization:`Bearer ${fe}`}}),P.success("Product updated successfully!"),wa(),N(!1),ae(null),zd()}catch(fe){console.error("Error updating product:",fe),P.error("Failed to update product")}finally{le(!1)}},Kx=async h=>{if(window.confirm("Are you sure you want to delete this product?"))try{const k=localStorage.getItem("token");await H.delete(`${yr}/products/${h}`,{headers:{Authorization:`Bearer ${k}`}}),P.success("Product deleted successfully!"),wa()}catch(k){console.error("Error deleting product:",k),P.error("Failed to delete product")}},Yx=h=>{ae(h),pe(h),ze({name:h.name||"",description:h.description||"",price:h.price||"",originalPrice:h.originalPrice||"",discount:h.discount||"",category:h.category||"",stock:h.stock||"",weight:h.weight||"",image:h.image||"",images:h.images||[],isActive:h.isActive!==void 0?h.isActive:!0}),N(!0)},Ud=o.filter(h=>{var W,he;const k=h.orderNumber.toLowerCase().includes(be.toLowerCase())||((W=h.shippingAddress)==null?void 0:W.name.toLowerCase().includes(be.toLowerCase()))||((he=h.shippingAddress)==null?void 0:he.phone.includes(be)),M=we==="all"||h.status===we;return k&&M}),Bd=d.filter(h=>{const k=h.name.toLowerCase().includes(be.toLowerCase())||h.email.toLowerCase().includes(be.toLowerCase())||h.subject.toLowerCase().includes(be.toLowerCase()),M=me==="all"||h.status===me;return k&&M}),on={total:o.length,pending:o.filter(h=>h.status==="pending").length,processing:o.filter(h=>h.status==="processing").length,shipped:o.filter(h=>h.status==="shipped").length,delivered:o.filter(h=>h.status==="delivered").length},Na={total:d.length,pending:d.filter(h=>h.status==="pending").length,inProgress:d.filter(h=>h.status==="in-progress").length,resolved:d.filter(h=>h.status==="resolved").length},ka={total:u.length,active:u.filter(h=>h.isActive!==!1).length,outOfStock:u.filter(h=>h.stock<=0).length,lowStock:u.filter(h=>h.stock>0&&h.stock<=10).length},Jx=[...new Set(u.map(h=>h.category))].filter(Boolean),Hd=u.filter(h=>{const k=h.name.toLowerCase().includes(Me.toLowerCase())||h.category.toLowerCase().includes(Me.toLowerCase()),M=!fr||h.category===fr,W=!ss||ss==="in-stock"&&h.stock>10||ss==="low-stock"&&h.stock>0&&h.stock<=10||ss==="out-of-stock"&&h.stock<=0;return k&&M&&W});return p?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-desi-brown"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-desi-brown mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Manage orders and customer inquiries"}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsxs("button",{onClick:()=>i("orders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="orders"?"border-desi-gold text-desi-brown":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Qe,{className:"w-5 h-5 inline-block mr-2"}),"Orders Management"]}),s.jsxs("button",{onClick:()=>i("contacts"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="contacts"?"border-desi-gold text-desi-brown":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Vl,{className:"w-5 h-5 inline-block mr-2"}),"Contact Management"]}),s.jsxs("button",{onClick:()=>i("products"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="products"?"border-desi-gold text-desi-brown":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Wa,{className:"w-5 h-5 inline-block mr-2"}),"Products Management"]}),s.jsxs("button",{onClick:()=>i("promocodes"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="promocodes"?"border-desi-gold text-desi-brown":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ql,{className:"w-5 h-5 inline-block mr-2"}),"Promocodes"]}),s.jsxs("button",{onClick:()=>i("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="settings"?"border-desi-gold text-desi-brown":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(wc,{className:"w-5 h-5 inline-block mr-2"}),"Settings"]})]})}),l==="orders"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[["Total Orders",on.total,Qe,"border-desi-gold"],["Pending",on.pending,zr,"border-yellow-500"],["Processing",on.processing,Qe,"border-indigo-500"],["Shipped",on.shipped,Jr,"border-purple-500"],["Delivered",on.delivered,de,"border-green-500"]].map(([h,k,M,W])=>s.jsx("div",{className:`bg-white rounded-xl shadow-md p-6 border-l-4 ${W}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-sm",children:h}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k})]}),s.jsx(M,{className:"w-8 h-8 text-desi-gold"})]})},h))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8 grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by order number, name, or phone...",value:be,onChange:h=>Q(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-desi-gold"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{value:we,onChange:h=>Fe(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-desi-gold appearance-none",children:[s.jsx("option",{value:"all",children:"All Status"}),Object.entries(ba).map(([h,k])=>s.jsx("option",{value:h,children:k.label},h))]}),s.jsx(Sx,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:Ud.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No orders found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-desi-cream",children:s.jsx("tr",{children:["Order #","Customer","Date","Items","Total","Payment","Status","Actions"].map(h=>s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-desi-brown",children:h},h))})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:Ud.map(h=>{var W,he,fe,Oe,_t,cn,Sa;const k=ba[h.status],M=k.icon;return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsxs("td",{className:"px-6 py-4 font-mono font-semibold",children:["#",h.orderNumber]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:((W=h.user)==null?void 0:W.name)||((he=h.shippingAddress)==null?void 0:he.name)}),s.jsx("p",{className:"text-sm text-gray-600",children:(fe=h.user)==null?void 0:fe.email}),s.jsx("p",{className:"text-sm text-gray-500",children:((Oe=h.user)==null?void 0:Oe.phone)||((_t=h.shippingAddress)==null?void 0:_t.phone)})]})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:new Date(h.createdAt).toLocaleDateString("en-IN")}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"font-medium",children:[h.items.length," items"]}),s.jsxs("div",{className:"text-xs text-gray-500 max-w-32",children:[(cn=h.items)==null?void 0:cn.slice(0,2).map((dn,Gx)=>{var vu;return s.jsxs("div",{className:"truncate",children:[dn.quantity," ",((vu=dn.product)==null?void 0:vu.name)||dn.name||"Product"]},Gx)}),((Sa=h.items)==null?void 0:Sa.length)>2&&s.jsxs("div",{className:"text-gray-400",children:["+",h.items.length-2," more..."]})]})]})}),s.jsxs("td",{className:"px-6 py-4 font-semibold",children:["",h.totalPrice.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h.isPaid?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:h.paymentInfo.method.toUpperCase()})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${k.bgColor} ${k.color}`,children:[s.jsx(M,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"text-sm font-semibold",children:k.label})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>{U(h),R(!0)},className:"text-desi-gold hover:text-yellow-600",children:s.jsx(Qa,{className:"w-5 h-5"})})})]},h._id)})})]})})}),oe&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-desi-gold to-yellow-600 p-6 text-white flex justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),s.jsx("button",{onClick:()=>R(!1),className:"text-white hover:text-gray-200",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 text-desi-brown flex items-center",children:[s.jsx(Ps,{className:"w-5 h-5 mr-2"}),"Customer Information"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Account Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",((Vd=A.user)==null?void 0:Vd.name)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",((qd=A.user)==null?void 0:qd.email)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",((Wd=A.user)==null?void 0:Wd.phone)||"N/A"]})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-3",children:"Shipping Address"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Deliver To:"})," ",(Qd=A.shippingAddress)==null?void 0:Qd.name]}),s.jsxs("p",{children:[s.jsx(es,{className:"w-4 h-4 inline mr-2"}),(Kd=A.shippingAddress)==null?void 0:Kd.phone]}),s.jsxs("p",{children:[s.jsx(is,{className:"w-4 h-4 inline mr-2"}),(Yd=A.shippingAddress)==null?void 0:Yd.street,", ",(Jd=A.shippingAddress)==null?void 0:Jd.city,", ",(Gd=A.shippingAddress)==null?void 0:Gd.state," - ",(Xd=A.shippingAddress)==null?void 0:Xd.pincode]})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 text-desi-brown flex items-center",children:[s.jsx(Tx,{className:"w-5 h-5 mr-2"}),"Order Summary"]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:s.jsx("strong",{children:"Order #:"})}),s.jsxs("span",{className:"font-mono font-bold",children:["#",A.orderNumber]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:s.jsx("strong",{children:"Order Date:"})}),s.jsx("span",{children:new Date(A.createdAt).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:s.jsx("strong",{children:"Payment Method:"})}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${A.isPaid?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[(eu=(Zd=A.paymentInfo)==null?void 0:Zd.method)==null?void 0:eu.toUpperCase()," ",A.isPaid?"(Paid)":"(Pending)"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:s.jsx("strong",{children:"Items:"})}),s.jsxs("span",{children:[((tu=A.items)==null?void 0:tu.length)||0," items"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2",children:[s.jsx("span",{children:"Total Amount:"}),s.jsxs("span",{className:"text-desi-brown",children:["",(su=A.totalPrice)==null?void 0:su.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 text-desi-brown flex items-center",children:[s.jsx(Qe,{className:"w-5 h-5 mr-2"}),"Ordered Products"]}),s.jsxs("div",{className:"space-y-3",children:[(ru=A.items)==null?void 0:ru.map((h,k)=>{var M,W,he,fe,Oe;return s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden",children:[(M=h.product)!=null&&M.image||h.image?s.jsx("img",{src:((W=h.product)==null?void 0:W.image)||h.image,alt:((he=h.product)==null?void 0:he.name)||h.name,className:"w-full h-full object-cover",onError:_t=>{_t.target.style.display="none",_t.target.nextSibling.style.display="flex"}}):null,s.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:s.jsx(Qe,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:((fe=h.product)==null?void 0:fe.name)||h.name||"Product Name Not Available"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[h.weight&&s.jsxs("p",{children:[s.jsx("strong",{children:"Weight:"})," ",h.weight]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Unit Price:"})," ",(Oe=h.price)==null?void 0:Oe.toFixed(2)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Quantity:"})," ",h.quantity]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-desi-brown",children:["",(h.price*h.quantity).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["",h.price,"  ",h.quantity]})]})]})})]})},k)}),(!A.items||A.items.length===0)&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Qe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No product details available"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-desi-brown",children:"Update Status"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(ba).map(([h,k])=>{const M=k.icon;return s.jsxs("button",{onClick:()=>zx(A._id,h),disabled:kt||A.status===h,className:`p-4 rounded-lg border-2 transition ${A.status===h?`${k.borderColor} ${k.bgColor}`:"border-gray-200 hover:border-desi-gold"}`,children:[s.jsx(M,{className:`w-6 h-6 mx-auto mb-2 ${k.color}`}),s.jsx("p",{className:"text-sm font-semibold",children:k.label})]},h)})})]})]})]})})]}),l==="contacts"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[["Total Contacts",Na.total,Vl,"border-desi-gold"],["Pending",Na.pending,zr,"border-yellow-500"],["In Progress",Na.inProgress,Qa,"border-blue-500"],["Resolved",Na.resolved,de,"border-green-500"]].map(([h,k,M,W])=>s.jsx("div",{className:`bg-white p-6 rounded-lg shadow-sm border-l-4 ${W}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:h}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k})]}),s.jsx(M,{className:"w-8 h-8 text-gray-400"})]})},h))}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex-1 max-w-lg",children:s.jsxs("div",{className:"relative",children:[s.jsx(fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or subject...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",value:be,onChange:h=>Q(h.target.value)})]})}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",value:me,onChange:h=>Z(h.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"})]})]})})]})}),v?s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-desi-brown mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Loading contacts..."})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Bd.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No contacts found"})}):Bd.map(h=>{const k=Ni[h.status];return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(gs,{className:"w-4 h-4 mr-1"}),h.email]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(es,{className:"w-4 h-4 mr-1"}),h.phone]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:h.subject}),s.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:h.message.length>50?h.message.substring(0,50)+"...":h.message})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.bgColor} ${k.color} ${k.borderColor} border`,children:k.label})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(nN,{className:"w-4 h-4 mr-1"}),new Date(h.createdAt).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:s.jsxs("button",{onClick:()=>{O(h),V(!0)},className:"text-desi-brown hover:text-desi-gold flex items-center space-x-1",children:[s.jsx(vc,{className:"w-4 h-4"}),s.jsx("span",{children:"View"})]})})]},h._id)})})]})})]}),l==="products"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-blue-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total Products"}),s.jsx("p",{className:"text-2xl font-bold text-blue-800",children:ka.total})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Wa,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-green-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Active Products"}),s.jsx("p",{className:"text-2xl font-bold text-green-800",children:ka.active})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(de,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-red-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Out of Stock"}),s.jsx("p",{className:"text-2xl font-bold text-red-800",children:ka.outOfStock})]}),s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(rt,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-yellow-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-600 text-sm font-medium",children:"Low Stock"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:ka.lowStock})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx(sN,{className:"w-6 h-6 text-yellow-600"})})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-desi-brown",children:"Products Management"}),s.jsxs("button",{onClick:()=>{ze({name:"",description:"",price:"",originalPrice:"",discount:"",category:"",stock:"",weight:"",image:"",images:[],isActive:!0}),pe(null),ln(""),N(!0)},className:"bg-desi-gold text-desi-brown px-4 py-2 rounded-lg hover:bg-yellow-500 transition flex items-center space-x-2",children:[s.jsx(ta,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Product"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Search products...",value:Me,onChange:h=>fa(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent"})}),s.jsx("div",{children:s.jsxs("select",{value:fr,onChange:h=>nn(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Categories"}),Jx.map(h=>s.jsx("option",{value:h,children:h},h))]})}),s.jsx("div",{children:s.jsxs("select",{value:ss,onChange:h=>xa(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Stock Levels"}),s.jsx("option",{value:"in-stock",children:"In Stock"}),s.jsx("option",{value:"low-stock",children:"Low Stock"}),s.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})})]}),C?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-desi-gold mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Loading products..."})]}):Hd.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wa,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"No products found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Hd.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[h.image?s.jsxs("div",{className:"relative mr-4",children:[s.jsx("img",{src:t(h.image),alt:h.name,className:"h-12 w-12 rounded-lg object-cover"}),h.images&&h.images.length>0&&s.jsxs("span",{className:"absolute -top-1 -right-1 bg-desi-gold text-desi-brown text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:["+",h.images.length]})]}):s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center mr-4",children:s.jsx(Wa,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),s.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:h.description}),h.images&&h.images.length>0&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[h.images.length+1," image",h.images.length+1!==1?"s":""," total"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"font-medium",children:["",h.price]}),h.originalPrice&&h.originalPrice>h.price&&s.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["",h.originalPrice]}),h.discount&&s.jsxs("span",{className:"text-xs text-green-600",children:["-",h.discount,"%"]})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`text-sm font-medium ${h.stock<=0?"text-red-600":h.stock<=10?"text-yellow-600":"text-green-600"}`,children:h.stock}),h.stock<=0&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Out of Stock"}),h.stock>0&&h.stock<=10&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Low Stock"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.isActive!==!1?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive!==!1?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>Yx(h),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Product",children:s.jsx(Qa,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Kx(h._id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Product",disabled:Te===h._id,children:Te===h._id?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):s.jsx(ra,{className:"w-4 h-4"})})]})})]},h._id))})]})})]})]}),L&&T&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-desi-brown",children:"Contact Details"}),s.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 text-desi-brown flex items-center",children:[s.jsx(Ps,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",T.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",T.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",T.phone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Subject:"})," ",T.subject]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",new Date(T.createdAt).toLocaleString()]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-desi-brown",children:"Message"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:T.message})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-desi-brown",children:"Update Status"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(Ni).map(([h,k])=>s.jsx("button",{onClick:()=>Ux(T._id,h),disabled:kt||T.status===h,className:`p-3 rounded-lg border-2 transition ${T.status===h?`${k.bgColor} ${k.borderColor} ${k.color}`:"border-gray-200 hover:border-gray-300"} ${kt?"opacity-50 cursor-not-allowed":""}`,children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:`text-sm font-medium ${T.status===h?k.color:"text-gray-700"}`,children:k.label})})},h))})]})]})]})}),z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-desi-brown",children:ee?"Edit Product":"Add New Product"}),s.jsx("button",{onClick:()=>{N(!1),pe(null),ze({name:"",description:"",price:"",originalPrice:"",discount:"",category:"",stock:"",weight:"",image:"",isActive:!0})},className:"text-gray-400 hover:text-gray-600",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:qx,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),s.jsx("input",{type:"text",required:!0,value:re.name,onChange:h=>ze(k=>({...k,name:h.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"Enter product name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{required:!0,rows:4,value:re.description,onChange:h=>ze(k=>({...k,description:h.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent resize-none",placeholder:"Enter product description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),_x?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",required:!0,value:bi,onChange:h=>ya(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"Enter custom category",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:Fx,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Add"}),s.jsx("button",{type:"button",onClick:()=>{ga(!1),ya("")},className:"px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600",children:"Cancel"})]})]}):s.jsxs("select",{required:!0,value:re.category,onChange:Ix,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a category"}),bs.map((h,k)=>s.jsx("option",{value:h,children:h},k)),s.jsx("option",{value:"__ADD_CUSTOM__",children:"+ Add Custom Category"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:re.price,onChange:h=>{const k=h.target.value;ze(M=>{const W=a(M.originalPrice,k);return{...M,price:k,discount:W||M.discount}})},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),s.jsx("input",{type:"number",required:!0,min:"0",value:re.stock,onChange:h=>ze(k=>({...k,stock:h.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight/Package Size"}),s.jsx("input",{type:"text",value:re.weight,onChange:h=>ze(k=>({...k,weight:h.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"e.g., 250g, 500g, 1kg"})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:s.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:[s.jsx("strong",{children:" Smart Pricing:"})," Enter original price and discount % to auto-calculate final price, or enter final price to auto-calculate discount %."]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:re.originalPrice,onChange:h=>{const k=h.target.value;ze(M=>{const W=n(k,M.discount);return{...M,originalPrice:k,price:W||M.price}})},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"0.00"})]}),re.originalPrice&&re.price&&parseFloat(re.price)<parseFloat(re.originalPrice)&&s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["You Save: ",Math.round(parseFloat(re.originalPrice)-parseFloat(re.price)),re.discount&&` (${re.discount}% discount)`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount (%)"}),s.jsxs("div",{className:"relative",children:[s.jsx(pN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"number",min:"0",max:"100",value:re.discount,onChange:h=>{const k=h.target.value;ze(M=>{const W=n(M.originalPrice,k);return{...M,discount:k,price:W||M.price}})},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"0"})]}),re.originalPrice&&re.discount&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Calculated Price: ",n(re.originalPrice,re.discount),re.discount&&` (${re.discount}% off)`]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Product Image"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{type:"button",onClick:()=>$d("url"),className:`px-3 py-1 text-sm rounded-md ${wi==="url"?"bg-desi-gold text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Image URL"}),s.jsx("button",{type:"button",onClick:()=>$d("upload"),className:`px-3 py-1 text-sm rounded-md ${wi==="upload"?"bg-desi-gold text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Upload Image"})]}),wi==="url"?s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:re.image,onChange:h=>ze(k=>({...k,image:h.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"https://example.com/image.jpg or /Product_Images/product.jpg"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter full URL (https://...) or relative path (/Product_Images/...)"})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{ref:Id,type:"file",accept:"image/*",onChange:$x,className:"hidden"}),s.jsxs("button",{type:"button",onClick:()=>{var h;return(h=Id.current)==null?void 0:h.click()},disabled:an,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(lo,{className:"w-4 h-4"}),an?"Uploading...":"Choose Image"]}),an&&s.jsx("div",{className:"text-sm text-gray-600",children:"Please wait while uploading..."})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload JPG, PNG, or WebP images (max 5MB)"})]}),re.image&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Main Image Preview:"}),s.jsx("img",{src:t(re.image),alt:"Preview",className:"h-24 w-24 rounded-lg object-cover border border-gray-200",onError:h=>{h.target.style.display="none",h.target.nextSibling.style.display="flex"},onLoad:h=>{h.target.style.display="block",h.target.nextSibling.style.display="none"}}),s.jsx("div",{className:"h-24 w-24 rounded-lg bg-gray-100 border border-gray-200 flex items-center justify-center",style:{display:"none"},children:s.jsx("span",{className:"text-xs text-gray-500",children:"Invalid image"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Images (Optional)"}),s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:ji,onChange:h=>ln(h.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-transparent",placeholder:"Enter image URL..."}),s.jsx("button",{type:"button",onClick:()=>{Vx(ji),ln("")},disabled:!ji.trim(),className:"px-4 py-2 bg-desi-gold text-white rounded-lg hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]})}),s.jsxs("div",{className:"mb-3",children:[s.jsx("input",{ref:Fd,type:"file",accept:"image/*",multiple:!0,onChange:Bx,className:"hidden"}),s.jsxs("button",{type:"button",onClick:()=>{var h;return(h=Fd.current)==null?void 0:h.click()},disabled:an,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(lo,{className:"w-4 h-4"}),an?"Uploading...":"Upload Multiple Images"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select multiple images to upload at once"})]}),re.images.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Additional Images:"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:re.images.map((h,k)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:t(h),alt:`Additional ${k+1}`,className:"h-20 w-20 rounded-lg object-cover border border-gray-200"}),s.jsx("button",{type:"button",onClick:()=>Hx(k),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},k))})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:re.isActive,onChange:h=>ze(k=>({...k,isActive:h.target.checked})),className:"h-4 w-4 text-desi-gold focus:ring-desi-gold border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Product is active and visible to customers"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:()=>{N(!1),pe(null),ze({name:"",description:"",price:"",originalPrice:"",discount:"",category:"",stock:"",weight:"",image:"",images:[],isActive:!0}),ln("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:se,className:"bg-desi-gold text-desi-brown px-6 py-2 rounded-lg hover:bg-yellow-500 transition flex items-center space-x-2 disabled:opacity-50",children:se?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-desi-brown"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(In,{className:"w-4 h-4"}),s.jsx("span",{children:ee?"Update Product":"Add Product"})]})})]})]})]})}),l==="promocodes"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-desi-brown",children:"Promocodes Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage discount codes and promotional offers"})]}),s.jsxs("button",{onClick:()=>{Ot(null),ja(),Y(!0)},className:"bg-desi-gold text-desi-brown px-4 py-2 rounded-lg hover:bg-yellow-500 transition flex items-center space-x-2",children:[s.jsx(ta,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Promocode"})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search promocodes...",value:vi,onChange:h=>Ox(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold focus:border-desi-gold"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:Rx?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-desi-gold mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading promocodes..."})]}):j.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(ql,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No promocodes found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valid Until"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.filter(h=>h.code.toLowerCase().includes(vi.toLowerCase())||h.description.toLowerCase().includes(vi.toLowerCase())).map(h=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:h.code})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:h.description})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:h.type==="percentage"?`${h.value}%`:`${h.value}`})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:new Date(h.endDate).toLocaleDateString()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[h.usageCount||0,"/",h.usageLimit||""]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[s.jsx("button",{onClick:()=>{Ot(h);const k=(h.products||[]).map(M=>typeof M=="object"?M._id:M);We({code:h.code,description:h.description,discountType:h.type,discountValue:h.value,applicationType:h.applicableOn,applicableProducts:k,applicableCategories:h.categories||[],minOrderValue:h.minOrderValue||"",maxDiscountAmount:h.maxDiscount||"",usageLimit:h.usageLimit||"",userUsageLimit:h.userUsageLimit||"",isActive:h.isActive,validFrom:h.startDate?h.startDate.split("T")[0]:"",validUntil:h.endDate?h.endDate.split("T")[0]:""}),Y(!0)},className:"text-desi-brown hover:text-desi-gold",children:s.jsx(Qa,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Dx(h._id),className:"text-red-600 hover:text-red-900",children:s.jsx(ra,{className:"w-4 h-4"})})]})]},h._id))})]})})})]}),l==="settings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-desi-brown",children:"Settings Management"}),s.jsx("p",{className:"text-gray-600",children:"Configure pricing, shipping, and business settings"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ao,{className:"w-5 h-5 mr-2 text-green-600"}),"Pricing & Tax Configuration"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Percentage (GST %)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:((nu=Vt.pricing)==null?void 0:nu.taxRate)??"",onChange:h=>qt(k=>({...k,pricing:{...k.pricing,taxRate:Number(h.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"18.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"GST percentage applied to all orders"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"COD Charges ()"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:((au=Vt.pricing)==null?void 0:au.codCharges)??"",onChange:h=>qt(k=>({...k,pricing:{...k.pricing,codCharges:Number(h.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"25.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional charges for Cash on Delivery orders"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(wc,{className:"w-5 h-5 mr-2 text-blue-600"}),"Business Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),s.jsx("input",{type:"text",value:((lu=Vt.business)==null?void 0:lu.companyName)||"",onChange:h=>qt(k=>({...k,business:{...k.business,companyName:h.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:((iu=Vt.business)==null?void 0:iu.email)||"",onChange:h=>qt(k=>({...k,business:{...k.business,email:h.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:((ou=Vt.business)==null?void 0:ou.phone)||"",onChange:h=>qt(k=>({...k,business:{...k.business,phone:h.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number"}),s.jsx("input",{type:"text",value:((cu=Vt.business)==null?void 0:cu.gstNumber)||"",onChange:h=>qt(k=>({...k,business:{...k.business,gstNumber:h.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Qe,{className:"w-5 h-5 mr-2 text-purple-600"}),"Shipping Configuration"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Charge ()"}),s.jsx("input",{type:"number",step:"0.01",value:((mu=(uu=(du=Vt.pricing)==null?void 0:du.shippingCharges)==null?void 0:uu.standard)==null?void 0:mu.rate)??"",onChange:h=>qt(k=>{var M,W,he;return{...k,pricing:{...k.pricing,shippingCharges:{...((M=k.pricing)==null?void 0:M.shippingCharges)||{},standard:{...((he=(W=k.pricing)==null?void 0:W.shippingCharges)==null?void 0:he.standard)||{},rate:Number(h.target.value)}}}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"99.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard shipping fee charged to customers"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Free Shipping Threshold ()"}),s.jsx("input",{type:"number",step:"0.01",value:((fu=(pu=(hu=Vt.pricing)==null?void 0:hu.shippingCharges)==null?void 0:pu.standard)==null?void 0:fu.freeShippingThreshold)??"",onChange:h=>qt(k=>{var M,W,he;return{...k,pricing:{...k.pricing,shippingCharges:{...((M=k.pricing)==null?void 0:M.shippingCharges)||{},standard:{...((he=(W=k.pricing)==null?void 0:W.shippingCharges)==null?void 0:he.standard)||{},freeShippingThreshold:Number(h.target.value)}}}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"500.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Order amount above which shipping becomes free"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:((yu=(gu=(xu=Vt.pricing)==null?void 0:xu.shippingCharges)==null?void 0:gu.standard)==null?void 0:yu.freeShippingEnabled)!==!1,onChange:h=>qt(k=>{var M,W,he;return{...k,pricing:{...k.pricing,shippingCharges:{...((M=k.pricing)==null?void 0:M.shippingCharges)||{},standard:{...((he=(W=k.pricing)==null?void 0:W.shippingCharges)==null?void 0:he.standard)||{},freeShippingEnabled:h.target.checked}}}}}),className:"rounded border-gray-300 text-desi-gold focus:ring-desi-gold"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable Free Shipping"})]}),s.jsx("p",{className:"text-xs text-gray-500 ml-6",children:"Allow customers to get free shipping when they reach the threshold"})]})]})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:Mx,className:"bg-desi-gold text-desi-brown px-6 py-2 rounded-lg hover:bg-yellow-500 transition flex items-center space-x-2",children:[s.jsx(In,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Settings"})]})})]}),B&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:He?"Edit Promocode":"Add New Promocode"}),s.jsx("button",{onClick:()=>{Y(!1),Ot(null),ja()},className:"text-gray-400 hover:text-gray-600",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:Lx,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promocode *"}),s.jsx("input",{type:"text",required:!0,value:G.code,onChange:h=>We(k=>({...k,code:h.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"SAVE20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type *"}),s.jsxs("select",{required:!0,value:G.discountType,onChange:h=>We(k=>({...k,discountType:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",children:[s.jsx("option",{value:"percentage",children:"Percentage (%)"}),s.jsx("option",{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{required:!0,value:G.description,onChange:h=>We(k=>({...k,description:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",rows:"2",placeholder:"Get 20% off on all orders above 500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apply To *"}),s.jsxs("select",{required:!0,value:G.applicationType,onChange:h=>{const k=h.target.value;We(M=>({...M,applicationType:k,applicableProducts:[],applicableCategories:[]}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",children:[s.jsx("option",{value:"all",children:"Site-wide (All Products)"}),s.jsx("option",{value:"product",children:"Specific Products"}),s.jsx("option",{value:"category",children:"Specific Categories"})]})]}),G.applicationType==="product"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Products *"}),G.applicableProducts.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-sm text-green-600 font-medium mb-2",children:[" ",G.applicableProducts.length," product(s) selected:"]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:G.applicableProducts.map(h=>{const k=u==null?void 0:u.find(M=>M._id===h);return k?s.jsxs("div",{className:"bg-desi-gold bg-opacity-20 text-desi-brown px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[s.jsx("span",{children:k.name}),s.jsx("button",{type:"button",onClick:()=>{We(M=>({...M,applicableProducts:M.applicableProducts.filter(W=>W!==h)}))},className:"text-red-500 hover:text-red-700",children:""})]},h):null})})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("select",{value:"",onChange:h=>{h.target.value&&!G.applicableProducts.includes(h.target.value)&&We(k=>({...k,applicableProducts:[...k.applicableProducts,h.target.value]}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",children:[s.jsx("option",{value:"",children:"Choose a product to add..."}),u&&u.length>0?u.filter(h=>!G.applicableProducts.includes(h._id)).map(h=>s.jsxs("option",{value:h._id,children:[h.name," - ",h.price," (",h.category,")"]},h._id)):s.jsx("option",{disabled:!0,children:"Loading products..."})]})}),G.applicableProducts.length===0&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please select at least one product"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(u==null?void 0:u.length)||0," products available"]})]}),G.applicationType==="category"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Categories *"}),G.applicableCategories.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-sm text-green-600 font-medium mb-2",children:[" ",G.applicableCategories.length," categor",G.applicableCategories.length===1?"y":"ies"," selected:"]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:G.applicableCategories.map(h=>s.jsxs("div",{className:"bg-desi-gold bg-opacity-20 text-desi-brown px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[s.jsx("span",{children:h.replace("-"," ").toUpperCase()}),s.jsx("button",{type:"button",onClick:()=>{We(k=>({...k,applicableCategories:k.applicableCategories.filter(M=>M!==h)}))},className:"text-red-500 hover:text-red-700",children:""})]},h))})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("select",{value:"",onChange:h=>{h.target.value&&!G.applicableCategories.includes(h.target.value)&&We(k=>({...k,applicableCategories:[...k.applicableCategories,h.target.value]}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",children:[s.jsx("option",{value:"",children:"Choose a category to add..."}),bs&&bs.length>0?bs.filter(h=>!G.applicableCategories.includes(h)).map(h=>s.jsx("option",{value:h,children:h.replace("-"," ").toUpperCase()},h)):s.jsx("option",{disabled:!0,children:"Loading categories..."})]})}),G.applicableCategories.length===0&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please select at least one category"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(bs==null?void 0:bs.length)||0," categories available"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Value *"}),s.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:G.discountValue,onChange:h=>We(k=>({...k,discountValue:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order Value ()"}),s.jsx("input",{type:"number",min:"0",value:G.minOrderValue,onChange:h=>We(k=>({...k,minOrderValue:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount ()"}),s.jsx("input",{type:"number",min:"0",value:G.maxDiscountAmount,onChange:h=>We(k=>({...k,maxDiscountAmount:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"200"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From *"}),s.jsx("input",{type:"date",required:!0,value:G.validFrom,onChange:h=>We(k=>({...k,validFrom:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until *"}),s.jsx("input",{type:"date",required:!0,value:G.validUntil,onChange:h=>We(k=>({...k,validUntil:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Usage Limit"}),s.jsx("input",{type:"number",min:"1",value:G.usageLimit,onChange:h=>We(k=>({...k,usageLimit:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per User Limit"}),s.jsx("input",{type:"number",min:"1",value:G.userUsageLimit,onChange:h=>We(k=>({...k,userUsageLimit:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-desi-gold",placeholder:"1"})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:G.isActive,onChange:h=>We(k=>({...k,isActive:h.target.checked})),className:"rounded border-gray-300 text-desi-gold focus:ring-desi-gold"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:()=>{Y(!1),Ot(null),ja()},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"bg-desi-gold text-desi-brown px-6 py-2 rounded-lg hover:bg-yellow-500 transition flex items-center space-x-2",children:[s.jsx(In,{className:"w-4 h-4"}),s.jsx("span",{children:He?"Update Promocode":"Create Promocode"})]})]})]})]})})})]})})},WN=()=>{const{user:e}=lt(),{addToCart:t}=Ks(),[r,n]=f.useState([]),[a,l]=f.useState(!0),[i,o]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{try{l(!0);const u=await Ad();n(u)}catch(u){console.error("Failed to fetch wishlist:",u),P.error("Failed to load wishlist")}finally{l(!1)}},d=async u=>{try{o(u),await Gj(u),n(r.filter(x=>x._id!==u)),P.success("Removed from wishlist")}catch(x){console.error("Failed to remove from wishlist:",x),P.error("Failed to remove from wishlist")}finally{o(null)}},m=u=>{var x;t({_id:u._id,name:u.name,price:u.price,image:u.image||((x=u.images)==null?void 0:x[0]),weight:u.weight}),P.success("Added to cart",{duration:1500})};return e?a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-desi-cream via-white to-desi-cream flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-desi-gold mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your wishlist..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-desi-cream via-white to-desi-cream py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(J,{to:"/profile",className:"inline-flex items-center space-x-2 text-desi-brown hover:text-desi-gold transition-colors mb-4",children:[s.jsx(Mr,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Profile"})]}),s.jsx("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-red-400 to-pink-500 p-4 rounded-3xl",children:s.jsx(us,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Wishlist"}),s.jsxs("p",{className:"text-gray-600",children:[r.length," ",r.length===1?"item":"items"," in your wishlist"]})]})]})})]}),r.length===0?s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-16 text-center border border-gray-100",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-8 w-32 h-32 flex items-center justify-center mx-auto mb-6",children:s.jsx(us,{className:"w-16 h-16 text-gray-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Your wishlist is empty"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Start adding products you love to your wishlist. You can easily add them to cart later!"}),s.jsx(J,{to:"/products",className:"bg-gradient-to-r from-desi-gold to-yellow-600 text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all duration-300 transform hover:scale-105 font-semibold",children:"Browse Products"})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(u=>{var x;return s.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden group hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:u.image||((x=u.images)==null?void 0:x[0]),alt:u.name,className:"w-full h-48 object-cover"}),s.jsx("button",{onClick:()=>d(u._id),disabled:i===u._id,className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full text-red-500 hover:bg-red-500 hover:text-white transition-all duration-300 shadow-lg",title:"Remove from wishlist",children:i===u._id?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):s.jsx(ra,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2",children:u.name}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("span",{className:"text-2xl font-bold text-desi-gold",children:["",u.price]}),u.weight&&s.jsx("span",{className:"text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded-lg",children:u.weight})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>m(u),className:"flex-1 bg-gradient-to-r from-desi-gold to-yellow-600 text-white px-4 py-3 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold flex items-center justify-center space-x-2",children:[s.jsx(yi,{className:"w-4 h-4"}),s.jsx("span",{children:"Add to Cart"})]}),s.jsx(J,{to:`/products/${u._id}`,className:"bg-gray-100 text-gray-700 px-4 py-3 rounded-xl hover:bg-gray-200 transition-all duration-300 flex items-center justify-center",title:"View details",children:s.jsx(Qe,{className:"w-4 h-4"})})]})]})]},u._id)})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-desi-cream via-white to-desi-cream flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white p-12 rounded-3xl shadow-2xl border border-desi-cream/50",children:[s.jsx(us,{className:"w-16 h-16 text-red-400 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-desi-brown mb-4",children:"Access Required"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Please login to view your wishlist."}),s.jsx(J,{to:"/login",className:"bg-desi-gold text-white px-8 py-3 rounded-xl hover:bg-yellow-600 transition-all duration-300 transform hover:scale-105 font-semibold",children:"Go to Login"})]})})},QN=()=>{const{user:e}=lt(),[t,r]=f.useState([]),[n,a]=f.useState(null),[l,i]=f.useState(""),[o,c]=f.useState(!0),[d,m]=f.useState("all"),u=f.useRef(null);f.useEffect(()=>{x()},[d]),f.useEffect(()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"})},[n==null?void 0:n.messages]);const x=async()=>{try{const p=(e==null?void 0:e.role)==="admin"?`http://localhost:8080/api/support/admin/all?status=${d!=="all"?d:""}`:"http://localhost:8080/api/support/my-tickets",v=await(await fetch(p,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();v.success&&r(v.tickets)}catch(p){console.error("Error fetching tickets:",p),P.error("Failed to load tickets")}finally{c(!1)}},j=async()=>{if(l.trim())try{const g=await(await fetch(`http://localhost:8080/api/support/admin/${n._id}/reply`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({message:l,status:"in-progress"})})).json();g.success&&(a(g.ticket),i(""),P.success("Reply sent"),x())}catch(p){console.error("Error sending reply:",p),P.error("Failed to send reply")}},y=async()=>{if(window.confirm("Are you sure you want to close this ticket?"))try{const p=prompt("Enter resolution notes:");if(!p)return;(await(await fetch(`http://localhost:8080/api/support/admin/${n._id}/close`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({resolution:p})})).json()).success&&(P.success("Ticket closed"),a(null),x())}catch(p){console.error("Error closing ticket:",p),P.error("Failed to close ticket")}},b=p=>{switch(p){case"open":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=p=>{switch(p){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#D4AF37]"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 h-[calc(100vh-12rem)]",children:[s.jsxs("div",{className:"border-r border-gray-200 overflow-y-auto",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-[#D4AF37]",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:(e==null?void 0:e.role)==="admin"?"All Support Tickets":"My Tickets"}),(e==null?void 0:e.role)==="admin"&&s.jsx("div",{className:"mt-3 flex gap-2",children:["all","open","in-progress","resolved"].map(p=>s.jsx("button",{onClick:()=>m(p),className:`px-3 py-1 rounded text-sm ${d===p?"bg-white text-[#D4AF37]":"bg-[#C5A028] text-white hover:bg-[#B59020]"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),t.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Vl,{className:"mx-auto h-12 w-12 mb-2"}),s.jsx("p",{children:"No tickets found"})]}):s.jsx("div",{children:t.map(p=>{var g;return s.jsxs("div",{onClick:()=>a(p),className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${(n==null?void 0:n._id)===p._id?"bg-blue-50":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:p.userName}),s.jsx("p",{className:"text-sm text-gray-500",children:p.userEmail})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${b(p.status)}`,children:p.status})]}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:(g=p.messages[0])==null?void 0:g.message}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(zr,{className:"h-3 w-3"}),new Date(p.createdAt).toLocaleString()]})]},p._id)})})]}),s.jsx("div",{className:"col-span-2 flex flex-col",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>a(null),className:"md:hidden",children:s.jsx(Mr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:n.userName}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs ${b(n.status)}`,children:n.status}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${w(n.priority)}`,children:n.priority})]})]})]}),(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("a",{href:`tel:${n.userPhone}`,className:"p-2 bg-green-500 text-white rounded hover:bg-green-600",title:"Call Customer",children:s.jsx(es,{className:"h-4 w-4"})}),s.jsx("a",{href:`mailto:${n.userEmail}`,className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600",title:"Email Customer",children:s.jsx(gs,{className:"h-4 w-4"})}),n.status!=="closed"&&s.jsx("button",{onClick:y,className:"px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Close Ticket"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.messages.map((p,g)=>s.jsx("div",{className:`flex ${p.sender==="customer"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${p.sender==="customer"?"bg-[#D4AF37] text-white":p.sender==="agent"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:[p.senderName&&s.jsx("p",{className:"text-xs opacity-80 mb-1",children:p.senderName}),s.jsx("p",{className:"whitespace-pre-wrap",children:p.message}),p.image&&s.jsx("img",{src:`http://localhost:8080${p.image}`,alt:"Attachment",className:"mt-2 rounded max-w-full"}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(p.timestamp).toLocaleTimeString()})]})},g)),s.jsx("div",{ref:u})]}),(e==null?void 0:e.role)==="admin"&&n.status!=="closed"&&s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:l,onChange:p=>i(p.target.value),onKeyPress:p=>p.key==="Enter"&&j(),placeholder:"Type your reply...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-[#D4AF37]"}),s.jsxs("button",{onClick:j,className:"px-4 py-2 bg-[#D4AF37] text-white rounded-lg hover:bg-[#C5A028] flex items-center gap-2",children:[s.jsx(Rd,{className:"h-4 w-4"}),"Send"]})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Vl,{className:"mx-auto h-16 w-16 mb-4"}),s.jsx("p",{className:"text-lg",children:"Select a ticket to view details"})]})})})]})})})})},Ka=({children:e,adminOnly:t=!1})=>{const{user:r,loading:n}=lt();return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-desi-brown"})}):r?t&&r.role!=="admin"?s.jsx($m,{to:"/",replace:!0}):e:s.jsx($m,{to:"/login",replace:!0})},KN=()=>{var o,c;const{id:e}=wd(),[t,r]=f.useState(null),[n,a]=f.useState(!0),[l,i]=f.useState(null);return f.useEffect(()=>{(async()=>{var m,u;try{a(!0);const x=await kj(e);r(x)}catch(x){i(((u=(m=x.response)==null?void 0:m.data)==null?void 0:u.message)||"Failed to load order details")}finally{a(!1)}})()},[e]),n?s.jsxs("div",{className:"flex justify-center items-center h-screen",children:[s.jsx(Ex,{className:"w-6 h-6 animate-spin text-gray-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading order details..."})]}):l?s.jsx("p",{className:"text-center text-red-600 mt-10",children:l}):t?s.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-sm mt-10",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Order Details"}),s.jsxs("div",{className:"border-b pb-4 mb-4",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Order Number:"})," ",t.orderNumber]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Status:"})," ",t.status]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Payment Method:"})," ",(c=(o=t.paymentInfo)==null?void 0:o.method)==null?void 0:c.toUpperCase()]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Payment Status:"})," ",t.isPaid?"Paid ":"Pending "]})]}),s.jsxs("div",{className:"border-b pb-4 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Shipping Address"}),t.shippingAddress?s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{children:t.shippingAddress.address}),s.jsxs("p",{children:[t.shippingAddress.city,", ",t.shippingAddress.state," -"," ",t.shippingAddress.postalCode]}),s.jsx("p",{children:t.shippingAddress.country})]}):s.jsx("p",{className:"text-gray-500",children:"No shipping address available"})]}),s.jsxs("div",{className:"border-b pb-4 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Items"}),t.items&&t.items.length>0?t.items.map((d,m)=>{var y;const u=Number(d.quantity||d.qty||1),x=Number(d.price||0),j=u*x;return s.jsxs("div",{className:"flex items-center py-3 border-t last:border-b-0",children:[d.image&&s.jsx("img",{src:d.image,alt:d.name,className:"w-16 h-16 rounded-md object-cover border"}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:d.name||((y=d.product)==null?void 0:y.name)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u,"  ",x," = ",j.toFixed(2)]})]})]},m)}):s.jsx("p",{className:"text-gray-500",children:"No items found in this order."})]}),s.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Order Summary"}),s.jsxs("p",{className:"text-gray-700 flex justify-between",children:[s.jsx("span",{children:"Items Price:"}),s.jsxs("span",{children:["",Number(t.itemsPrice).toFixed(2)]})]}),s.jsxs("p",{className:"text-gray-700 flex justify-between",children:[s.jsx("span",{children:"Tax:"}),s.jsxs("span",{children:["",Number(t.taxPrice).toFixed(2)]})]}),s.jsxs("p",{className:"text-gray-700 flex justify-between",children:[s.jsx("span",{children:"Shipping:"}),s.jsxs("span",{children:["",Number(t.shippingPrice).toFixed(2)]})]}),s.jsxs("p",{className:"text-gray-900 font-bold flex justify-between mt-2",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["",Number(t.totalPrice).toFixed(2)]})]})]})]}):s.jsx("p",{className:"text-center text-gray-500 mt-10",children:"No order found."})};function YN(){return s.jsx(Qf,{children:s.jsxs(Cv,{children:[s.jsx(CN,{}),s.jsx(jN,{}),s.jsx(kN,{}),s.jsx(wj,{children:s.jsx(Xj,{children:s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(bN,{}),s.jsx("main",{className:"flex-grow",children:s.jsxs(yv,{children:[s.jsx(Ue,{path:"/admin",element:s.jsx(Ka,{adminOnly:!0,children:s.jsx(qN,{})})}),s.jsx(Ue,{path:"/support",element:s.jsx(Ka,{children:s.jsx(QN,{})})}),s.jsx(Ue,{path:"/",element:s.jsx(PN,{})}),s.jsx(Ue,{path:"/products",element:s.jsx(EN,{})}),s.jsx(Ue,{path:"/product/:id",element:s.jsx(RN,{})}),s.jsx(Ue,{path:"/cart",element:s.jsx(ON,{})}),s.jsx(Ue,{path:"/checkout",element:s.jsx($N,{})}),s.jsx(Ue,{path:"/login",element:s.jsx(IN,{})}),s.jsx(Ue,{path:"/register",element:s.jsx(FN,{})}),s.jsx(Ue,{path:"/forgot-password",element:s.jsx(LN,{})}),s.jsx(Ue,{path:"/reset-password/:resettoken",element:s.jsx(DN,{})}),s.jsx(Ue,{path:"/orders",element:s.jsx(MN,{})}),s.jsx(Ue,{path:"/order/:id",element:s.jsx(KN,{})}),s.jsx(Ue,{path:"/profile",element:s.jsx(Ka,{children:s.jsx(zN,{})})}),s.jsx(Ue,{path:"/wishlist",element:s.jsx(Ka,{children:s.jsx(WN,{})})}),s.jsx(Ue,{path:"/about",element:s.jsx(UN,{})}),s.jsx(Ue,{path:"/contact",element:s.jsx(BN,{})}),s.jsx(Ue,{path:"/shipping-policy",element:s.jsx(HN,{})}),s.jsx(Ue,{path:"/returns-policy",element:s.jsx(VN,{})})]})}),s.jsx(wN,{}),s.jsx(SN,{}),s.jsx(gb,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"},success:{iconTheme:{primary:"#D4AF37",secondary:"#fff"}}}})]})})})]})})}co.createRoot(document.getElementById("root")).render(s.jsx(Jt.StrictMode,{children:s.jsx(YN,{})}));
